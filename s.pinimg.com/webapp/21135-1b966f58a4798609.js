"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[21135,81669],{660187:function(e,t,n){n.d(t,{T4:function(){return i},ZR:function(){return a},tS:function(){return o}});var r=n(595371),o=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],i="autoselect_first",a=292},199324:function(e,t){t.Z='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},613316:function(e,t,n){function r(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return o},y:function(){return r}})},78714:function(e,t,n){var r=n(56641),o=n(867820),i=n(954931);t.Z=function(e,t){null!=t&&t.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,r.Z)(e)}},924196:function(e,t){t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}var i=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,n,r,o){if(!o){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:n,url:r});return}window.gtag_report_conversion(e,n,r)}}},{key:"reportFacebookConversion",value:function(e,n,r){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:n,data:r});return}r?window.fbq("track",n,r):window.fbq("track",n)}},{key:"reportCustomFacebookConversion",value:function(e,n,r){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:n,data:r});return}r?window.fbq("trackCustom",n,r):window.fbq("trackCustom",n)}},{key:"reportPinterestConversion",value:function(e,n,r){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:n,data:r});return}r?window.pintrk("track",n,r):window.pintrk("track",n)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(n,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,n){var r=document.createElement("iframe");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("frameborder","0"),r.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(n,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(1e13*Math.random(),"?")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,n){var r=document.createElement("script");n||(r.setAttribute("async",""),r.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),r.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};for(var r=t.queuedGoogleConversions,o=0;o<r.length;o+=1){var i=r[o];i.id===e&&t.reportGoogleConversion(i.id,i.label,i.url,n)}}),document.body.insertBefore(r,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var n,r,o,i,a,c;n=window,r=document,o="script",n.fbq||(i=n.fbq=function(){"function"==typeof i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},n._fbq||(n._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(a=r.createElement(o)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(c=r.getElementsByTagName(o)[0]).parentNode.insertBefore(a,c)),window.fbq("init",e),window.fbq("track","PageView");for(var s=t.queuedFacebookConversions,u=0;u<s.length;u+=1){var l=s[u];l.id===e&&(l.isCustomEvent?t.reportCustomFacebookConversion(e,l.event,l.data):t.reportFacebookConversion(e,l.event,l.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var n=t.queuedPinterestConversions,r=0;r<n.length;r+=1){var o=n[r];o.id===e&&t.reportPinterestConversion(e,o.event,o.data)}}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();r(i,"queuedGoogleConversions",[]),r(i,"queuedFacebookConversions",[]),r(i,"queuedPinterestConversions",[]),t.Z=i},81636:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return f}});var r=n(76911),o=n(16449),i=n.n(o),a=n(112690),c=n(385740),s=n(780280);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,c.sV)().setViewContextData,o=(0,s.B)().requestIdentifier,u=(0,a.Z)(),l=(0,c.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?i()(l,e.view_data):i()({},l),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(p(p({},e),{},{event_type:13,request_identifier:o}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},722767:function(e,t,n){var r=n(76911),o=n(945790);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,p,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(s(e=d.call.apply(d,[this].concat(n))),"observer",null),l(s(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}],a(f.prototype,n),p&&a(f,p),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component);t.Z=d},66211:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(908390),o=n(898781),i=n(515198);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},532975:function(e,t,n){n.d(t,{B:function(){return a},a:function(){return i}});var r=n(957161),o=n(709113),i=function(){return!!r.Z.getItem(o.WM)},a=function(e){r.Z.setItem(o.WM,!!e)}},121093:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(76911),o=n(506979),i=n(112690),a=n(332611),c=n(242923),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(a);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=i.call.apply(i,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),v(h(e),"view",function(){var t=e.props,n=t.experience,r=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject;n&&"viewed"!==n.status&&(r?(n.status="viewed",a(n)):o?i(n.placement_id,n.experience_id,o):i(n.placement_id,n.experience_id))}),v(h(e),"complete",function(t){var n=e.props,r=n.completeExperience,o=n.completeExperienceObject,i=n.experience,a=n.isBackendExperience,c=n.preventRemoval,s=n.targeting,u=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var l=i||{},p=l.placement_id,f=l.experience_id,y=c||2===u;(1===u||y)&&p&&f&&(a?o(i,y):s?r(p,f,y,s):r(p,f,y),e.setState(function(e){return{hasCompleted:[].concat(d(e.hasCompleted),[f])}}))}}),v(h(e),"dismiss",function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,o=t.experience,i=t.isBackendExperience,a=t.preventRemoval,c=t.targeting,s=o||{},u=s.placement_id,l=s.experience_id;o&&!e.state.hasDismissed.includes(l)&&(i?r(o):c?n(u,l,!!a,c):n(u,l,!!a),e.setState(function(e){return{hasDismissed:[].concat(d(e.hasDismissed),[l])}}))}),v(h(e),"isEligibleExperience",function(){var t=e.props.experience;if(!t)return!1;var n=e.props,r=n.eligibleIds,o=n.eligibleTypes,i=n.predicate,a=n.transitionType,c=t.experience_id,s=t.type;return r&&r.length?r.includes(c):o&&o.length?o.includes(s):i?i(t):!a||a===s}),e}return n=[{key:"componentDidMount",value:function(){!this.props.disableAutoView&&this.props.experience&&this.isEligibleExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,o=e.disableAutoView;return n&&this.isEligibleExperience()?"function"==typeof t?t(p({experience:n,complete:this.complete,dismiss:this.dismiss},o?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}],y(a.prototype,n),o&&y(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function x(e){var t=(0,o.useSelector)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)}),n=(0,o.useDispatch)(),r=(0,a.be)(),u=(0,a.Am)(),l=(0,a.Ig)(),d=(0,i.Z)();return(0,s.jsx)(_,p(p({},e),{},{experience:t,completeExperience:function(e,t,o,i){return n(r(e,t,o,!1,{},i))},completeExperienceObject:function(e,t){return n((0,c.Tl)(d)(e,t))},dismissExperience:function(e,t,r,o){return n(u(e,t,r,void 0,o))},dismissExperienceObject:function(e){return n((0,c.CF)(e))},viewExperience:function(e,t,r){return n(l(e,t,!1,!1,void 0,r))},viewExperienceObject:function(e){return n((0,c.dy)(d)(e))}}))}v(_,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},333312:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(76911),o=n(908390),i=n(121093),a=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(f);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(l(e=i.call.apply(i,[this].concat(n))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),d(l(e),"dismissed",!1),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,i=e.idealDirection,c=r.slice(-3);return(0,a.jsx)(o.J2,{anchor:t,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(o.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(o.xv,{color:"default",weight:"bold",children:n})}),(0,a.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:c.map(function(e){return(0,a.jsx)(o.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(o.zd,{rounding:2,height:60,children:(0,a.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],s(f.prototype,n),r&&s(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.PureComponent),m=n(570470),h=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,c,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(u);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return S(_(e=s.call.apply(s,[this].concat(n))),"dismissRef",(0,r.createRef)()),S(_(e),"state",{paused:!1}),S(_(e),"dismissCb",function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)}),S(_(e),"handlePulsarClick",function(t,n){t?e.setState({paused:!0}):n()}),e}return n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,c=t.customWrapper,s=t.experienceIds,u=t.boardTextOverride,l=t.flyoutSize,p=t.fontSize,d=t.hasFullWidthButton,f=void 0===d||d,g=t.idealDirection,v=t.useMasonryFlyout,b=t.noClickToDismiss,_=t.onClickComplete,x=t.onClickDismiss,S=t.placementId,w=t.positionRelativeToAnchor,j=t.shouldTimeoutDismiss,O=t.showCaret,P=t.textAlign,I=t.textOverflow,T=t.textOverrideFn,C=t.textWeight,A=t.customizedComplete,E=t.pulsarZIndex,k=t.advertiserId,D=t.dismissButtonLocation,R=t.dismissButtonColor,L=t.dismissButtonMarginTop,M=c||function(e){var t=e.children;return v?(0,a.jsx)(o.mh,{children:t}):t};return(0,a.jsx)(i.Z,{eligibleIds:s,placementId:S,eligibleTypes:[8],targeting:k?{advertiserId:parseInt(k,10)}:null,children:function(t){var i=t.complete,c=t.dismiss,s=t.experience,d=s.display_data,S=d.scroll_to_dismiss,k=d.scroll_to_dismiss_delay_in_seconds,B=void 0===k?0:k,N=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(d,h),Z=S&&n,H=function(){z(),setTimeout(c,1e3*B)},z=function(){Z&&(window.removeEventListener("scroll",H),window.removeEventListener("touchmove",H))},F=function(){z(),i()};if(Z&&(window.addEventListener("scroll",H),window.addEventListener("touchmove",H)),e.setDefaultPulsarTooltip(N),!N.has_pulsar&&!N.has_tooltip)return F(),null;j&&N.disappearTime&&N.disappearTime>0&&(e.timer=setTimeout(function(){return H(),null},N.disappearTime));var q=501041===s.experience_id||505086===s.experience_id;return N.has_tooltip&&!N.has_pulsar&&(e.dismissRef.current=H,null==n||n.addEventListener("click",e.dismissCb)),(0,a.jsxs)(r.Fragment,{children:[N.has_pulsar&&(0,a.jsx)(m.Z,{anchor:n,leftOverride:q?342:void 0,onTouch:function(){return e.handlePulsarClick(N.has_tooltip,F)},paused:e.state.paused,topOverride:q?-5:void 0,zIndex:E&&E.index()}),N.has_tooltip&&(!N.has_pulsar||e.state.paused)&&(N.thumbnail_urls?(0,a.jsx)(y,{anchor:n,dismiss:H,idealDirection:g||"down",text:N.text,thumbnails:N.thumbnail_urls}):(0,a.jsx)(M,{children:(0,a.jsx)(o.J2,{anchor:n,color:"deprecatedBlue",idealDirection:g||"down",onDismiss:b?function(){}:H,positionRelativeToAnchor:!v&&w,shouldFocus:!1,_deprecatedShowCaret:O,size:l,children:(0,a.jsxs)(o.xu,{column:12,padding:3,children:[(0,a.jsxs)(o.xv,{align:"right"===P?"end":P,color:"inverse",overflow:I,size:p,weight:C||"bold",children:[e.getText(N,u,T),N.secondary_cta_link&&(0,a.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(o.xv,{size:p,weight:"bold",color:"inverse",children:(0,a.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:N.secondary_cta_link.url,underline:"hover",children:N.secondary_cta_link.text})})})]}),N.sub_text&&(0,a.jsx)(o.xu,{paddingY:2,children:(0,a.jsx)(o.xv,{color:"inverse",size:p,children:N.sub_text})}),(N.dismiss_button_text||N.complete_button_text)&&(0,a.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:D||"start",marginTop:L||2,children:[N.dismiss_button_text&&(0,a.jsx)(o.xu,{marginEnd:1,column:6,children:(0,a.jsx)(o.zx,{fullWidth:f,color:R||"blue",onClick:function(){x&&x(),H()},size:"md",text:N.dismiss_button_text})}),N.complete_button_text&&(0,a.jsx)(o.xu,{column:N.dismiss_button_text?6:12,children:A?(0,a.jsx)(o.iP,{fullHeight:!0,onTap:function(){F(),_&&_()},rounding:2,children:(0,a.jsx)(o.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(o.xv,{color:"shopping",weight:"bold",children:N.complete_button_text})})}):(0,a.jsxs)(o.kC,{justifyContent:"center",children:[N.complete_button_cta_url&&(0,a.jsx)(o.ZP,{fullWidth:f,color:"white",href:N.complete_button_cta_url,size:"md",target:N.complete_button_cta_url?"blank":null,text:N.complete_button_text,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),F(),_&&_()}}),!N.complete_button_cta_url&&(0,a.jsx)(o.zx,{fullWidth:f,color:"white",size:"md",text:N.complete_button_text,onClick:function(){F(),_&&_()}})]})})]})]})})}))]})}})}}],v(u.prototype,n),c&&v(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);S(j,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},756306:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(76911),o=n(908390),i=n(121093),a=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(y,e);var t,n,r,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(y);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function y(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var e,t,n,r,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=l(e=f.call.apply(f,[this].concat(i))),r={paused:!1,showPulsar:!1},(n=d(n="state"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),r=n.height,i=n.width;return(0,a.jsx)(o.xu,{position:"absolute",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:-(68+r/2),marginLeft:-(68-i/2),cursor:"pointer",pointerEvents:"none"}},children:(0,a.jsx)(o.o3,{paused:t})})}},{key:"renderFlyout",value:function(e){var t=this.props,n=t.anchor,r=t.flyoutSize,i=t.idealDirection;return(0,a.jsx)(o.Li,{anchor:n,idealDirection:i||"down",onDismiss:function(){},size:r,message:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.experienceIds,r=t.placementId,c=t.shouldTimeoutDismiss,s=this.state.showPulsar;return(0,a.jsx)(i.Z,{eligibleIds:n,placementId:r,eligibleTypes:[8],children:function(t){var n=t.complete,r=t.dismiss,i=t.experience;e.experience=i;var u=i.display_data;return u.has_pulsar||u.has_tooltip?(c&&u.disappearTime&&u.disappearTime>0&&(e.timer=setTimeout(function(){return r(),null},u.disappearTime)),(0,a.jsxs)(o.xu,{zIndex:new o.Ry(10),children:[s&&e.renderPulsar(),u.has_tooltip&&(!u.has_pulsar||e.state.paused)&&e.renderFlyout(u.text)]})):(n(),null)}})}}],s(y.prototype,n),r&&s(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},242923:function(e,t,n){n.d(t,{CF:function(){return c},Tl:function(){return a},dy:function(){return s}});var r=n(214494),o=n(332611),i=function(e,t,n,i){return function(a,c){return function(s){if(a&&a.id){var u=r.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":u.callDelete().then(function(){s((0,o.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"completed":u.callUpdate().then(function(){c||s((0,o.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"viewed":u.callUpdate().then(function(){n&&i&&n({event_type:i,object_id_str:a.id.toString()})})}}}}},a=function(e){return i("UserExperienceCompletedResource","completed",e,6567)},c=i("UserExperienceResource","dismissed"),s=function(e){return i("UserExperienceViewedResource","viewed",e,4503)}},570470:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(908390),o=n(76911),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.anchor,n=e.children,c=e.zIndex,s=e.leftOverride,u=e.topOverride,l=(0,o.useRef)(null),p=a((0,o.useState)(0),2),d=p[0],f=p[1],y=a((0,o.useState)(0),2),m=y[0],h=y[1],g=t.getBoundingClientRect(),v=g.height,b=g.width;return(0,o.useEffect)(function(){var e=l.current;if(t&&e){var n=e.getBoundingClientRect(),r=n.height,o={horizontalOffset:-(n.width/2-b/2),verticalOffset:-(r/2-v/2)},i=o.horizontalOffset,a=o.verticalOffset;f(i),h(a)}}),(0,i.jsx)(r.xu,{position:"absolute",zIndex:c?new r.Ry(c):void 0,dangerouslySetInlineStyle:{__style:{left:s||d,top:u||m}},ref:l,children:n})}var u=function(e){var t=e.anchor,n=e.leftOverride,o=e.onTouch,a=e.onMouseEnter,c=e.paused,u=e.size,l=e.topOverride,p=e.zIndex;return t?(0,i.jsx)(s,{anchor:t,leftOverride:n,topOverride:l,zIndex:p,children:(0,i.jsx)(r.iP,{fullWidth:!1,onTap:function(e){return o(e.event)},onMouseEnter:a,rounding:"circle",children:(0,i.jsx)(r.o3,{paused:c,size:u})})}):null}},869636:function(e,t,n){var r=n(76911),o=n(506979),i=n(904202),a=n(123159),c=n(780280),s=n(67347);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,i.P1)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},m=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(m,n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],l=s[1],h=(0,c.B)().isBot,g=(0,a.M)(),v=g.fetchExperienceForPlacements,b=g.mountPlacement,_=g.triggerExperimentsForPlacement,x=g.unmountPlacement;(0,r.useDebugValue)("Placement Hook ID - ".concat(e)),(0,r.useEffect)(function(){var t=p({},u),n=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return b(e,t,n),function(){x(e)}},[]),(0,r.useEffect)(function(){Object.keys(u).length>0&&v([e],h,u)},[u]);var S=(0,o.useSelector)(function(t){return f(t,e)}),w=(0,o.useSelector)(function(t){return t.experiencesMulti[e]}),j=S?S.triggerable_placed_exps:[];return(0,r.useEffect)(function(){y("experienceservice","placementHookExperimentTrigger.1",p({platform:"web",placement_id:e},j)),_(e,u)},[JSON.stringify(j)]),{experience:S,experiencesMulti:w,setExtraContext:l}}},499128:function(e,t,n){n.d(t,{UZ:function(){return p},Vg:function(){return l},ZP:function(){return d}});var r=n(76911),o=n(908390),i=n(50286),a=n(829407),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=200,p=function(e){var t=e.deviceType,n=e.hiding,r=e.visible,o="desktop"===t,i=0,a=o?"translateY(200px)":"translateY(-200px)",c="opacity 0.1s ease-in-out",s="hidden";return r&&!n&&(i=1,a="translateY(0)",c="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),r&&n&&(a="scale(1.1)",c="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:a,transition:c,visibility:s}};function d(e){var t,n,u=e._dangerouslySetThumbnail,d=e._dangerouslySetPrimaryAction,f=e.text,y=e.primaryAction,m=e.dismissButton,h=e.helperLink,g=e.thumbnail,v=e.type,b=e.dataTestId,_=e.duration,x=void 0===_?2e3:_,S=e.onHide,w=e.href,j=e.onClick,O=e.openNewPage,P=e.imageUrl,I=(0,i.ZP)(),T=s((0,r.useState)(!1),2),C=T[0],A=T[1],E=s((0,r.useState)(!1),2),k=E[0],D=E[1],R=(0,r.useRef)(),L=function(){A(!0),R.current=setTimeout(S,l)},M=function(){R.current=setTimeout(L,x)},B=function(){R.current&&clearTimeout(R.current)};(0,a.Z)(function(){return setTimeout(function(){return D(!0)},100),M(),B}),P&&(n={image:(0,c.jsx)(o.Ee,{alt:"string"==typeof f?f:"".concat(f[0]," ").concat(f[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:P})});var N=(0,c.jsx)(o.FN,{_dangerouslySetThumbnail:u,_dangerouslySetPrimaryAction:d,primaryAction:y,text:f,thumbnail:null!==(t=n)&&void 0!==t?t:g,type:v,dismissButton:m,helperLink:h}),Z=p({deviceType:I,hiding:C,visible:k}),H=Z.marginTop,z=Z.opacity,F=Z.pointerEvents,q=Z.position,U=Z.transform,V=Z.transition,W=Z.visibility;return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:U,transition:V,visibility:W,pointerEvents:F}},"data-test-id":null!=b?b:"toast",onMouseEnter:B,onMouseLeave:M,opacity:z,position:q,marginTop:H,display:"flex",children:w?(0,c.jsx)(o.Tg,{href:w,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;w.startsWith("#")&&(t.preventDefault(),n()),null==j||j(t)},target:O?"blank":null,rounding:"pill",children:N}):N})}},356997:function(e,t,n){n.d(t,{qE:function(){return a},u_:function(){return c.ZP}});var r=n(908390),o=n(515198);function i(e){var t=e.accessibilityLabel,n=e.name,i=e.outline,a=e.size,c=e.src,s=e.verified;return(0,o.jsx)(r.qE,{accessibilityLabel:t,name:n,outline:i,size:a,src:(null==c?void 0:c.includes("images/user/default"))&&n?void 0:c,verified:s})}i.displayName="Avatar";var a=i,c=n(121151);n(499128)},178467:function(e,t,n){n.d(t,{ZP:function(){return D},sE:function(){return C},jV:function(){return E}});var r=n(674631),o=n.n(r),i=n(410299);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},f=function(e){var t;return null!==(t=d[e])&&void 0!==t?t:e.replace(p,"_$1").replace(/(\d\d0P)(\d\d0K)/,"$1_$2").replace(/QVBR(8|10)/,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(/^v/,"V")},y=function(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())}).replace(/^_/,"")},m=function(e){return"StoryPinPage"===e||"StoryPinImageBlock"===e},h=function(e){var t=e.gqlFieldName,n=e.concreteType,r=e.parentConcreteType;if(m(r)){if("images"===t)return"image";if("imagesAdjusted"===t)return"image_adjusted"}if("PinTagChipImagesPerSpec"===r&&"image"===t)return"images";if("VideoDetail"===n)return f(t);switch(t){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";default:return y(t)}},g=function(e){var t=e.gqlFieldName,n=e.legacyValue;switch(t){case"reactionType":return"string"==typeof n?Number(n):n;case"campaignId":case"pinPromotionId":return"number"==typeof n?String(n):n;default:return n}},v=function(e){var t=e.untypedInput,n=e.concreteType;if(!t)return null;switch(o()("object"===l(t),"legacy data must be an object"),n){case"ReactionCountModel":return Object.entries(t).map(function(e){var t=s(e,2);return{reaction_type:t[0],reaction_count:t[1]}});case"PinThroughProperties":return Object.entries(t).map(function(e){var t=s(e,2);return{key:t[0],data:t[1]}});default:if(Array.isArray(t))return t;return Object.entries(t).map(function(e){var t=s(e,2);return{key:t[0],value:t[1]}})}},b=function(e){var t=e.args,n=e.name,r=t.find(function(e){return e.name===n});return r&&"string"==typeof r.value?r.value:null},_=function(e){var t,n=e.untypedInput,r=e.parentConcreteType,i=e.selection,a=i.args,s=i.name;if("PinTagChipImagesPerSpec"===r&&"image"===s)return null==n?void 0:null===(t=n.images)||void 0===t?void 0:t["750x"];var u=null==n?void 0:n[h({gqlFieldName:s,concreteType:i.concreteType,parentConcreteType:r})];if(!u)return u;var p=b({args:null!=a?a:[],name:"spec"});if(p){if(o()("object"===l(u),"value must be an object"),m(r)){var d=u.dominant_color,f=u.images;if(!f)return f;o()("object"===l(f),"images must be an object");var y=f["orig"===p?"originals":p];return y&&d?c(c({},y),{},{dominant_color:d}):y}return u[p]}return u},x={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock"},S=function(e){var t,n=e.gqlConcreteTypeName,r=e.legacyTypeName;return(null!==(t=x[n])&&void 0!==t?t:n).toLowerCase()===r},w={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},j=function(e){return"string"==typeof e.type?e.type.replace(/_/g,"").toLowerCase():"number"==typeof e.block_type?w[e.block_type].toLowerCase():void 0},O=n(67347);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=new Map;function T(e,t,n){var r=e.get(t);if(null!=r)return r;var o=n();return e.set(t,o),o}var C=Symbol("fragmentSpread"),A=function e(t){var n=t.untypedInput,r=t.mutableOutput,i=t.selections,a=t.parentType,c=t.conditionContext,s=t.fragmentName,u=t.path;i.forEach(function(t){switch(t.kind){case"ScalarField":var i=t.alias,l=t.name;o()(!("__typename"===l&&null==a),"We do not support selecting __typename directly on interface fields. Contact @jackhsu or @robertbalicki"),r[null!=i?i:l]="__typename"===l?a:g({gqlFieldName:l,legacyValue:null==n?void 0:n["entityId"===l?"id":y(l)]});break;case"LinkedField":var p=t.alias,d=t.name,f=t.concreteType,m=t.plural,h=t.selections,b=null!=p?p:d,x=_({untypedInput:n,selection:t,parentConcreteType:a});if(null==x){r[b]=x;return}if(m){var w=v({untypedInput:x,concreteType:f}),A=r[b];o()(!A||Array.isArray(A),"plural data must be an array"),r[b]=null==w?void 0:w.map(function(t,n){var r,o=null!==(r=null==A?void 0:A[n])&&void 0!==r?r:{};return e({conditionContext:c,untypedInput:t,mutableOutput:o,parentType:f,selections:h,fragmentName:s,path:u+"."+d}),o})}else{o()("object"===P(x),"Value for ".concat(d," must be an object").concat(f?" with type ".concat(f):"",", but a ").concat(P(x)," is given"));var E,k=null!==(E=r[b])&&void 0!==E?E:{};r[b]=k,e({conditionContext:c,untypedInput:x,mutableOutput:k,parentType:f,selections:h,fragmentName:s,path:u+"."+d})}break;case"InlineFragment":var D,R,L=t.abstractKey,M=t.type,B=t.selections;if(o()(null!=M&&null===L,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==n)break;var N=j(n);null!=N&&S({gqlConcreteTypeName:M,legacyTypeName:N})&&e({conditionContext:c,untypedInput:n,mutableOutput:r,parentType:M,selections:B,fragmentName:s,path:u}),null==N&&(D=T(I,s,function(){return new Map}),(R=T(D,u,function(){return new Set})).has(M)||(R.add(M),(0,O.nP)("autoLegacyAdapter.missingTypeField",{sampleRate:1,tags:{fragmentName:s,path:u,concreteChildType:M}})));break;case"Condition":var Z=t.condition,H=t.selections,z=!0;"isAuth"===Z?z=c.isAuth===t.passingValue:"isDesktop"===Z&&(z=c.isDesktop===t.passingValue),z&&e({conditionContext:c,untypedInput:n,mutableOutput:r,parentType:a,selections:H,fragmentName:s,path:u});break;case"FragmentSpread":r[C]=n;break;case"ClientExtension":e({conditionContext:c,fragmentName:s,mutableOutput:r,parentType:a,path:u,selections:t.selections,untypedInput:n});break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":throw Error("The selection type '".concat(t.kind,"' is not supported yet. Contact @jackhsu or @robertbalicki"));default:throw Error("Unexpected selection type '".concat(t.kind,"'"))}})};function E(e,t){return e[C]=t,e}var k=new Set;function D(e){var t,n=e.conditionContext,r=e.fragment,a=e.legacyData;try{t=function(e){var t=e.conditionContext,n=e.fragment,r=e.legacyData,a=(0,i.getFragment)(n);if(null==a.abstractKey){var c=null!=r?j(r):null;null!=c&&o()(S({gqlConcreteTypeName:a.type,legacyTypeName:c}),"fragment data type '".concat(a.type,"' does not match legacy data ")+"type '".concat(c,"'. See ")+"http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.")}var s={};return A({conditionContext:t,untypedInput:r,mutableOutput:s,parentType:a.type,selections:a.selections,fragmentName:a.name,path:""}),s}({conditionContext:n,fragment:r,legacyData:a})}catch(e){throw k.has(r.name)||(k.add(r.name),(0,O.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:r.name,rootId:null==a?void 0:a.id,rootType:null==a?void 0:a.type,url:window.location.href,isAuth:n.isAuth}})),e}return t}},273213:function(e,t,n){n.d(t,{B:function(){return o}});var r=n(178467);function o(e){var t=e[r.sE];return null!=t?{type:"deprecated",data:t}:e}},681669:function(e,t,n){n.d(t,{qH:function(){return T},Zm:function(){return j},HF:function(){return P},sr:function(){return I},V4:function(){return O}});var r=n(506979),o=n(704217),i=n(178467);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return null==e?"null or undefined":Array.isArray(e)?"Array":s(e)}function l(e,t,n){return{path:e,message:"Value found only in ".concat("Manual"===t?"legacy adapter":"auto-legacy adapter",", where it had type ").concat(u(n),". (Or it was null in the ").concat("Manual"===t?"auto-legacy adapter":"legacy adapter",".)"),kind:"MissingItem"}}function p(e,t,n){var r=u(t),o=u(n);return{path:e,message:"Found item of type ".concat(r," in the legacy adapter result, and an item of type ").concat(o," in the auto-legacy result."),kind:"Type"}}function d(e,t){return"".concat(e,".").concat(t)}var f=n(773285),y=n(780280),m=n(50286),h=n(350118),g=n(67347);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S={},w=new Set;function j(e,t,n){var r=n.useGraphQLAdapter,i=n.useLegacyAdapter;if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};var a=(0,o.useFragment)(e,t.data);return{data:r(a),childDataKey__DEPRECATED:{type:"graphqlRef",data:a}}}function O(e,t){var n=(0,(0,f.F)().checkExperiment)((0,y.B)().isAuthenticated?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),r=n.group,o=n.anyEnabled,c={isAuth:!!(0,y.B)().isAuthenticated,isDesktop:(0,m.HG)()};return r.includes("parallel")?function(n){var r=(0,i.jV)(t(n),n);return("undefined"==typeof window?"undefined":_(window))==="object"&&function(e,t,n,r){var o;try{o=(0,i.ZP)({conditionContext:t,fragment:e,legacyData:n})}catch(e){return}try{var c=(f=o,function e(t,n,r){for(var o=[],i=Object.keys(n),c=Object.keys(r),f=0;f<i.length;f++){var y=i[f],m=n[y],h=r[y];o.push.apply(o,a(function t(n,r,o){return null!=r&&null==o?[l(n,"Manual",r)]:r===o||null==r&&null==o?[]:Array.isArray(r)?Array.isArray(o)?function(e,n,r){if(n.length!==r.length)return[{path:e,message:"legacyResult is an array of length ".concat(n.length,"; autoLegacyResult is an array of length ").concat(r.length),kind:"Length"}];for(var o=[],i=0;i<n.length;i+=1){var c=n[i],s=r[i];o.push.apply(o,a(t("".concat(e,"[]"),c,s)))}return o}(n,r,o):[p(n,r,o)]:"object"===s(r)?"object"===s(o)&&null!==o&&null!==r?e(n,r,o):[p(n,r,o)]:[s(r)!==s(o)?p(n,r,o):{path:n,message:"Found items of type ".concat(u(r),", but their values did not match."),kind:"Value"}]}(d(t,y),m,h)))}for(var g=0;g<c.length;g++){var v=c[g],b=n[v],_=r[v];null!=_&&null==b&&o.push(l(d(t,v),"Auto",_))}return o}("",r,f));if(c.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:c,fragment:e.name}),S[e.name]=null!==(y=S[e.name])&&void 0!==y?y:new Set;var f,y,m,h=S[e.name],v=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(c);try{for(v.s();!(m=v.n()).done;){var b=m.value;h.has(b.path)||(h.add(b.path),(0,g.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:b.path,kind:b.kind}}))}}catch(e){v.e(e)}finally{v.f()}}}catch(t){w.has(e.name)||(w.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn("comparing results threw for fragment ".concat(e.name)),(0,g.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,c,n,r),r}:o?function(t){return(0,i.ZP)({conditionContext:c,fragment:e,legacyData:t})}:function(e){return(0,i.jV)(t(e),e)}}function P(e,t,n){var o;switch(n.type){case"article":o=function(e){var t=(0,r.useSelector)(function(t){return t.articles[e]});return t?n.useLegacyAdapter(t):null};break;case"story":o=function(e){var t=(0,r.useSelector)(function(t){return t.stories[e]});return t?n.useLegacyAdapter(t):null};break;default:o=function(e){var t=(0,h.S6)()(e);return t?n.useLegacyAdapter(t):null}}return j(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:o})}function I(e,t,n){var r=O(e,n.useLegacyAdapter);return P(e,t,b(b({},n),{},{useGraphQLAdapter:function(e){return e},useLegacyAdapter:r}))}var T=void 0},916117:function(e,t,n){n.d(t,{u:function(){return a}});var r=n(782296),o=n(273213),i=n(681669);function a(e,t,n){var a=n.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var c=(0,o.B)(t);if("deprecated"===c.type){var s=c.data;return null==s?{data:null,childDataKey__DEPRECATED:c}:{data:(0,i.V4)(e,a)(s),childDataKey__DEPRECATED:c}}var u=(0,r.useFragment)(e,c.data);return{data:u,childDataKey__DEPRECATED:{type:"graphqlRef",data:u}}}},444445:function(e,t,n){n.d(t,{$H:function(){return a},$q:function(){return b},D6:function(){return u},KN:function(){return x},Lo:function(){return o},OS:function(){return f},P2:function(){return h},Wv:function(){return _},ZZ:function(){return p},g5:function(){return d},jC:function(){return c},lX:function(){return m},nW:function(){return y},oX:function(){return g},qG:function(){return v},tG:function(){return i},yF:function(){return r},yc:function(){return l},yt:function(){return s}});var r=236,o=157.33333333333334,i=175,a=24,c=4,s=8,u=2,l=2,p=14,d=16,f=5,y=12,m=16,h=24,g=16,v=-1,b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?m:y:h},_=function(e){var t=e.contentVisibleItemCount,n=e.gap,o=e.width;return t||o?(o-(t-1)*n)/t:r},x=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p,i=e+o;return"\n@media (min-width: ".concat(t*i,"px) and (max-width: ").concat((n+1)*i-1,"px) {\n  ").concat(r,"\n}\n")}},228001:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return e.reduce(function(e,n){var r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}},366428:function(e,t,n){n.d(t,{F:function(){return f},Z:function(){return d}});var r=n(76911),o=n(407043),i=n(124580),a=["children"];function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){var r;return(r=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function d(e){var t=e.carouselData,n=e.closeupImpressionType,a=e.closeupNavigationType,c=e.componentType,s=e.contextLogData,d=e.clientTrackingParams,f=e.elementType,y=e.impressionAuxFields,m=e.inImpressionExp,h=e.impressionType,g=e.impressionsFramework,v=e.isPaused,b=e.loggingId,_=e.objectIdStr,x=e.slotIndex,S=e.trackCarousel,w=e.viewData,j=e.viewParameter,O=e.viewType,P=(0,o.v)().logContextEvent,I=g||i.Z,T=(0,r.useRef)(null),C=function(e){var r,o,i,m,g,v,I,C,A=p[h],E=A.idType,k=u(u((l(r={clientTrackingParams:d,endTime:e.endTime},E,b),l(r,"slotIndex",x),l(r,"time",e.startTime),l(r,"renderDuration",e.endTime-e.startTime),l(r,"type",n),r),y),{},{forcedExit:"removed"===e.forcedExit?0:void 0});"Pin"===h&&(k=u(u({},k),{},{pinCellWidth:(null===(o=T.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(i=T.current)||void 0===i?void 0:i.getBoundingClientRect().height)||0,windowWidth:null===(m=window)||void 0===m?void 0:m.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight}));var D={component:c,object_id_str:_,view_type:O,view_data:w||{},view_parameter:j};S?t&&P(u(u({event_type:7352,event_data:{pinCarouselSlotImpressions:[u(u({},k),{},{carouselDataId:Number(t.id),carouselSlotId:(null===(v=t.carousel_slots)||void 0===v?void 0:v[null!==(I=t.index)&&void 0!==I?I:0])&&Number(t.carousel_slots[null!==(C=t.index)&&void 0!==C?C:0].id),slotIndex:t.index})]}},D),{},{aux_data:u({},s)})):P(u(u({clientTrackingParams:d,event_type:A.eventType},D),{},{element:f,event_data:l({},A.impressionType,"Story"===h?k:[k]),aux_data:u({closeup_navigation_type:a},s)}))},A=(0,r.useCallback)(function(){try{T.current instanceof HTMLElement&&I.start(T.current).onExitViewport(C).setDebugId(b||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[T.current]);(0,r.useEffect)(function(){return m&&!I.inExperiment&&I.setExperimentStatus(!0),v||A(),function(){T.current instanceof HTMLElement&&I.stop(T.current)}},[A]);var E=(0,r.useRef)(v);return(0,r.useEffect)(function(){E.current&&!v&&A(),E.current=v},[v,A]),T}var f=function(e){return(0,e.children)({impressionTrackerRef:d(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a))})}},539278:function(e,t,n){n.d(t,{Di:function(){return d},Jl:function(){return u},R:function(){return l},ZP:function(){return g},aU:function(){return f},j2:function(){return p},pN:function(){return y},rL:function(){return v},vW:function(){return h}});var r=n(908390),o=n(356997),i=n(499128),a=n(349700),c=n(826067),s=n(515198),u=7e3,l="permanent_account_closure",p="account_deletion_email_sent",d="account_deactivated",f="unlink_successful",y="account_switch_to_settings";function m(e,t,n){return(0,s.jsx)(r.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:t})})})}function h(e){var t=e.i18n,n=e.message,r=e.multipleAccounts,o=e.username,i=void 0===o?"":o;switch(n){case l:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case p:if(r)return m(t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return m(t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case d:return m(r?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case f:return m(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case y:return m(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(t&&t.search))return"";var r=(0,c.mB)(t.search).message,o=(0,c.mB)(t.search).username||n;return h({i18n:e,message:r,multipleAccounts:"true"===(0,c.mB)(t.search).multiple_accounts,username:o})}function v(e){var t=e.showOneToast,n=e.i18n,r=e.location,a=e.history,l=e.username,p=e.fullName,d=e.avatarUrl;if(r&&r.search){var m=g(n,r,l||""),h=(0,c.mB)(r.search).message,v=h===y||h===f;m&&(t(function(e){var t=e.hideToast;return(0,s.jsx)(i.ZP,{duration:u,onHide:t,text:m,thumbnail:v?{avatar:(0,s.jsx)(o.qE,{name:p||"",src:d||"",size:"md"})}:void 0})}),a.replace(r.hash?"".concat(r.pathname).concat(r.hash):r.pathname))}}},290148:function(e,t,n){n.d(t,{Ny:function(){return d},eD:function(){return m},lp:function(){return y},nY:function(){return h}});var r=n(78714),o=n(432300),i=n(957161),a=n(966113),c=n(867820),s=n(794230),u=n(704115),l=n(709113);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),f=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"defaultLoginRedirectUrl",value:function(){return window.location.pathname===a.lfe||window.location.pathname===a.ZEf||window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname+window.location.search}},{key:"defaultSocialLoginRedirectUrl",value:function(){return window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname}},{key:"isExceedRecaptchaLocalLimit",value:function(){var e=i.Z.getItem(l.kl);if(e&&e.indexOf("|")>-1){var t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}},{key:"updateRecaptchaTimeStamp",value:function(){var e=i.Z.getItem(l.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();var n=(new Date().getTime()/1e3).toString();t.push(n);var r=t.join("|");i.Z.setItem(l.kl,r)}},{key:"isFullyLoggedIn",value:function(e,t){return e&&t===o.Z.DEFAULT}},{key:"handleRedirect",value:function(e){if(!e){e="/";var t=(0,u.Z)();if(t){var n=t.next;n&&(e=n,delete t.next),e=(0,s.Z)(e,t)}}(0,r.Z)(e)}},{key:"handleRedirectWithFallbackWindowLocation",value:function(){this.handleRedirect(this.defaultLoginRedirectUrl())}},{key:"handleSignupRedirect",value:function(e,n){i.Z.setItem(l.F6,Date.now()),!n&&e&&"/"!==e?t.handleRedirect(e):t.handleRedirect("/")}},{key:"storeLoginCredentialsToBrowser",value:function(e){var t=window.navigator.credentials;if(t&&e.username_or_email)try{var n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(function(){(0,c.My)("navigatorCredentials.store.success")})}catch(e){(0,c.My)("navigatorCredentials.store.error")}}},{key:"handleLoginMfa",value:function(e,n,r){(0,c.My)("multi_step_login"),t.storeLoginCredentialsToBrowser(e),r?r(e,n):(0,c.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r.key),r)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function y(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":y(e)}function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}t.ZP=f},584992:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(76911),o=n(425288),i=n(790348),a=n(437406),c=n(383434),s=n(543059),u=n(607150),l=n(638089),p=n(860273),d=n(453821),f=n(558775),y=n(505771),m=n(729524),h=n(169213),g=n(358864),v=n(985271);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){var r;return(r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===b(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=(0,c.XV)("PwtStopwatch"),I=function(e,t){if(v.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,o=t.navigationType;return(0,i.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:v.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)P("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return P("ignoring action - stopwatch is not actively timing",t),(0,i.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}}if("annotate"===t.type){var c=v.Z.now();return P("adding annotation {".concat(t.label,": ").concat(c,"}")),j(j({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:c}])})}if("binaryAnnotate"===t.type)return P("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),O({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var h=t.binaryAnnotationValueAndType,b=h.value,x=h.type;if(!e.binaryAnnotations[t.name])return j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),O({},t.name,{value:b,type:x}))});var S=e.binaryAnnotations[t.name].value||0;return P("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(S),"\n          operand: ").concat(String(b),"\n        }")),j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),O({},t.name,{value:b?t.operation(S,b):S,type:x}))})}if("addSubspan"===t.type){P("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&P("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var w=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===w})&&P("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(w,"}"));var I=0;return t.startTime?I=t.startTime:e.startTime?I=e.startTime:P("WARNING: adding subspan {".concat(t.name,"} without start time")),j(j({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:w,startTime:I,endTime:t.endTime||1/0,annotationMap:j({},t.annotations),binaryAnnotationMap:j({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){P("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&P("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var T,C=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===C})&&P("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(C,"}"));var A=t.parentName?null===(T=e.spans.find(function(e){return e.name===t.parentName}))||void 0===T?void 0:T.id:null;return j(j({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:C,parentId:t.parentId||A,startTime:v.Z.now(),endTime:1/0,annotationMap:j({},t.annotations),binaryAnnotationMap:j({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){P("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.reduce(function(e,n){return n.name===t.name?[].concat(_(e),[n]):e},[]).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var E=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return E>-1?(e.spans[E].endTime=v.Z.now(),t.annotations&&(e.spans[E].annotationMap=j(j({},e.spans[E].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[E].binaryAnnotationMap=j(j({},e.spans[E].binaryAnnotationMap),t.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(function(e,n){return n.name===t.currentName?[].concat(_(e),[n]):e},[]).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var k=e.spans.findIndex(function(e){return e.name===t.currentName});return k>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(_(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(P("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[k].name=t.newName):(0,i.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var D=e.startTime,R=e.metricId,L=e.pwtStaticContext,M=e.annotations,B=e.binaryAnnotations,N=e.isSampled,Z=e.spans,H=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),N){var z=t.stopTime||v.Z.now(),F=_(Z.map(function(t){t.endTime===1/0&&(t.endTime=z);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(P("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===Z.length){var q=(0,g.Z)();F.push.apply(F,[{name:"network_resources",id:q,startTime:D,endTime:z,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(_((t.customStopwatchBuffer||[]).map(function(e){return(0,y.Z)((0,d.p)(e,[]),q)}).filter(Boolean))))}var U="initial_app_load"===R.navigationType&&(0,p.Z)(),V={type:"COMPLETE",traceId:H,startTime:D,endTime:z,spans:F,annotationMap:j(j(j({},(0,m.Z)(M)),(0,u.jh)("browser_",U?(0,u.D3)(U):{})),(0,u.jh)("mark_",(0,s.gQ)())),binaryAnnotationMap:(0,l.ng)({metricId:R,pwtStaticContext:L,binaryAnnotations:B,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,f.Z)({metricId:R,pwtStaticContext:L,result:V})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("error"===t.type){var W=t.error,G=t.stopwatchPerformanceObserver;return W&&(0,i.H)(W),G&&G.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var K=e.metricId,X=e.pwtStaticContext,Y=t.reason||"";return(0,f.Z)({metricId:K,pwtStaticContext:X,result:{type:"ABORT",reason:Y}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}}return e},T=function(e){var t,n=e.name,o=e.sampleRate,i=e.navigationType,c=e.manualAndResourceSpans,s=void 0!==c&&c,u=(0,a.N5)(),l=(0,r.useRef)([]),p=(0,r.useRef)(null),d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(I,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],y=d[1];return u?{isTiming:f.isTiming,start:function(e){return window.PerformanceObserver&&(l.current=[],p.current=(0,h.Z)({entryTypes:["resource"]},function(e){l.current=l.current.concat(e.getEntries()),l.current.length>1e3&&(l.current=l.current.slice(-1e3))})),y({type:"start",startTime:e,name:n,navigationType:i,pwtStaticContext:u,isSampled:!o||Math.random()<o})},stop:function(e){return y({type:"stop",stopTime:e,stopwatchPerformanceObserver:p.current,customStopwatchBuffer:l.current,manualAndResourceSpans:s})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){y({type:"error",stopwatchPerformanceObserver:p.current,error:e})}),abort:function(e){return y({type:"abort",stopwatchPerformanceObserver:p.current,customStopwatchBuffer:l.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:o})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;return y({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,a=e.parentId,c=e.id,s=e.bypassIsTimingCheck;return y({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===o?{}:o,binaryAnnotations:void 0===i?{}:i,parentId:void 0===a?null:a,id:void 0===c?null:c,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,a=e.id,c=e.bypassIsTimingCheck;return y({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===o?null:o,parentName:void 0===i?null:i,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==c&&c})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;return y({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;return y({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===o||o})},getSpans:function(e,t){return f.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return f.traceId}}:null},C=n(515198),A=function(e){var t=e.name,n=e.sampleRate,c=e.abortOnUnloadOrClientNavigation,s=void 0===c||c,u=e.navigationType,l=e.manualAndResourceSpans,p=void 0!==l&&l,d=(0,o.Z)("Stopwatch_".concat(t)),f=d.Provider;return{Provider:function(e){var o=e.children,c=T({name:t,sampleRate:n,navigationType:u,manualAndResourceSpans:p}),l=(0,a.fM)(),d=l?l.time:0,y=(0,r.useRef)(!1),m=null==c?void 0:c.isTiming,h=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==c||c.abort(e)):(0,i.A9)("WARN.".concat(t,".noTiming.abort"))},[c]),g=(0,r.useCallback)(function(e,t){null==c||c.annotate(e,t)},[c]),v=(0,r.useCallback)(function(e,t,n,r){null==c||c.binaryAnnotate(e,t,n,r)},[c]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;null==c||c.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:i})},[c]),_=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,a=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==c||c.addSubspan({name:t,startTime:n,endTime:r,annotations:o,binaryAnnotations:i,parentId:a,id:s,bypassIsTimingCheck:u})},[c]),x=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,a=e.id,s=e.bypassIsTimingCheck;null==c||c.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:o,parentName:i,id:a,bypassIsTimingCheck:s})},[c]),S=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;null==c||c.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:a})},[c]),w=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;null==c||c.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:o})},[c]),j=(0,r.useCallback)(function(e,t){return c?c.getSpans(e,t):[]},[c]),O=(0,r.useCallback)(function(){return c?c.getTraceId():0},[c]),P=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==c||c.error(e)):(0,i.A9)("WARN.".concat(t,".noTiming.error"))},[c]),I=(0,r.useCallback)(function(e){y.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),y.current=!0,null==c||c.start(e)},[c]),A=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==c||c.stop(e)):(0,i.A9)("WARN.".concat(t,".noTiming.stop"))},[c]);(0,r.useEffect)(function(){return function(){s&&h("unloadOrClientNavigation")}},[d]);var E=(0,r.useMemo)(function(){return{isTiming:m,abort:h,addAnnotation:g,addBinaryAnnotation:v,binaryAnnotationOperation:b,addSubspan:_,subspanStart:x,subspanStop:S,getSpans:j,getTraceId:O,updateSubspanName:w,stop:A,error:P,start:I}},[m,h,g,v,b,_,x,S,j,O,w,A,P,I]);return(0,C.jsx)(f,{value:E,children:o})},useHook:d.useMaybeHook}}},947599:function(e,t,n){var r=n(995228);t.Z=r.Z},392370:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(76911),o=n(515198);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){var t=e.searchDelightText,n=e.searchDelightConfig,r=n.text_background_color,i=n.text_colors,a=void 0===i?[]:i,s=r?{backgroundColor:r,margin:"-2px",padding:"2px"}:void 0;if(!(a.length>1))return(0,o.jsx)("span",{style:c({color:a[0],whiteSpace:"pre-wrap"},s),children:t},"searchDelight-".concat(t));var u=0;return(0,o.jsx)("span",{style:c({whiteSpace:"pre-wrap"},s),children:t.split("").map(function(e,t){var n=a[u];return" "!==e&&(u=(u+1)%a.length),(0,o.jsx)("span",{style:{color:n},children:e},"searchDelight-".concat(t))})})}var u=n(908390),l=function(e){var t=e.children,n=e.gray,r=e.weight;return(0,o.jsx)(u.xv,{color:n?"subtle":void 0,inline:!0,weight:void 0===r?"normal":r,children:(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:t})})},p=function(e){var t=e.allBold,n=e.searchDelightParts,i=e.searchDelightConfig,a=e.text,c=e.weightPivot,u=n[1],p=a.indexOf(u),d=p+u.length;return c<=p?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(l,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,c)}),(0,o.jsxs)(l,{weight:"bold",children:[a.substring(c,p),(0,o.jsx)(s,{searchDelightText:u,searchDelightConfig:i}),a.substring(d)]})]}):c<=d?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(l,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,p)}),(0,o.jsxs)(l,{weight:"bold",children:[(0,o.jsx)(s,{searchDelightText:u,searchDelightConfig:i}),a.substring(d)]})]}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(l,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,p)}),(0,o.jsx)(l,{weight:"bold",children:(0,o.jsx)(s,{searchDelightText:u,searchDelightConfig:i})}),(0,o.jsx)(l,{gray:!0,weight:t?"bold":"normal",children:a.substring(d,c)}),(0,o.jsx)(l,{weight:"bold",children:a.substring(c)})]})},d=function(e,t){var n=RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;var r=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,r),e.slice(r,r+t.length)]};function f(e){var t=e.allBold,n=e.searchDelightConfig,i=e.query,a=void 0===i?"":i,c=e.text,s=(c.toLowerCase().startsWith(a.toLowerCase())?a:"").length,u=n?n.search_query_list.map(function(e){return d(c,e)}).filter(Boolean).sort(function(e,t){return e&&t?e[0].length-t[0].length:0}).shift():null;return u&&n?(0,o.jsx)(p,{allBold:t,searchDelightParts:u,searchDelightConfig:n,text:c,weightPivot:s}):(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(l,{gray:!0,weight:t?"bold":"normal",children:c.substr(0,s)}),(0,o.jsx)(l,{weight:"bold",children:c.substr(s)})]})}},150461:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(76911),o=n(908390),i=n(199324),a=n(898781),c=n(515198);function s(e){var t=e.dataTestId,n=e.focusOptionId,s=e.isFocused,u=e.name,l=e.onBlur,p=e.onChange,d=e.onClick,f=e.onFocus,y=e.onKeyDown,m=e.onSearchTrigger,h=e.placeholder,g=e.value,v=e.disabled,b=(0,a.ZP)(),_=(0,r.useRef)(null);return(0,r.useEffect)(function(){_.current&&m&&_.current.addEventListener("searchTrigger",m)},[]),(0,r.useEffect)(function(){_.current&&document.activeElement===_.current!==s&&(s?_.current.focus():_.current.blur())},[s]),(0,c.jsxs)(o.xu,{height:"100%",flex:"grow",children:[(0,c.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":n,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":b._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),"aria-expanded":s,"data-test-id":t,name:u,onBlur:l,onChange:function(e){p(e.target.value)},onClick:void 0===d?function(){}:d,onFocus:f,onKeyDown:y,placeholder:h||b._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),ref:_,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:i.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:g,disabled:void 0!==v&&v}),(0,c.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:b._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},615119:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(186656);function o(e){var t=e.report,n=e.query,o=e.suggestions,i=e.type;return(0,r.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:t,query:n,suggestions:o,type:i}})}},254469:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(76911),o=n(214494),i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},a=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};a.prototype.set=function(e,t){var n=this._uidToData[e];n||(n=new i(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},a.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},a.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},a.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},a.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var c=["bookmarks"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t,n,i,s,l,d,y,m,h,g,v,b,_,x,S=e.allowSearchOnMount,w=void 0!==S&&S,j=e.resourceName,O=e.resourceOptions,P=void 0===O?{}:O,I=e.value,T=(0,r.useRef)(!1),C=(0,r.useRef)({}),A=function(e){if(Array.isArray(e))return e}(x=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(x,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(x,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=A[0],k=A[1],D=(v=(t={resourceName:j,resourceOptions:P}).resourceName,b=t.resourceOptions,(_=(0,r.useRef)()).current||(_.current=(i=(n={resourceName:v,resourceOptions:b}).resourceName,l=f(f({},s=n.resourceOptions),{},{count:"count"in s?s.count:5}),d=o.Z.create(i,l),y=new a,m=function(){d.abort()},h=p(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s,u,l,p,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.isCalling()){e.next=8;break}if(i=null===(r=d.options)||void 0===r?void 0:r.term,a=null===(o=d.options)||void 0===o?void 0:o.pin_scope,!(t===i&&n===a)){e.next=7;break}return e.abrupt("return",void 0);case 7:m();case 8:return(s=d.options||{}).bookmarks,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(s,c),d.options=f(f({},u),{},{term:t,pin_scope:n}),e.next=12,d.callGet({showError:!1});case 12:return p=null==(l=e.sent.resource_response.data)?void 0:l.items,g={hint:h=(null==l?void 0:l.hint)||{},items:p},y.set("".concat(n,"-").concat(t),g),e.abrupt("return",{term:t,items:p,hint:h});case 19:case"end":return e.stop()}},e)})),g=p(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=y.get("".concat(n,"-").concat(t)))||!((o=r.items)&&o.length)){e.next=7;break}return m(),i=r.hint,e.abrupt("return",{hint:i,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",function(e,t){return h.apply(this,arguments)}(t,n));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return g.apply(this,arguments)})),_.current),R=P.pin_scope||"pins",L="".concat(R,"-").concat(I);return(0,r.useEffect)(function(){p(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=I&&(w||T.current))){e.next=17;break}if(!(L in C.current)){e.next=5;break}k(C.current[L]),e.next=17;break;case 5:return e.prev=5,e.next=8,D(I,R);case 8:(t=e.sent)&&(n=t.items,C.current[L]=n,k(n)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:T.current||(T.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[I,R,L]),E}},940589:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(643913);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.query,n=e.rs,a=e.scope,c=e.guideAdded,s=e.filters,u=e.user,l=e.requestParams;if(!t)return"/";var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:t,rs:n},l);if(s&&(p.filters=s),u&&(p.user=u),c&&c.term&&(p.add_refine="".concat(c.term,"|guide|word|").concat(c.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(p));var d=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(d)||(d="pins"),d?"/search/".concat(d,"/?").concat((0,r.Z)(p)):"".concat(window.location.pathname,"?").concat((0,r.Z)(p))}},23003:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(826067);function o(e){var t,n=(0,r.mB)(e.search)||{};if(n.q){var o=e.pathname.split("/");t=o.length>2?o[2]:"pins"}if(n.q&&t){var i=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,c=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:c,query:i||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},391143:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(613316),o=n(643913);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,c=e.storyCategory,s=e.storyId,u=e.title,l=[0,24,21,26].includes(c),p=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:s,top_pin_id:n}),d=l&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return l?d:"/search/pins/".concat(p?"?"+p:"")}},862628:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},940882:function(e,t,n){n.d(t,{J:function(){return r},Z:function(){return o}});var r=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:function(e,t,n){var r=n(858142),o=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,r.Z)(o,e,t)}},858791:function(e,t){t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},858142:function(e,t){t.Z=function(e,t,n){return t?t.replace(e,function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""}):""}},66699:function(e,t,n){var r=n(985913),o=n(858791);t.Z=function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]?(0,o.Z)(t[e].toString()):""}),(0,r.Z)(e,n)}},883561:function(e,t,n){n.d(t,{ZP:function(){return r}});function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||o)t=e.substring(0,n);else{var i=e.lastIndexOf(" ",n);t=e.substring(0,i)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},430323:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(76911),o=n(722767),i=n(558068),a=n(780280),c=n(706922),s=n(245474),u=(0,n(425288).Z)("timeSpentContext"),l=u.Provider,p=u.useMaybeHook,d=n(790123),f=n(350118),y=n(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(u);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function u(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u),S(_(t=a.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),S(_(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,c=e.view,s=e.viewParameter;return{view:c||(null==a?void 0:a.view),viewParameter:s||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:o,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),S(_(t),"getLoggerContext",function(){var e=g({},t.getContext());return delete e.getParentUuid,e}),S(_(t),"getParentId",function(){var e=t.props,n=e.timeSpentContext,r=e.shouldUseGrandparentId;if(void 0!==r&&r&&n&&n.getGrandparentUuid){var o=n.getGrandparentUuid();if(o)return o}return n&&n.getParentUuid?n.getParentUuid():void 0}),S(_(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),S(_(t),"getTimedPair",function(){return t.state.timedPair}),S(_(t),"setTimedPair",function(e){return t.setState({timedPair:e})}),S(_(t),"isRegistered",!1),S(_(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(_(t)),t.isRegistered=!0}),S(_(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(_(t)),t.isRegistered=!1)}),S(_(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,o=r.bottom,i=r.left,a=r.right,c=r.top;n>0?t.registerComponent():0===n&&(0===o&&0===i&&0===a&&0===c?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new s.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,c.Z)(e.auxData,this.props.auxData)&&(0,c.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,y.jsx)(l,{value:this.getContext(),children:(0,y.jsx)(o.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:r.Children.only(e)})})}}],v(u.prototype,n),i&&v(u,i),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);function O(e){var t,n=(0,i.Hv)(),o=p(),c=(0,d.w)(),s=(0,f.H0)(),u=(0,a.B)().requestIdentifier,l=g({app_instance_id:(void 0===u?"":u).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,r.useEffect)(function(){null==c||c.setHistoryStackContext(n)},[n,c]),(0,r.useEffect)(function(){null==c||c.setPins(null!=s?s:{})},[s,c]),c?(0,y.jsx)(j,g(g({},e),{},{auxData:l,timeSpentContext:o,timeSpentManager:c,children:e.children})):e.children}O.displayName="TimeSpent";var P=O},388619:function(e,t,n){var r=n(704115);t.Z=function(e){var t=e.url;if(t){var n=t.split("?");if(n[1])return(0,r.Z)(n[1])}return(0,r.Z)()}},215292:function(e,t,n){n.d(t,{q:function(){return c}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],c=i[1],s=o((0,r.useState)(!1),2),u=s[0],l=s[1];return{active:t,focused:a,hovered:u,onBlur:function(){c(!1),n(!1)},onFocus:function(){return c(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){l(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function c(e){return(0,e.children)(a())}t.Z=a},977558:function(e,t,n){n.d(t,{L1:function(){return i},Rz:function(){return s},WZ:function(){return a},cI:function(){return o},fe:function(){return c},hu:function(){return r}});var r=64,o=80,i=22,a="HeaderContent",c=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},861411:function(e,t,n){n.d(t,{fv:function(){return E},fS:function(){return B},Hs:function(){return D},Mv:function(){return C},uc:function(){return A},dL:function(){return T},qS:function(){return k},Y4:function(){return M},HE:function(){return L},Cy:function(){return R}});var r=n(76911),o=n(945790),i=n(407043),a=n(124580),c=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(c,e);var t,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(c);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=i.call.apply(i,[this].concat(n))),"observe",function(){try{if(e.node=(0,o.findDOMNode)(f(e)),e.node instanceof HTMLElement){var t=e.props.eventData,n=t.pinIdStr,r=t.newsIdStr;a.Z.start(e.node).onExitViewport(e.logImpression).setDebugId(n||r||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),m(f(e),"logImpression",function(t){e.props.logImpression({viewData:e.props.viewData||{},viewType:e.props.viewType,viewParameter:e.props.viewParameter,eventType:e.props.eventType,impressionType:e.props.impressionType,auxData:e.props.auxData,component:e.props.component,objectIdStr:e.props.objectIdStr,eventData:l({endTime:t.endTime,time:t.startTime},e.props.eventData)})}),e}return p(c.prototype,[{key:"componentDidMount",value:function(){this.props.isPaused||this.observe()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.observe()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),n&&p(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.Component);function v(e){var t=(0,i.v)().logImpression;return(0,c.jsx)(g,l(l({},e),{},{logImpression:t}))}var b=n(337815),_=n(780280),x=n(807609);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){var t=e.auxData,n=e.component,o=e.eventData,c=e.eventType,s=e.impressionType,u=e.isPaused,l=e.objectIdStr,p=e.viewData,d=e.viewType,f=e.viewParameter,y=(0,r.useRef)(null),m=(0,i.v)().logImpression,h=(0,x.Z)(),g=(0,_.B)(),v=(0,r.useCallback)(function(){try{if(y.current instanceof HTMLElement){var e=o.pinIdStr,r=o.newsIdStr;a.Z.start(y.current).onExitViewport(function(e){m({viewData:p||{},viewType:d,viewParameter:f,eventType:c,impressionType:s,auxData:t,component:n,objectIdStr:l,eventData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({endTime:e.endTime,time:e.startTime,pinCellWidth:(null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(i=y.current)||void 0===i?void 0:i.getBoundingClientRect().height)||0,windowWidth:null===(a=window)||void 0===a?void 0:a.innerWidth,windowHeight:null===(u=window)||void 0===u?void 0:u.innerHeight},o)});var r,i,a,u,v,_,x=o.attributionSourceId,j=o.campaignId,O=o.isPromoted,P=o.link,I=o.advertiserId;"pinImpressions"===s&&O&&!h&&null!==(v=window.document.featurePolicy)&&void 0!==v&&v.allowsFeature("attribution-reporting")&&(0,b.YS)(s,O,null!=x?x:null,P,j,{appType:g.appTypeDetailed,osType:(0,b.eF)(null!==(_=g.userAgent.osName)&&void 0!==_?_:"Unknown")},null!=I?I:null)}).setDebugId(e||r||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[y.current]);return(0,r.useEffect)(function(){u||v();var e=y.current;return function(){e instanceof HTMLElement&&a.Z.stop(e)}},[u,v]),y}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},C=function(e){var t=j({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},A=function(e){var t=j({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},E=function(e){return(0,c.jsx)(v,{eventData:I(I({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},k=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},D=function(e){return(0,c.jsx)(v,{eventData:I(I({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},R=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},L=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},M=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},B=function(e){var t=j({eventData:I(I({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},791185:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(908390),o=n(965900),i=n(515198),a=new r.Ry(500);function c(){return(0,o.I)().appUI.showTypeaheadOverlay?(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:a}):null}},865607:function(e,t,n){n.d(t,{O:function(){return u},Z:function(){return l}});var r=n(76911),o=n(908390),i=n(898781),a=n(966113),c=n(515198),s={xs:12,sm:16,md:20,lg:24};function u(e){var t=e.children,n=(0,i.ZP)();return(0,c.jsx)(o.u,{link:(0,c.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,c.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function l(e){var t=e.hasVerifiedIdentity,n=e.iconOnly,a=e.isVerifiedMerchant,l=e.showText,p=e.size,d=(0,i.ZP)(),f=(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(o.JO,{accessibilityLabel:d._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[p]}),l&&(0,c.jsx)(o.xu,{marginStart:2,children:(0,c.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:d._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,c.jsxs)(r.Fragment,{children:[a&&!n&&(0,c.jsx)(u,{children:f}),a&&n&&f,t&&!a&&(0,c.jsx)(o.JO,{accessibilityLabel:d._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[p]})]})}},65675:function(e,t,n){n.d(t,{A:function(){return c},Z:function(){return s}});var r=n(76911),o=n(908390),i=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,n,s,u=e.backgroundColor,l=e.children,p=e.coverImage,d=e.disableTabIndex,f=e.height,y=e.id,m=e.isHovered,h=e.onClick,g=e.onMouseDown,v=e.onMouseEnter,b=e.onMouseLeave,_=e.searchBoxRenderStopwatch,x=e.url,S=e.width,w=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=w[0],O=w[1],P=function(){v?v():O(!0)},I=function(){b?b():O(!1)},T=m||j,C=T?c.hoverOverlay:c.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:x,onBlur:I,onFocus:P,onMouseDown:g,onMouseEnter:P,onMouseLeave:I,onTap:function(){null==h||h(y)},rounding:4,tabIndex:d?-1:void 0,children:(0,i.jsx)(o.zd,{rounding:4,width:S||"100%",height:f,children:null!=p&&p.url?(0,i.jsxs)(o.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(n=p.height)&&void 0!==n?n:1,naturalWidth:null!==(s=p.width)&&void 0!==s?s:1,onLoad:function(){null==_||_.stop()},role:"presentation",src:p.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:C},height:"100%",width:"100%"}),"function"==typeof l?l({isHovered:T}):l]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},666389:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(76911),o=n(908390),i={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},a=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,n,r,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=f(m);if(t){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(d(e=s.call.apply(s,[this].concat(n))),"state",{hovered:!1}),y(d(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),y(d(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,n=e.onClick,r=e.color,c=Object.freeze({height:t,width:t}),s=u({border:0,display:"block",background:"transparent",cursor:"pointer"},i.buttonFocus),l=u(u(u({},i.pog),i.transparent),this.state.hovered?i.transparentHovered:{}),p=u(u({},c),l);return(0,a.jsx)("button",{type:"button",style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:function(e){return n&&n({event:e})},children:(0,a.jsx)("div",{style:p,children:(0,a.jsx)(o.xu,{rounding:"circle",children:(0,a.jsx)(o.JO,{accessibilityLabel:"",icon:"flag",size:t/2,color:void 0===r?"subtle":r})})})})}}],l(m.prototype,n),r&&l(m,r),Object.defineProperty(m,"prototype",{writable:!1}),m}(r.Component)},72809:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(76911),o=n(908390),i=n(186656),a=n(121151),c=n(499128),s=n(898781),u=n(343341),l=n(666389),p=n(116674),d=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(p,e);var t,n,s,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=_(p);if(t){var r=_(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function p(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var e,t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return x(b(e=u.call.apply(u,[this].concat(r))),"state",{showModal:!1,reportType:null}),x(b(e),"handleDismiss",function(){return e.setState({showModal:!1})}),x(b(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),x(b(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=e.props).imgSignature,o=n.reportImage,e.setState({showModal:!1}),t.next=4,(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:r}});case 4:a=t.sent.resource_response.data.id,o(a);case 7:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)})})),x(b(e),"reportSuggestionText",function(){var t=e.props,n=t.handleReport,r=t.toastManagerContext;n&&(n(),r.showToast(function(t){var n=t.hideToast;return(0,d.jsx)(c.ZP,{onHide:n,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),x(b(e),"showModal",function(t){var n=t.event;n.stopPropagation(),n.preventDefault(),e.setState({showModal:!0})}),e}return n=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,d.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,d.jsx)(l.Z,{onClick:this.showModal,backgroundHaloSize:24}),t&&(0,d.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xu,{padding:5,children:(0,d.jsx)(o.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,d.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,d.jsxs)(o.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,d.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,d.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"textType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,d.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,d.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"imageType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,d.jsx)(o.iz,{}),(0,d.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}],g(p.prototype,n),s&&g(p,s),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.PureComponent);function j(e){var t=(0,s.ZP)(),n=(0,p.f)().reportImage;return(0,d.jsx)(w,m(m({},e),{},{i18n:t,reportImage:n,toastManagerContext:(0,u.F9)()}))}},873268:function(e,t,n){n.d(t,{Z:function(){return tS}});var r=n(76911),o=n(599689),i=n(908390),a=n(660187),c=n(407043),s=n(898781),u=n(124580),l=n(755742),p=n(53987),d=(0,n(584992).Z)({name:"search_tab_render",sampleRate:1}),f=d.Provider,y=d.useHook,m=n(780280),h=n(150461),g=n(940589),v=n(23003),b=n(862628),_=n(595371),x=n(909499),S=n(19121),w=n(965900),j={md:407,sm:332,auto:"auto"},O=["pin.description","pin.id","pin.images[236x]"],P={__style:{backgroundColor:"rgba(0,0,0, .4)"}},I={SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},T=n(977558),C=n(515198);function A(e){var t=e.contentTypes,n=e.contentTypesAnchor,r=e.handleSelectFilter,o=e.onDismiss;return(0,C.jsx)(i.Lt,{anchor:n,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new i.Ry(T.fe),children:t.map(function(e,t){return(0,C.jsx)(i.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(t)},option:{value:e.text,label:e.text},children:(0,C.jsx)(i.xv,{weight:[x.lw.PINS,x.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){switch(e){case x.lw.PINS:return 220;case x.lw.PINS_MINE:return 223;case x.lw.PINS_VIDEO:return 11399;case x.lw.BOARDS:return 221;case x.lw.USERS:return 222;default:return null}},R=function(e){var t,n,a=e.currentlySelectedFilter,u=e.currentQuery,l=e.handleContentTypeFilterHover,p=e.handleScopeChange,d=(0,c.v)().logContextEvent,f=(0,s.ZP)(),y=(n=(t=[{scope:x.lw.PINS,text:f._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:x.lw.PINS_MINE,text:f._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===x.lw.PINS_MINE}),t.push(t.splice(n,1)[0]),t),m=(0,r.useRef)(null),h=(0,o.useHistory)(),g=E((0,r.useState)(a||y[0].scope),2),v=g[0],b=g[1],S=E((0,r.useState)(!1),2),w=S[0],j=S[1],O=E((0,r.useState)(!1),2),P=O[0],I=O[1];(0,r.useEffect)(function(){b(a)},[a]);var T=function(){I(!0),l&&l(!0)},k=function(){I(!1),l&&l(!1)},R=(y[v?y.findIndex(function(e){return e.scope===v}):0]||y[0]).text,L=(0,C.jsx)(i.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},ref:m,children:(0,C.jsxs)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,C.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:R}),(0,C.jsx)(i.xu,{marginStart:2,children:(0,C.jsx)(i.JO,{accessibilityLabel:f._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,C.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,marginStart:2,position:"relative",rounding:6,children:[(0,C.jsx)(i.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return T()},onMouseLeave:function(){return k()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),j(!w),d({event_type:101,component:215,aux_data:{entered_query:u}})},rounding:6,children:L}),w&&(0,C.jsx)(A,{contentTypes:y,contentTypesAnchor:m.current,handleSelectFilter:function(e){var t=y[e].scope;b(t),j(!1),d({event_type:101,component:215,element:D(t),aux_data:{entered_query:u}}),p(t),u&&h.push("/search/".concat(t,"/?q=").concat(encodeURIComponent(u),"&rs=").concat(_.i.FILTER))},onDismiss:function(){return j(!1)}})]})},L=n(333312),M=n(50286),B=n(829407),N=n(100745);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",F={transform:"scale(0)",opacity:"0",transition:z},q={transform:"scale(1)",opacity:"1",transition:z},U={transform:"scale(1.2)",transition:z};function V(e){var t,n,o,a=e.handleClearMode,c=e.scope,u=e.backgroundColorHex,l=e.iconType,p=(0,s.ZP)(),d=(0,M.HG)(),f=(0,x.Hd)(c,d),y=Z((0,r.useState)(!1),2),m=y[0],h=y[1],g=(0,i.JZ)(),v=Z((0,r.useState)(g?q:F),2),b=v[0],_=v[1],S=(0,r.useRef)();if((0,B.Z)(function(){return g?function(){}:(_(q),function(){_(F)})}),m)o="cancel";else if(6===l)o="person";else{if(1!==l)return null;o="shopping-bag"}return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:S,dangerouslySetInlineStyle:{__style:m?U:b},"data-test-id":"mode-icon-wrapper",children:(0,C.jsx)(i.iP,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},onTap:a,rounding:"circle",tapStyle:"compress",children:(0,C.jsx)(i.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(t=u&&u[0])&&void 0!==t?t:void 0}},children:(0,C.jsx)(i.JO,{accessibilityLabel:p._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:o,color:"inverse",size:16})})})}),(null===(n=S.current)||void 0===n?void 0:n.style.transform)!==F.transform&&(0,C.jsx)(L.default,{id:"experience-tooltip",anchor:S.current,hasFullWidthButton:!1,placementId:f,experienceIds:[c===x.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function W(e){var t=e.handleClearMode,n=e.scope,o=(0,N.A)().searchContext.modeIcon;if(o)return(0,C.jsx)(r.Suspense,{fallback:null,children:(0,C.jsx)(V,{handleClearMode:t,scope:n,backgroundColorHex:o.backgroundColorHex,iconType:o.iconType})})}var G=n(425288),K=n(505920);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==X(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $={recentSaves:[],recentViews:[]};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var n=t.payload,r=n.options,o=n.resource,i=t.payload.response.resource_response.data;if("ApiResource"===o&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&i){var a=i.find(function(e){return"user_recently_viewed_pins"===e.story_type}),c=i.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==c?void 0:c.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(r)}}))||[];return Q(Q({},e),{},{recentSaves:u,recentViews:s})}}return e}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var et=(0,G.Z)("SearchBox"),en=et.Provider,er=et.useHook;function eo(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(J,$))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];(0,K.Z8)("ApiResource",function(e){a({type:"FETCH_COMPLETE",payload:e})});var c=(0,r.useMemo)(function(){return{state:i}},[i]);return(0,C.jsx)(en,{value:c,children:n})}var ei=n(613316),ea=n(784590),ec=n(391143),es=n(794230);function eu(e){var t=e.suggestion,n=e.query,r=e.lastFocusTime,o=void 0===r?0:r,i=e.filterSelectedTerm;if("explorearticle"===t.type){var a,c,s=t.story_category,u=t.query,l=t.referringSource,p=t.id,d=t.storyId;return null!==(a=null===(c=t.action)||void 0===c?void 0:c.url)&&void 0!==a?a:(0,ec.Z)({storyCategory:s,query:u,referringSource:l,bubbleId:p,storyId:d})}if("todayarticle"===t.type){var f=t.id,y=t.title;return(0,ei.x)({title:y,id:f,articleType:"today"})}var m={eq:(0,b.Z)(n)};return o&&(m.etslf=String(Date.now()-o)),"inclusive_product_filter_query"===t.type&&i&&(m.filters=i),(0,es.Z)(t.url||"",m)}function el(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var ep=function(e){var t=0;return e.map(function(e){var n,r,o=t;return t+=null!==(n=(null!==(r=e.items)&&void 0!==r?r:[]).length)&&void 0!==n?n:0,o})},ed=function(e,t){if(null!=t){for(var n=ep(e),r=0;r<n.length;r+=1)if(e[r].items.length&&t-n[r]<e[r].items.length)return e[r].items[t-n[r]];return null}},ef=n(228001),ey=n(254469),em=n(869636),eh=n(349700),eg=n(430323),ev=n(388619),eb=n(319915),e_=n(123159);function ex(e){return(ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==ex(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ex(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ex(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eP=function(e,t){var n=RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function eI(e){var t=e.children,n=e.experiences,o=e.placementId,i=e.searchTerm,a=e.suggestions,c=(0,e_.M)().viewExperience,s=ej((0,r.useState)(null),2),u=s[0],l=s[1],p=ej((0,r.useState)(new Set),2),d=p[0],f=p[1],y=(null==n?void 0:n.filter(function(e){var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(function(e){return ew(ew({},e.display_data),{},{id:e.experience_id})}))||[];return(0,r.useEffect)(function(){if(!i||!a){l(null);return}if(!(null==u?void 0:u.search_query_list.find(function(e){return a.some(function(t){return eP(t.label,e)})}))){var e=y.find(function(e){var t;return e.id!==(null==u?void 0:u.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(function(e){return a.some(function(t){return eP(t.label,e)})}))});if(e){l(e);var t=e.id;d.has(t)||("number"==typeof t&&c(o,t),f(new Set(d).add(t)))}}},[i]),t({searchDelightConfig:u})}var eT=n(947599),eC=n(392370),eA=n(615119),eE=n(940882),ek=n(149230);function eD(e){var t,n=e.suggestions[0],r=(0,ek.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri});return(0,C.jsxs)(i.xu,{padding:10,children:[(0,C.jsx)(i.xu,{marginBottom:6,children:(0,C.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,C.jsx)(i.Tg,{rel:r?"nofollow":"none",href:n.action_button_uri,rounding:"pill",children:(0,C.jsx)(i.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,C.jsx)(i.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var eR=n(121151),eL=n(499128),eM=n(343341);function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eN(e){var t,n=e.handleReport,o=(0,s.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eB(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],u=a[1],l=(0,eM.F9)().showToast;return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.hU,{accessibilityLabel:o._('Report', 'Accessibility label for report icon for search term', 'Accessibility label for report icon for search term'),icon:"flag",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),u(!0)},size:"xs",iconColor:"gray"}),c&&(0,C.jsx)(eR.ZP,{accessibilityModalLabel:o._('Report search', 'accessible label for report search modal', 'accessible label for report search modal'),heading:o._('Report Search Term', 'Heading for report searchmodal', 'Heading for report searchmodal'),onDismiss:function(){return u(!1)},size:"sm",children:(0,C.jsxs)(i.xu,{children:[(0,C.jsx)(i.xu,{padding:4,children:(0,C.jsx)(i.xv,{children:o._('Flag this search term for review by our Trust and Safety team', 'What will happen when you report a search term', 'What will happen when you report a search term')})}),(0,C.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,C.jsx)(i.xu,{margin:2,children:(0,C.jsx)(i.zx,{fullWidth:!0,onClick:function(){return u(!1)},text:o._('Cancel', 'Text for cancel button when reporting search result', 'Text for cancel button when reporting search result')})}),(0,C.jsx)(i.xu,{margin:2,children:(0,C.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:function(){n(),l(function(e){var t=e.hideToast;return(0,C.jsx)(eL.ZP,{onHide:t,text:o._('Thanks! Your feedback helps keep the Pinterest community safe.', 'Toast after reporting a search term', 'Toast after reporting a search term')})}),u(!1)},text:o._('Report', 'Button label to report search term', 'Button label to report search term')})})]})]})})]})}var eZ=n(865607);function eH(e){var t=e.id,n=e.children,r=e.isHovered,o=e.url,a=e.onClick,c=e.onMouseEnter,s=e.onMouseLeave;return(0,C.jsx)(i.xu,{id:t,color:r?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":r?"true":"false",children:(0,C.jsx)(i.Tg,{onMouseEnter:c,onMouseLeave:s,href:o,tabIndex:-1,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.metaKey||t.ctrlKey||(t.preventDefault(),a())},children:(0,C.jsx)(i.xu,{marginBottom:1,paddingX:5,children:n})})})}function ez(e){var t=e.highlightMatch,n=e.iconName,r=e.imageUrl,o=e.isVerifiedMerchant,a=void 0!==o&&o,c=e.label,u=e.query,l=e.rounding,p=e.searchDelightConfig,d=e.subLabel,f=e.verified,y=void 0!==f&&f,m=(0,s.ZP)();return(0,C.jsx)(i.xu,{display:"flex",paddingY:r?1:0,width:"100%","data-test-id":r||n?"enriched-search-suggestion":"regular-search-suggestion",children:(0,C.jsxs)(i.kC,{gap:{row:2,column:0},alignItems:"center",children:[r?(0,C.jsx)(i.xu,{width:40,height:40,overflow:"hidden",rounding:l&&2===l?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,C.jsx)(i.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,src:r})}):(0,C.jsx)(i.kC,{justifyContent:"center",alignItems:"center",width:40,height:40,children:(0,C.jsx)(i.xu,{marginTop:1,children:(0,C.jsx)(i.JO,{accessibilityLabel:n?(0,eh.nk)(m._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:n}).join():"",color:"default",icon:n||"search",size:12})})}),(0,C.jsxs)(i.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,C.jsxs)(i.kC,{alignItems:"center",children:[void 0!==t&&t&&u?(0,C.jsx)(eC.Z,{searchDelightConfig:p,query:u,text:c||u}):(0,C.jsx)(i.xv,{weight:"bold",children:c}),(y||a)&&(0,C.jsx)(i.xu,{marginStart:1,children:(0,C.jsx)(eZ.Z,{hasVerifiedIdentity:y,iconOnly:!0,isVerifiedMerchant:a,size:"xs"})})]}),d&&(0,C.jsx)(i.xv,{size:"100",children:d})]})]})})}var eF=n(796668),eq=(0,r.lazy)(function(){return Promise.all([n.e(71827),n.e(54731)]).then(n.bind(n,721541))});function eU(e){var t=e.experiences,n=e.index,o=e.focusedIndex,a=e.onInclusiveProductFilterClick,c=e.onSuggestionClick,u=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,p=e.query,d=e.suggestion,f=(0,s.ZP)(),y=(0,S.Z)(),m="number"==typeof d.identifier_icon_name&&d.identifier_icon_name!==eE.J?(0,eE.Z)(d.identifier_icon_name):void 0,h=function(){(0,eA.Z)({report:d.label.toLowerCase(),query:p.toLowerCase(),suggestions:[d.label],type:0})};return(0,C.jsx)(eI,{experiences:t,placementId:1000315,searchTerm:p,suggestions:[d],children:function(e){var t=e.searchDelightConfig;return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(eH,{id:el(0,n),url:eu({suggestion:d,query:p}),isHovered:o===n,onClick:function(){c(d,n)},onMouseEnter:function(){u(n)},onMouseLeave:function(){l()},children:(0,C.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(i.xu,{flex:"grow",children:"inclusive_product_filter_query"===d.type?(0,C.jsx)(i.xu,{marginBottom:2,children:(0,C.jsx)(i.xv,{weight:"bold",children:(0,eh.nk)(d.eligibleHairPatternFilters?f._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):f._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,C.jsx)(eC.Z,{searchDelightConfig:t,query:p,text:d.label||p})})})}):(0,C.jsx)(ez,{highlightMatch:!0,iconName:m,imageUrl:d.image,label:d.label,query:p,rounding:2,searchDelightConfig:t,subLabel:d.subLabel})}),y.isAuth&&y.isEmployee&&o===n?(0,C.jsx)(i.xu,{flex:"none",children:(0,C.jsx)(eN,{handleReport:h})}):null]})}),"inclusive_product_filter_query"===d.type&&a&&(0,C.jsx)(i.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:d.eligibleHairPatternFilters?(0,C.jsx)(eb.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,C.jsx)(eT.Z,{children:(0,C.jsx)(i.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,C.jsx)(eq,{eligibleFilters:d.eligibleHairPatternFilters,isUpsell:!0,query:p,onClickApplyFilters:function(e){return a(d,n,e)}})})})}):(0,C.jsx)(eF.Z,{query:p,onClickApplyFilters:function(e){return a(d,n,e)},showHeaderText:!1})})]})}})}var eV=function(e){var t=e.index,n=e.focusedIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestion;return(0,C.jsx)(eH,{id:el(0,t),url:a.url,isHovered:n===t,onClick:function(){r(a,t)},onMouseEnter:function(){o(t)},onMouseLeave:function(){i()},children:(0,C.jsx)(ez,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function eW(e){var t=e.focusedIndex,n=e.onSuggestionClick,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=(0,s.ZP)(),c=0===t;return(0,C.jsx)(i.xu,{"aria-selected":c?"true":"false",id:"syop_cta",role:"option",children:(0,C.jsxs)(i.xu,{paddingX:6,marginTop:3,children:[(0,C.jsx)(i.iz,{}),(0,C.jsx)(i.xu,{marginTop:4,children:(0,C.jsxs)(i.kC,{justifyContent:"between",alignItems:"center",children:[(0,C.jsx)(i.xv,{weight:"bold",lineClamp:2,children:a._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,C.jsx)(i.kC.Item,{flex:"none",children:(0,C.jsx)(i.iP,{onTap:n,rounding:"pill",onMouseEnter:function(){r(0)},onMouseLeave:o,children:(0,C.jsx)(i.xu,{rounding:"pill",color:c?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,C.jsx)(i.xv,{align:"center",weight:"bold",children:a._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function eG(e){var t=e.experiences,n=e.suggestion,r=e.index,o=e.focusedIndex,i=e.query,a=e.onSuggestionClick,c=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.onInclusiveProductFilterClick;switch(n.type){case"autocompleteupsell":return(0,C.jsx)(eD,{suggestions:[n]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,C.jsx)(eU,{experiences:t,index:r,focusedIndex:o,onInclusiveProductFilterClick:u,onSuggestionClick:a,onSuggestionMouseEnter:c,onSuggestionMouseLeave:s,query:i,suggestion:n});case"user":return(0,C.jsx)(eV,{index:r,focusedIndex:o,onSuggestionClick:a,onSuggestionMouseEnter:c,onSuggestionMouseLeave:s,suggestion:n})}return null}var eK=n(506979),eX=n(444445),eY=n(366428),eQ=n(65675),e$=n(72809);function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e0(e){var t,n,o,a=e.contextLogData,c=e.dominantColor,s=e.handleReport,u=e.height,l=e.id,p=e.image,d=e.isDarkRep,f=void 0!==d&&d,y=e.isHovered,m=e.name,h=e.onMouseEnter,g=e.onMouseLeave,v=e.onTap,b=e.searchBoxRenderStopwatch,_=e.slotIndex,x=e.url,w=e.viewParameter,j=e.viewType,O=e.width,P=(0,eY.Z)({contextLogData:a,impressionType:"Article",loggingId:l,slotIndex:_,viewParameter:w,viewType:j}),I=(0,S.Z)(),T=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eJ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=T[0],E=T[1],k=A||y,D=u||80;!O||O>=200?(n=3,o="300"):O>=150?(n=2,o="200"):(n=2,o="100");var R=function(){h?h():E(!0)},L=function(){g?g():E(!1)};return(0,C.jsx)(i.xu,{height:D,ref:P,width:O||"100%",children:(0,C.jsx)(i.zd,{wash:!f,rounding:4,children:(0,C.jsx)(i.xu,{dangerouslySetInlineStyle:f?{__style:{backgroundColor:k?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:k?eQ.A.lightHoverOverlay:{}},children:(0,C.jsx)(i.st,{children:(0,C.jsxs)(i.Tg,{href:x,onBlur:L,onFocus:R,onMouseEnter:R,onMouseLeave:L,onTap:v,rounding:4,children:[(0,C.jsxs)(i.kC,{direction:"row",children:[(0,C.jsx)(i.zd,{height:D,wash:!0,width:D,children:(0,C.jsx)(i.Ee,{alt:"",color:c,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:p})}),(0,C.jsx)(i.xu,{alignItems:"center",display:"flex",maxHeight:D,maxWidth:O?O-D:eX.yF-80,padding:4,children:(0,C.jsx)(i.xv,{color:f?"light":void 0,lineClamp:n,size:o,weight:"bold",children:m})})]}),s&&I.isAuth&&I.isEmployee?(0,C.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,C.jsx)(e$.Z,{handleReport:s,imgSignature:p,isVisible:null!=k&&k})}):null]})})})})})}var e1=n(81636),e2=n(186656),e3=n(248327),e8=n(356997),e6=n(66699),e9=n(784641),e4=n(861411);function e7(e){var t,n,o=e.bubble,a=e.height,c=e.isHovered,s=e.onClick,u=e.onMouseDown,l=e.onMouseEnter,p=e.onMouseLeave,d=e.searchBoxRenderStopwatch,f=e.showFlag,y=e.slotIndex,m=e.storyId,h=e.storyType,g=e.viewParameter,v=e.viewType,b=e.width,_=(0,S.Z)(),x=o.id,w=o.title,j=o.image_urls,O=o.article_creator_user,P=function(){(0,eA.Z)({query:"",report:w,suggestions:[w],type:I.SEARCH_TRENDING_TEXT})},T=j&&j.length>0?{url:j[0]}:void 0,A=(0,e6.Z)(w||"",{});if(!o.title||!o.id)return null;var E=(0,e9.T7)(null!==(t=o.feed_source)&&void 0!==t?t:0,null!==(n=o.is_product_pin_feed)&&void 0!==n&&n,o.title,o.id);return(0,C.jsx)(e4.Y4,{auxData:{grid_index:y.toString(),today_article_id:x,story_type:h,story_id:m},loggingId:x,objectIdStr:x,slotIndex:y,viewParameter:g||3467,viewType:v,children:function(e){var t=e.impressionTrackerRef;return(0,C.jsx)(eQ.Z,{backgroundColor:"gray",coverImage:T,disableTabIndex:!0,height:a,id:x,isHovered:c,onClick:s,onMouseDown:u,onMouseEnter:l,onMouseLeave:p,ref:t,searchBoxRenderStopwatch:d,url:E,width:b,children:function(e){var n,o=e.isHovered;return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.xu,{alignItems:"end",display:"flex",height:a,justifyContent:"center",padding:3,position:"absolute",top:!0,width:b||"100%",ref:t,children:(0,C.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[a>200?(0,C.jsx)(i.X6,{size:"500",align:"center",color:"light",children:A}):(0,C.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:A}),O&&O.image_small_url&&O.full_name&&(0,C.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,C.jsx)(i.xu,{marginEnd:2,children:(0,C.jsx)(e8.qE,{outline:!0,size:"xs",src:O.image_small_url,name:O.full_name})}),(0,C.jsx)(i.xv,{size:"100",color:"light",children:O.full_name})]})]})}),_.isAuth&&_.isEmployee&&f&&(0,C.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,C.jsx)(e$.Z,{handleReport:P,imgSignature:null!==(n=null==T?void 0:T.url)&&void 0!==n?n:"",isVisible:o})})]})}})}})}function e5(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(r,o)}var te=function(e){var t=e.handleRemove,n=e.id,r=e.isHovered,o=e.label,a=e.onClick,c=e.onMouseEnter,s=e.onMouseLeave,u=e.removeA11yText,l=e.url;return(0,C.jsx)(i.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,C.jsx)(i.Tg,{accessibilityLabel:o,href:l,onMouseEnter:c,onMouseLeave:s,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(n(),t.preventDefault(),a())},rounding:"pill",children:(0,C.jsxs)(i.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,C.jsx)(i.xv,{align:"center",children:o}),(0,C.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,C.jsx)(i.hU,{accessibilityLabel:null!=u?u:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),null==t||t(o)},size:"xs"})})]})})})},tt=function(e){var t,n,o,a,c,u,l=e.id,p=e.isHovered,d=e.onClick,f=e.onMouseEnter,y=e.onMouseLeave,m=e.showSeeMoreOverlay,h=e.suggestion,g=e.trackClick,v=e.url,b=(0,s.ZP)();return(0,C.jsx)(i.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion",id:l,marginBottom:2,paddingX:1,role:"option",children:(0,C.jsx)(i.Tg,{onMouseEnter:f,onMouseLeave:y,href:v||h.url,rounding:3,tabIndex:-1,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),g(),t.metaKey||t.ctrlKey||v||(t.preventDefault(),d())},children:(0,C.jsxs)(i.zd,{height:116,rounding:3,wash:p,width:90,children:[(0,C.jsx)(i.Ee,{alt:h.label,fit:"cover",naturalHeight:null!==(t=null===(n=h.images["236x"])||void 0===n?void 0:n.height)&&void 0!==t?t:1,naturalWidth:null!==(o=null===(a=h.images["236x"])||void 0===a?void 0:a.width)&&void 0!==o?o:1,src:null!==(c=null===(u=h.images["236x"])||void 0===u?void 0:u.url)&&void 0!==c?c:""}),m&&(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.xu,{dangerouslySetInlineStyle:P,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,C.jsx)(i.xu,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,C.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:b._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},tn=function(e){var t=e.componentType,n=e.focusedIndex,r=e.groupIndex,o=e.keyPrefix,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,l=e.seeMoreUrl,p=e.suggestions,d=e.title,f=(0,c.v)().logContextEvent;return(0,C.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,C.jsx)(i.kC,{width:"100%",children:(0,C.jsx)(tr,{title:d})}),(0,C.jsx)(i.xu,{display:"flex",wrap:!0,width:"100%",paddingX:8,children:p.map(function(e,i){var c=6===i&&7===p.length;return(0,C.jsx)(tt,{id:el(r,i),isHovered:n===i,onClick:function(){a(e,i)},onMouseEnter:function(){s(i)},onMouseLeave:function(){u()},showSeeMoreOverlay:c,suggestion:e,trackClick:function(){f({event_type:101,component:t,element:c?179:12374,view_type:2,view_parameter:103})},url:c?l:e.url},"".concat(o,"-").concat(i))})})]})},tr=function(e){var t=e.title;return(0,C.jsx)(i.xu,{alignItems:"center",display:"flex",marginStart:8,children:(0,C.jsx)(i.xv,{lineClamp:1,weight:"bold",children:t})})};function to(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,c=(0,s.ZP)();return(0,e1.Q)({component:13844,view_parameter:103,view_type:2}),(0,C.jsx)(tn,{componentType:13844,focusedIndex:t,groupIndex:n,keyPrefix:"recent_save",onSuggestionClick:r,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:a,title:c._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function ti(e){var t,n,r=e.containerWidth,o=e.focusedIndex,a=e.groupIndex,c=e.onSuggestionClick,u=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,p=e.suggestions,d=(0,s.ZP)(),f=(0,eK.useDispatch)(),y=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e2.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:f((0,e3.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}));case 3:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){e5(i,r,o,a,c,"next",e)}function c(e){e5(i,r,o,a,c,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),m=d._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),h=function(e){var t=e.pillLabels,n=e.maxWidth,r=t.length;if(!n)return r;for(var o=0,i=0;i<t.length;i+=1){var a=7.5*t[i].length+40+24;if(a+o<n)o+=a;else{r=i;break}}return r}({pillLabels:p.map(function(e){return e.label}),maxWidth:r});return(0,C.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,C.jsx)(tr,{title:d._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,C.jsx)(i.xu,{display:"flex",overflow:"hidden",paddingX:8,position:"relative",children:p.slice(0,h).map(function(e,t){return(0,C.jsx)(i.xu,{"data-test-id":"recent-query",children:(0,C.jsx)(te,{handleRemove:y,id:el(a,t),isHovered:o===t,label:e.label,onClick:function(){c(e,t)},onMouseEnter:function(){u(t)},onMouseLeave:function(){l()},removeA11yText:m,url:eu({suggestion:e,query:""})})},"".concat(e.type,"-").concat(e.label))})})]})}function ta(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,c=(0,s.ZP)();return(0,e1.Q)({component:13843,view_parameter:103,view_type:2}),(0,C.jsx)(tn,{componentType:13843,focusedIndex:t,groupIndex:n,keyPrefix:"recent_view",onSuggestionClick:r,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:a,title:c._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tc(e){var t=e.groupIndex,n=e.focusedIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,c=e.searchBoxRenderStopwatch,s=e.suggestions,u=s.id,l=s.items,p=s.story_type,d=s.title.format,f=l.map(function(e){return e.type+":"+e.id}).join("|"),y=(0,eY.Z)({viewType:2,componentType:200,viewParameter:3467,loggingId:u,objectIdStr:u,contextLogData:{content_ids:f,story_id:u,story_type:p},impressionType:"Story",slotIndex:t});return(0,C.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,C.jsx)(tr,{title:d}),(0,C.jsx)(i.xu,{display:"flex",marginBottom:5,paddingX:8,ref:y,wrap:!0,children:l.slice(0,8).map(function(e,s){var l=n===s;return(0,C.jsx)(i.xu,{"aria-selected":l?"true":"false","data-test-id":"search-suggestion-today-bubble",id:el(t,s),marginBottom:2,paddingX:1,role:"option",children:(0,C.jsx)(e7,{bubble:e,height:192,isHovered:l,onClick:function(){r(e,s)},onMouseEnter:function(){o(s)},onMouseLeave:function(){a()},searchBoxRenderStopwatch:c,slotIndex:s,storyId:u,storyType:p,viewParameter:3467,viewType:2,width:192})},"story".concat("--",t,"-").concat(s))})})]})}function ts(e){for(var t=e.containerWidth,n=e.focusedIndex,r=e.groupIndex,o=e.onSuggestionClick,a=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.searchBoxRenderStopwatch,l=e.suggestions,p=(0,c.v)().logContextEvent,d=l.id,f=l.items,y=l.story_type,m=l.title.format,h=f.map(function(e){return e.type+":"+e.id}).join("|"),g=(0,eY.Z)({componentType:200,contextLogData:{content_ids:h,story_id:d,story_type:y},impressionType:"Story",loggingId:d,slotIndex:r,viewParameter:3467,viewType:2}),v=function(e){return 64+8*e},b=3,_=(t-v(3))/b;_>1.5*eX.yF;)b+=1,_=(t-v(b))/b;var x=_/2.6;return(0,C.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,C.jsx)(tr,{title:m}),(0,C.jsx)(i.xu,{display:"flex",paddingX:8,ref:g,direction:"row",wrap:!0,children:"shopping_spotlight"===y?f.map(function(e,t){return(0,C.jsx)(e7,{bubble:e,height:192,onClick:function(){p({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:y}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:t,viewParameter:3467,viewType:2,width:192},"ss-bubble-".concat(t))}):f.map(function(e,t){var c,l,p=n===t,m=e.aux_fields,g=e.cover_images,v=e.dominant_colors,b=e.id,S=e.query,w=e.story_category,j=e.title.format;return(0,C.jsx)(i.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion",id:el(r,t),marginBottom:2,marginEnd:2,role:"option",children:(0,C.jsx)(e0,{contextLogData:{story_type:y,content_ids:h,grid_index:t,story_id:d},dominantColor:v?v[0]:"",handleReport:function(){(0,eA.Z)({query:"",report:S,suggestions:f.map(function(e){return e.query}),type:2===e.story_category?I.SEARCH_TRENDING_TEXT:I.SEARCH_IDEAS_FOR_YOU})},height:x,id:b,image:g&&g[0]&&((null===(c=g[0]["236x"])||void 0===c?void 0:c.url)||(null===(l=g[0]["474x"])||void 0===l?void 0:l.url))||"",isHovered:p,name:j,onTap:function(){o(e,t)},onMouseEnter:function(){a(t)},onMouseLeave:function(){s()},searchBoxRenderStopwatch:u,slotIndex:t,url:(0,ec.Z)({query:j,referringSource:2===w?"trending":"autocomplete_bubble",bubbleId:null!=b?b:"",storyId:d,pinId:null==m?void 0:m.image_pin_id}),viewParameter:3467,viewType:2,width:_})},"story-".concat(null!=w?w:"","-").concat(r,"-").concat(b))})})]})}function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var td={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function tf(e){var t=e.focusIndex,n=e.maxHeight,o=e.onInclusiveProductFilterClick,a=e.onMouseEnter,c=e.onMouseLeave,u=e.onSuggestionClick,l=e.onSuggestionHovered,p=e.onSyopCtaClick,d=e.query,f=e.searchBoxHeight,y=e.searchBoxRenderStopwatch,m=e.showSyopHeading,h=e.suggestionGroups,v=e.width,b=(0,r.useRef)(),_=(0,s.ZP)(),x=(0,em.Z)(1000315).experiencesMulti;function S(){l(void 0)}return(0,C.jsx)(eg.Z,{view:2,viewParameter:103,children:h.length>0?(0,C.jsx)(i.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:f}},overflow:"hidden",position:"absolute",width:v||"100%",id:"SuggestionsMenu",children:(0,C.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:a,onMouseLeave:c,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tu(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({maxHeight:n},td.searchSuggestionsContainer),children:(0,C.jsxs)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",ref:b,width:"100%",children:[m&&(0,C.jsx)(i.xu,{marginTop:4,marginStart:8,marginBottom:4,children:(0,C.jsx)(i.X6,{size:"500",children:d.length>0?(0,eh.nk)(_._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:d}):_._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),h.map(function(e,n){var r,a,c,s;return e.items.length?(0,C.jsx)(i.kC,{direction:"column",gap:10,children:(0,C.jsx)(i.xu,{children:function(e,n,r){var i=ep(h),a=null==t?void 0:t-i[n],c=function(e){l(ep(h)[n]+e)};switch(e.type){case"recent_query":return(0,C.jsx)(ti,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,suggestions:e.items});case"recent_save":return(0,C.jsx)(to,{focusedIndex:a,groupIndex:n,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,suggestions:e.items});case"recent_view":return(0,C.jsx)(ta,{focusedIndex:a,groupIndex:n,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,C.jsx)(tc,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,searchBoxRenderStopwatch:y,suggestions:e}):(0,C.jsx)(ts,{containerWidth:r,focusedIndex:a,groupIndex:n,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,searchBoxRenderStopwatch:y,suggestions:e});case"blended_autocomplete":return(function(e){var t,n=e.slice(),r=n[0],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tp(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(null!==(a=i.modified_filter_eligibility)&&void 0!==a&&a.hair_pattern||null!==(c=i.modified_filter_eligibility)&&void 0!==c&&c.skin_tone){var a,c,s,u,l,p=(null===(s=i.modified_filter_eligibility.hair_pattern)||void 0===s?void 0:s.base_query)||(null===(u=i.modified_filter_eligibility.skin_tone)||void 0===u?void 0:u.base_query)||"",d=null===(l=i.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.eligible_filters,f=(0,ev.Z)({url:i.url}).rs,y={query:p,rs:f},m=(0,g.Z)(y),h="enriched_autocomplete"===r.type&&r.image?1:0,v={eligibleHairPatternFilters:d,label:p,query:p,resultIndex:h,type:"inclusive_product_filter_query",url:m};n.splice(h,0,v),r=n[0];break}}}catch(e){o.e(e)}finally{o.f()}return n})(e.items).map(function(e,t){return(0,C.jsx)(eG,{experiences:x,focusedIndex:a,index:t,onInclusiveProductFilterClick:o,onSuggestionClick:u,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S,query:d,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||""))});case"syop_cta":return(0,C.jsx)(eW,{focusedIndex:a,index:0,onSuggestionClick:p,onSuggestionMouseEnter:c,onSuggestionMouseLeave:S})}return null}(e,n,null!==(c=null===(s=b.current)||void 0===s?void 0:s.getBoundingClientRect().width)&&void 0!==c?c:0)},"".concat(d,"-").concat(e.type,"-").concat(null!==(r=null===(a=e.title)||void 0===a?void 0:a.format)&&void 0!==r?r:""))}):null})]})})}):(0,C.jsx)(i.xu,{})})}function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tm(e){var t,n,o,i,a,c,s,u,l,p=e.focusIndex,d=e.maxHeight,f=e.onInclusiveProductFilterClick,m=e.onMouseEnter,h=e.onMouseLeave,g=e.onSuggestionClick,v=e.onSuggestionGroupsUpdate,b=e.onSuggestionHovered,_=e.onSyopCtaClick,w=e.query,j=e.scope,O=e.searchBoxHeight,P=e.suggestionGroups,I=e.width,T=y(),A=(0,S.Z)(),E=A.isAuth&&j===x.lw.PINS_MINE;(0,B.Z)(function(){E||null==T||T.start()});var k=(0,ea.Z)({name:"SearchTabResource"}).data,D=er().state,R=D.recentSaves,L=D.recentViews,M=(t=(0,S.Z)(),o=(n=(0,ea.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:x.lw.PINS},noCache:!0}:null)).isLoaded,i=n.data,(0,r.useMemo)(function(){var e=[];return o&&i&&(e=({newRecentQueries:i.items}).newRecentQueries.slice(0,5).map(function(e,t){var n=e.label,r=e.query,o=e.url;return{label:n,query:r,resultIndex:t,type:e.type,url:o}})),e},[o,i])),N=(c=(a={query:w,scope:j}).query,s=a.scope,u=(0,S.Z)(),l=(0,ey.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:s},value:c}),(0,r.useMemo)(function(){if(u.isAuth)return[{items:l||[],type:"blended_autocomplete"}];var e=(0,ef.Z)(l||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(t){return e[t]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[l,u]));return(0,r.useEffect)(function(){var e,t,n=A.isAuth?N.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):N,r=k||[],o=A.isAuth?r.filter(function(e){return"shopping_spotlight"!==e.story_type}):r;v(E?[{items:M,type:"recent_query"},{items:L,type:"recent_view"},{items:R,type:"recent_save"}]:w.length?n:[{items:M,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return ty(e)}(e=o||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[N,E,v,w,k,M,R,L,j,A]),(0,C.jsx)(tf,{focusIndex:p,maxHeight:d,onInclusiveProductFilterClick:f,onMouseEnter:m,onMouseLeave:h,onSuggestionClick:g,onSuggestionHovered:b,onSyopCtaClick:_,query:w,searchBoxHeight:O,searchBoxRenderStopwatch:T,showSyopHeading:E,suggestionGroups:P,width:I})}function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==th(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==th(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===th(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tx(e){var t,n,d,y,P,I,T,A,E,k=e.handleIconOnlyChange,D=e.iconOnly,L=void 0!==D&&D,M=e.isPartner,N=void 0!==M&&M,Z=e.widthType,H=void 0===Z?"md":Z,z=(0,c.v)().logContextEvent,F=(0,S.Z)(),q=(0,s.ZP)(),U=(0,o.useHistory)(),V=(0,m.B)().isRTL,G=(0,o.useLocation)(),K=(0,p.En)(G);t=(0,S.Z)(),n=(0,m.B)().isBot,d=t.isAuth,y=t.isLimitedLogin,P=d&&!y,(0,ea.Z)(d?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:x.lw.PINS},noCache:!0}:null),(0,ea.Z)(n?null:{name:"SearchTabResource"}),(0,ea.Z)(P?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:O.join(","),pin_preview_count:7}}}:null);var X=(0,v.Z)(G),Y=X.query,Q=X.scope,$=X.rs,J=a.tS.includes($)?"":Y,ee=null!=J?J:"",et=tb((0,r.useState)(ee),2),en=et[0],er=et[1],eo=tb((0,r.useState)(),2),ei=eo[0],ec=eo[1],es=ei&&ei.query?ei.query:en,ef=(I=(0,o.useLocation)(),A=(T=(0,S.Z)()).isAuth&&I.pathname.startsWith("/".concat(T.username,"/")),E=T.isAuth&&I.pathname.startsWith("/recently-viewed"),A||E),ey=null!=Q?Q:x.lw.PINS;ef&&(ey=x.lw.PINS_MINE),ey===x.lw.PINS_BUYABLE&&(ey=x.lw.PINS);var em=tb((0,r.useState)(ey),2),eh=em[0],eg=em[1],ev=F.isAuth&&eh===x.lw.PINS_MINE,eb=tb((0,r.useState)([]),2),e_=eb[0],ex=eb[1],eS=tb((0,r.useState)(),2),ew=eS[0],ej=eS[1],eO=tb((0,r.useState)(!1),2),eP=eO[0],eI=eO[1],eT=tb((0,r.useState)(!1),2),eC=eT[0],eA=eT[1],eE=tb((0,r.useState)(!1),2),ek=eE[0],eD=eE[1],eR=tb((0,r.useState)(!1),2),eL=eR[0],eM=eR[1],eB=tb((0,r.useState)(!1),2),eN=eB[0],eZ=eB[1],eH=tb((0,r.useState)(0),2),ez=eH[0],eF=eH[1];function eq(){ej(void 0),ec(void 0)}var eU=eC||eL,eV=(0,w.I)(),eW=eV.setAppFocusState,eG=eV.toggleTypeaheadOverlay,eK=tb((0,r.useState)(L),2),eX=eK[0],eY=eK[1];(0,r.useEffect)(function(){eY(L)},[L]);var eQ=tb((0,r.useState)(!1),2),e$=eQ[0],eJ=eQ[1],e0=tb((0,r.useState)(),2),e1=e0[0];!function(e){var t=e.setShouldHideGhostText,n=e.setSuggestionsMaxHeight;function r(){var e;t(360>=((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)),n(window.innerHeight-14-76)}(0,B.Z)(function(){return window.addEventListener("resize",r),r(),function(){window.removeEventListener("resize",r)}})}({setShouldHideGhostText:eJ,setSuggestionsMaxHeight:e0[1]});var e2=F.isAuth&&"shrink"!==H&&(ee||ef),e3="auto".includes(H)?"8px":0;e2&&(e3="4px");var e8=tb(function(e){var t=e.shouldHideGhostText,n=e.isSyop,r=e.inputFocused,o=(0,s.ZP)(),i=(0,S.Z)().isAuth,a=(0,ea.Z)(i?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),c=i?o._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):o._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),u="";if(!t&&a.isLoaded&&a.data&&a.data.length>0){var l=a.data[0].text;u=a.data[0].query,c=l}return n&&(c=r?o._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):o._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[c,u]}({shouldHideGhostText:e$,isSyop:ev,inputFocused:eC}),2),e6=e8[0],e9=e8[1],e4=(0,r.useRef)();function e7(){var e=(0,b.Z)(en);if(e.length){var t=(0,g.Z)({query:e,rs:_.i.AC,scope:x.lw.PINS_MINE});U.push(t)}}(0,r.useEffect)(function(){e4.current!==eU&&(eU?u.Z.pause():u.Z.resume(),eW(!eU),eU||(eq(),er(ee)),eG(eU),e4.current=eU)},[ee,eU,eW,eG]),(0,r.useEffect)(function(){er(ee),eg(ey),eA(!1),eM(!1)},[ee,ey]);var e5=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?97:101,o={};switch(en&&(o.entered_query=en,o.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":z({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tv({autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t},o)});var i=eu({suggestion:e,query:en,lastFocusTime:ez});ev&&"recent_query"===e.type&&(i=i.replace("pins","my_pins")),U.push(i);break;case"recent_save":U.push(e.url);break;case"enriched_autocomplete":case"board":case"user":z({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tv({autocomplete_type:e.type,result_index:t},o)}),U.push(e.url);break;case"explorearticle":26===e.story_category?z({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:tv({article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight"},o)}):z({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tv({autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t},o)}),n&&U.push(eu({suggestion:e,query:""}));break;case"todayarticle":z({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tv({article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},o)}),n&&U.push(eu({suggestion:e,query:""}));break;case"syop_cta":e7()}eq(),eA(!1),eM(!1)},te=function(){if(es!==ee||eh!==ey){var e=(0,b.Z)(es);if(e.length){var t=(0,g.Z)({query:e,rs:_.i.TYPED,scope:eh});U.push(t)}}};if(eX&&!eC&&!ee&&!eU)return(0,C.jsx)(i.xu,{id:"searchBoxContainer",children:(0,C.jsx)(i.hU,{accessibilityLabel:q._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",onClick:function(){eA(!0),eY(!1),k&&k(!1),N&&z({event_type:101,element:11809})},size:"lg",iconColor:"gray"})});var tt=function(e){var t,n,r=e.suggestionsFocusIndex,o=ep(e.suggestionGroups);if("number"==typeof r){for(var i=o.length-1;i>=0;i-=1)if(r>=o[i]){t=i,n=r-o[i];break}}return"number"==typeof t&&"number"==typeof n?el(t,n):""}({suggestionsFocusIndex:ew,suggestionGroups:e_}),tn="shrink"===H?"".concat(80,"vw"):void 0,tr=H&&Object.keys(j).includes(H)&&"shrink"!==H?j[H]:"auto",to=(0,C.jsx)(f,{children:(0,C.jsx)(tm,{focusIndex:ew,maxHeight:e1,onInclusiveProductFilterClick:function(e,t,n){var r={};en&&(r.entered_query=en),z({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:tv({autocomplete_type:"query",result_index:t},r)});var o=eu({suggestion:e,query:en,lastFocusTime:ez,filterSelectedTerm:n});U.push(o)},onMouseEnter:function(){return eM(!0)},onMouseLeave:function(){return eM(!1)},onSuggestionClick:e5,onSuggestionGroupsUpdate:ex,onSuggestionHovered:function(e){return ej(e)},onSyopCtaClick:e7,query:en,scope:eh,searchBoxHeight:52,suggestionGroups:e_,width:tn})});return(0,C.jsx)(i.xu,{flex:"grow",id:"searchBoxContainer",minWidth:tr,paddingX:2,children:(0,C.jsxs)(i.xu,{color:ek?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:ek?"#E1E1E1":void 0}},display:"flex",height:48,rounding:6,children:[(0,C.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:tv({padding:V?"0 16px 0 ".concat(e3):"0 ".concat(e3," 0 16px")},eU?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){eD(!0)},onMouseLeave:function(){eD(!1)},position:"relative",children:[!(es||eC)&&(0,C.jsx)(i.xu,{flex:"none",marginEnd:2,children:(0,C.jsx)(i.JO,{accessibilityLabel:q._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),K&&(0,C.jsx)(W,{handleClearMode:function(){es===ee?U.push("/search/pins/?q=".concat(ee)):eg(x.lw.PINS)},scope:eh}),(0,C.jsx)(h.Z,{dataTestId:"search-box-input",focusOptionId:tt,isFocused:eU,name:"searchBoxInput",onBlur:function(){eA(!1)},onChange:function(e){er(e),eq()},onFocus:function(){eF(Date.now()),z({event_type:101,component:43,element:227}),eA(!0)},onKeyDown:function(e){switch(e.keyCode){case l.Z.ENTER:var t=ed(e_,ew);eU&&t&&e.preventDefault(),t&&eP?(e5(t,t.resultIndex||0,!0),eI(!1)):te();break;case l.Z.ESCAPE:eU&&e.preventDefault(),e.stopPropagation(),eA(!1),eM(!1);break;case l.Z.UP:eU&&e.preventDefault();var n,r,o,i=tb((r=e_.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),o=ed(e_,n=null==ew?r-1:0===ew?void 0:ew-1),[n,o]),2),a=i[0],c=i[1];ej(a),eI(!0),ec(c);break;case l.Z.DOWN:eU&&e.preventDefault();var s,u,p,d=tb((u=e_.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),p=ed(e_,s=null==ew?0:ew===u-1?void 0:ew+1),[s,p]),2),f=d[0],y=d[1];ej(f),eI(!0),ec(y);break;case l.Z.TAB:e9&&!en&&eU&&(e.preventDefault(),e.stopPropagation(),er(e9))}},onSearchTrigger:te,placeholder:e6,value:es}),es||N&&e2||eU?(0,C.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,C.jsx)(i.xu,{"data-test-id":"search-cancel",children:(0,C.jsx)(i.hU,{accessibilityLabel:q._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:ee?"cancel":"clear",iconColor:"darkGray",onClick:function(){if(er(""),eg(x.lw.PINS),eq(),F.isAuth&&ee){var e=(0,g.Z)({query:"",rs:_.i.REMOVE});U.push(e)}else N&&k&&k(!0)},size:ee?"sm":"lg"})})}):null,eU&&to]}),e2?(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,C.jsx)(R,{currentlySelectedFilter:eh,currentQuery:ee,handleContentTypeFilterHover:function(){N&&eZ(eN)},handleScopeChange:function(e){eg(e),eA(N&&!en),eq()}})]}):null]})})}function tS(e){return(0,C.jsx)(eo,{children:(0,C.jsx)(tx,tv({},e))})}},100745:function(e,t,n){n.d(t,{A:function(){return u},N:function(){return l}});var r=n(76911),o=n(425288),i=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,o.Z)("ModeIcon"),s=c.Provider,u=c.useHook;function l(e){var t,n=e.children,o=e.value,c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(void 0===o?{modeIcon:null}:o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],l=c[1],p=(0,r.useMemo)(function(){return{searchContext:u,updateSearchContext:l}},[u,l]);return(0,i.jsx)(s,{value:p,children:n})}},883851:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(908390),o=n(215292),i=n(515198);function a(e){var t=e.colors,n=e.isSelected,a=e.onClick;return(0,i.jsx)(o.q,{children:function(e){var o=e.hovered,c=e.onMouseEnter,s=e.onMouseLeave;return(0,i.jsx)(r.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,i.jsx)(r.iP,{mouseCursor:"pointer",onMouseEnter:c,onMouseLeave:s,onTap:a,rounding:"pill",children:(0,i.jsx)(r.xu,{alignItems:"center",color:n?"primary":o?"tertiary":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,i.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,i.jsx)(r.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:t.map(function(e,t){return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},"".concat(e,"-").concat(t))})})})})})})}})}},796668:function(e,t,n){n.d(t,{W:function(){return l},Z:function(){return d}});var r=n(76911),o=n(908390),i=n(407043),a=n(756306),c=n(898781),s=n(883851),u=n(515198),l=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],p=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function d(e){var t=e.currentlyAppliedFiltersParamTerm,n=e.filterTones,d=e.onClickApplyFilters,f=e.query,y=e.showHeaderText,m=void 0===y||y,h=(0,i.v)().logContextEvent,g=(0,c.ZP)(),v=(0,r.useRef)(null),b=(0,r.useRef)(null),_=function(e){var n,r=t===e?"":e;h({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:f,filter_type:"skin_tone",value:r}}),null===(n=b.current)||void 0===n||n.complete(),d(r)},x=t?g._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):g._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(o.kC,{alignItems:m?"center":"start",direction:"column",justifyContent:"start",children:[m&&(0,u.jsx)(o.xu,{marginBottom:2,children:(0,u.jsx)(o.xv,{color:"default",overflow:"normal",weight:"bold",children:x})}),(0,u.jsx)(o.xu,{display:"flex",flex:"none",paddingX:1,ref:v,children:(void 0===n?p:n).map(function(e,n){var r=e.term;return(0,u.jsx)(o.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,u.jsx)(s.Z,{colors:l[n],isSelected:t===r,onClick:function(){return _(r)}})},r)})})]}),v&&(0,u.jsx)(a.Z,{anchor:v.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(b.current=e)},placementId:29})]})}},224525:function(e,t,n){function r(e,t){return t?"".concat(e,"?").concat(new URLSearchParams(t).toString()):e}function o(e){return r("/admin/",e)}function i(e){return r("/admin/oauth/logout/",e)}function a(e){return r("/today/",e)}n.d(t,{HF:function(){return o},Kn:function(){return i},tG:function(){return a}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/21135-1b966f58a4798609.js.map