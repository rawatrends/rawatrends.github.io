"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16134],{458451:function(e,t){t.Z=function(e){return Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")}},509835:function(e,t,r){var o=r(599689),n=r(908390),i=r(15099),c=r(898781),a=r(53987),s=r(273453),l=r(515198);t.Z=function(e){var t,r=(0,c.ZP)(),u=e.data,d=e.colDef,_=(0,s.nU)(),p=(0,s.nU)(!0),m=_||p,f=(0,s.HL)().setEditAdAccountAccessModal,b=(0,i.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),y=(0,o.useLocation)();return(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,l.jsx)(n.xu,{bottom:!0,display:"flex","data-test-id":"edit-account-role-button-".concat(u.asset.id),children:(0,l.jsx)(n.hU,{accessibilityLabel:r._('Edit Account Access', '[m10n]bizAccess.business.person.access.edit', 'edit person roles for business'),icon:"edit",iconColor:"darkGray",onClick:function(){(0,a.dK)(y)&&b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-ad-account-permission",ad_account_id:u.asset.id,employee_id:m}),f({resourceId:u.asset.id,principalId:m||"",dataToRefresh:"PEOPLE",assignmentType:"PEOPLE"})},tooltip:{text:r._('Edit permissions', '[m10n]bizAccess.table.account.person.edit_tooltip', 'Text displayed on hover for edit permissions to edit person roles')},size:null!==(t=null==d?void 0:d.iconSize)&&void 0!==t?t:"sm"})})})}},602964:function(e,t,r){var o=r(599689),n=r(908390),i=r(15099),c=r(898781),a=r(53987),s=r(273453),l=r(515198);t.Z=function(e){var t,r,u=e.data,d=e.colDef,_=(0,c.ZP)(),p=(0,s.KJ)(),m=(0,s.KJ)(!0),f=(0,s.nU)(),b=(0,s.nU)(!0),y=f||b,v=null===(t=u.created_by)||void 0===t?void 0:t.id,S=(0,s.HL)().setEditAdAccountAccessModal,h=(0,i.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),A=(0,o.useLocation)(),E=(p||m)!==v,P=(0,l.jsx)(n.hU,{accessibilityLabel:_._('Edit Account Access', '[m10n]bizAccess.business.partner.access.edit', 'edit partner roles for business'),icon:"edit",disabled:E,iconColor:"darkGray",onClick:function(){(0,a.dK)(A)&&h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"partners-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-button",ad_account_id:u.asset.id}),S({resourceId:u.asset.id,principalId:y||"",dataToRefresh:"PARTNER",assignmentType:"PARTNER"})},size:null!==(r=null==d?void 0:d.iconSize)&&void 0!==r?r:"sm"});return(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,l.jsx)(n.xu,{bottom:!0,display:"flex","data-test-id":"edit-account-role-button-".concat(u.asset.id),children:E?(0,l.jsx)(n.u,{text:_._('Access can only be edited for ad accounts created by your business', '[m10n]bizAccess.business.partner.editTooltip', 'tooltip if you cannot edit permissions'),children:P}):(0,l.jsx)(n.u,{text:_._('Edit permissions', '[m10n]bizAccess.business.partner.access.edit.enabled.tooltip', 'tooltip text if you can edit permissions for partner'),children:P})})})}},528236:function(e,t,r){var o=r(599689),n=r(908390),i=r(15099),c=r(898781),a=r(53987),s=r(273453),l=r(515198);t.Z=function(e){var t,r,u=e.data,d=e.assignmentType,_=e.dataToRefresh,p=e.colDef,m=(0,c.ZP)(),f=(0,o.useLocation)(),b=(0,s.KJ)(),y=(0,s.KJ)(!0),v=(0,s.nU)(),S=(0,s.nU)(!0),h=v||S,A=null===(t=u.created_by)||void 0===t?void 0:t.id,E=!!A&&(b||y)!==A,P=(0,s.HL)(),O=P.setRemoveAdAccountAccessModal,g=P.setRemoveSharedAdAccountModal,j=(0,i.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),C="AD_ACCOUNT_PEOPLE"===_||"AOAA_REQUEST_DETAIL_PAGE"===_||"AD_ACCOUNT_PARTNER"===_||"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===_||"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===_,I=E&&"PEOPLE"!==_&&"SHARED_PARTNERS_DETAIL"!==_||"SHARED_PARTNERS_DETAIL"===_&&!E;if(u.is_pin_support_user)return null;var R=(0,l.jsx)(n.hU,{accessibilityLabel:m._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),icon:"remove",iconColor:"darkGray",onClick:function(){var e,t;(0,a.dK)(f)&&j({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-ad-accounts-assignment"}),"SHARED_PARTNERS_DETAIL"===_?g({assetId:(null===(e=u.asset)||void 0===e?void 0:e.id)||"",refreshData:null==p?void 0:p.refreshData}):O({resourceId:C?h:(null===(t=u.asset)||void 0===t?void 0:t.id)||"",principalId:C?u.id||"":h||"",dataToRefresh:_,assignmentType:d})},size:"xs",tooltip:{text:I?m._('You cannot remove agency owned ad accounts. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltipAoaa', 'tooltip if you try to remove an ad account that is agency owned'):m._('Remove permissions', '[m10n]bizAccess.business.user.permissions.remove.tooltip', 'Text displayed on hover to remove a user\'s permissions on account')},disabled:I});return(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(n.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,l.jsx)(n.xu,{"data-test-id":"remove-adAccount-access-".concat((null===(r=u.asset)||void 0===r?void 0:r.id)||u.id||""),children:R})})})}},509939:function(e,t,r){var o=r(599689),n=r(908390),i=r(326884),c=r(15099),a=r(898781),s=r(53987),l=r(773285),u=r(19121),d=r(273453),_=r(515198);t.Z=function(e){var t,r,p=e.data,m=e.colDef,f=(0,a.ZP)(),b=(0,o.useLocation)(),y=(0,d.nU)(!0),v=p.asset&&p.asset.id?p.asset.id:y,S=((0,u.Z)().id||"")===p.user.id,h=(0,d.HL)().setRemoveProfilePermissionsModal,A=(0,c.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),E=(0,(0,l.F)().checkExperiment)("web_m10n_business_access_employee_redesign").anyEnabled;if(p.is_pin_support_user)return null;var P=(0,_.jsx)(n.xu,{"data-test-id":"remove-employee-profile-detail-".concat(p.user.id),children:(0,_.jsx)(n.hU,{accessibilityLabel:f._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),icon:"remove",onClick:function(){var e;(0,s.dK)(b)&&A({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-employee-from-profile",profile_id:v}),h({userData:p.user,selectionType:i.Hl.PERSON,profileId:v,profileName:E&&(null===(e=p.asset)||void 0===e?void 0:e.name)||void 0,dataToRefresh:p.asset&&p.asset.id?"PEOPLE":"PROFILE_PEOPLE",refreshData:null==m?void 0:m.refreshData})},size:null!==(t=null==m?void 0:m.iconSize)&&void 0!==t?t:"xs",disabled:S,iconColor:"darkGray",tooltip:{text:null!==(r=null==m?void 0:m.tooltipInfo)&&void 0!==r?r:f._('Remove permissions', '[m10n]bizAccess.table.account.person.remove_tooltip', 'Remove a user\'s permissions')}})});return(0,_.jsx)(n.xu,{children:(0,_.jsx)(n.xu,{"data-test-id":"remove-employee-profile-".concat(v),children:S?(0,_.jsx)(n.u,{text:f._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself'),children:P}):P})})}},258304:function(e,t,r){r.d(t,{t:function(){return eD},Z:function(){return ez}});var o=r(908390),n=r(326884),i=r(898781),c=r(349700),a=r(170168),s=r(515198),l=function(e){var t=e.data,r=(0,i.ZP)(),l=new Set([n.V3.OWNER,n.gO.ADMIN,n.gO.AUDIENCE_MANAGER]),u=(t.permissions||[]).some(function(e){return l.has(e)}),d=u?r._('Leave Business Manager to view audiences for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button to redirect to audience page'):r._('You do not have permissions to view audiences for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button indicating business does not have permission to view audiences'),_=t.account_name;return(0,s.jsx)(o.u,{text:d,children:(0,s.jsx)(o.I_,{icon:"insights-audience",size:"sm",accessibilityLabel:(0,c.nk)(r._('View audiences for ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for redirect to audience page icon button, accountName: name of share ad account'),{accountName:_}).join(""),disabled:!u,href:u?"".concat(a.vI,"/advertiser/").concat(t.account_id,"/audiences/"):""})})},u=function(e){var t=e.data,r=(0,i.ZP)(),l=new Set([n.V3.OWNER,n.gO.ADMIN,n.gO.CAMPAIGN_MANAGER]),u=(t.permissions||[]).some(function(e){return l.has(e)}),d=u?r._('Leave Business Manager to create a campaign for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button to redirect to create flow'):r._('You do not have permissions to create campaigns for this ad account', '[m10n]bizAccess.audienceSharing.actions.tooltip', 'tooltip for audience page icon button indicating business does not have permission make campaign for ad account'),_=t.account_name;return(0,s.jsx)(o.u,{text:d,children:(0,s.jsx)(o.I_,{icon:"ads-overview",size:"sm",accessibilityLabel:(0,c.nk)(r._('Navigate to create flow for ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for redirect to create flow icon button, accountName: name of share ad account'),{accountName:_}).join(""),disabled:!u,href:u?"".concat(a.vI,"/advertiser/").concat(t.account_id,"/ads/create/"):""})})},d=r(76911),_=r(506979),p=r(405929),m=r(728909),f=r(171085),b=r(985690),y=r(273453);function v(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(o,n)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var h=function(e){var t,r,n,a=e.data,l=e.action,u=(0,i.ZP)(),h=a.account_name,A=(0,_.useSelector)(m.Qx),E=(null==A?void 0:A.audience)||null,P=(0,_.useDispatch)(),O=function(e){if(Array.isArray(e))return e}(t=(0,d.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,c,a=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(a.push(o.value),a.length!==t);s=!0);}catch(e){l=!0,n=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=O[0],j=O[1],C=(0,y.KJ)(),I=(r=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E&&P((0,p.oA)({audienceId:E.id,businessId:C,recipientAccountType:a.account_type})),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}},e)}),n=function(){var e=this,t=arguments;return new Promise(function(o,n){var i=r.apply(e,t);function c(e){v(i,o,n,c,a,"next",e)}function a(e){v(i,o,n,c,a,"throw",e)}c(void 0)})},function(){return n.apply(this,arguments)});return(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.hU,{icon:"remove",size:"sm",accessibilityLabel:"REVOKE"===l?(0,c.nk)(u._('Revoke access to this audience for account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for revoke ad account icon button, accountName: name of share ad account'),{accountName:h}).join(""):(0,c.nk)(u._('Remove this audience from your ad account {{ accountName }}', '[m10n]bizAccess.audienceSharing.actions.accessibilityLabel', 'Indicates ad account name for remove ad account icon button, accountName: name of share ad account'),{accountName:h}).join(""),tooltip:{text:"REVOKE"===l?u._('Revoke access to audience', '[m10n]bizAccess.audienceSharing.actions.revokeToolTup', 'Tooltip for icon button to revoke a shared audience from an ad account'):u._('Remove this audience from your ad account', '[m10n]bizAccess.audienceSharing.actions.removeToolTup', 'Tooltip for icon button to remove a shared audience from the recipient\'s ad account')},onClick:function(){j(!0)}}),g&&E&&(0,s.jsx)(f.Z,{audience:E,recipientAccount:{account_id:a.account_id,account_name:a.account_name,account_type:a.account_type},revokerAccountId:C,revokerAccountType:b.Q5.BUSINESS_ACCOUNT,handleDismissRevokeAccessModal:function(){j(!1)},revokerIsAudienceRecipient:"REVOKE"!==l,onRevokeSubmitSuccess:I})]})},A=function(e){var t=e.data,r=e.action;return"REVOKE"===r?(0,s.jsx)(o.kC,{children:(0,s.jsx)(h,{data:t,action:r})}):"REMOVE"===r?(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(l,{data:t}),(0,s.jsx)(u,{data:t}),(0,s.jsx)(h,{data:t,action:r})]}):null},E=r(806672),P=r(599689),O=r(15099),g=r(53987),j=r(773285),C=function(e){var t,r=e.data,n=e.colDef,c=e.dataToRefresh,a=(0,i.ZP)(),l=(0,y.nU)(),u=(0,y.nU)(!0),d=l||u,_=(0,y.HL)().setEditAdAccountAccessModal,p=(0,(0,j.F)().checkExperiment)("web_business_access_aoaa").anyEnabled,m=(0,P.useRouteMatch)().path,f=(0,P.useLocation)(),b=p&&m.includes(":userBizId/ad-accounts/pending"),v=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");return r.is_pin_support_user?null:(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,s.jsx)(o.xu,{"data-test-id":"edit-biz-member-ad-accounts-assignment-".concat(r.id),children:(0,s.jsx)(o.hU,{size:null!==(t=null==n?void 0:n.iconSize)&&void 0!==t?t:"sm",icon:"edit",accessibilityLabel:a._('Edit role', '[m10n]bizAccess.table.account.person.edit', 'Button to edit a person\'s role on an account'),onClick:function(){(0,g.dK)(f)&&v({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-biz-member-ad-accounts-assignment"}),_({resourceId:d||"",principalId:r.id,dataToRefresh:null!=c?c:b?"AOAA_REQUEST_DETAIL_PAGE":"AD_ACCOUNT_PEOPLE",assignmentType:"PEOPLE"})},tooltip:{text:a._('Edit permissions', '[m10n]bizAccess.table.account.person.edit.tooltip', 'Text displayed on hover for edit permissions to edit employee ad account roles')},iconColor:"darkGray"})})})},I=r(528236);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==R(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(e){var t=e.data,r=e.colDef;return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(C,{data:T({},t),colDef:r,dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"}),(0,s.jsx)(I.Z,{data:T({},t),assignmentType:"PEOPLE",dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"})]})},z=r(347174),w=r(239894),D=function(e){var t,r,n,c=e.data,a=e.colDef,l=e.dataToRefresh,u=(0,(0,j.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,d=(0,i.ZP)(),p=(0,P.useLocation)(),m=(0,y.nU)(),f=(0,y.nU)(!0),b=m||f,v=(0,_.useSelector)((0,w.Jg)(b)),S=(0,_.useSelector)((0,z.Jg)(b)),h=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");n="HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===l?v:S;var A=(0,y.HL)().setEditAdAccountAccessModal,E=u?null===(t=n.permissions)||void 0===t?void 0:t.includes("RESTRICTED_OWNER"):n.roles.includes("RESTRICTED_OWNER");if(c.is_pin_support_user)return null;var C=(0,s.jsx)(o.hU,{size:null!==(r=null==a?void 0:a.iconSize)&&void 0!==r?r:"sm",icon:"edit",disabled:E,accessibilityLabel:d._('Edit role', '[m10n]bizAccess.table.account.person.edit', 'Button to edit a person\'s role on an account'),onClick:function(){(0,g.dK)(p)&&h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"ad-account-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-partner-ad-accounts-assignment"}),A({principalId:c.id,resourceId:b,assignmentType:"PARTNER",dataToRefresh:null!=l?l:"AD_ACCOUNT_PARTNER"})},iconColor:"darkGray"});return(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,s.jsx)(o.xu,{"data-test-id":"edit-partner-ad-accounts-assignment-".concat(c.id),children:E?(0,s.jsx)(o.u,{text:d._('Access can only be edited for ad accounts created by your business', '[m10n]bizAccess.business.partner.editTooltip', 'tooltip if you cannot edit permissions'),children:C}):(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:(0,s.jsx)(o.xu,{"data-test-id":"edit-partner-ad-accounts-assignment-disabled-".concat(c.id),children:(0,s.jsx)(o.u,{text:d._('Edit permissions', '[m10n[m10n]bizAccess.business.partner.edit.enabled.tooltip', 'Text displayed on hover for edit permissions to edit partner ad account roles'),children:C})})})})})};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==U(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var B=function(e){var t=e.data,r=e.colDef;return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(D,{data:L({},t),colDef:r,dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"}),(0,s.jsx)(I.Z,{data:L({},t),assignmentType:"PARTNER",dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"})]})},M=r(509835),H=r(56641),Z=r(668040),G=function(e){var t,r=e.data,n=e.assetOrMemberType,c=e.colDef,a=e.url,l=(0,P.useHistory)(),u=(0,i.ZP)(),d=(0,y.KJ)(),_=(0,y.KJ)(!0),p=""===d?_:d,m="PROFILE"===n?u._('View profile', '[m10n]bizAccess.assetGroup.redirectProfile.tooltip', 'tooltip for button to redirect from asset group to profile'):"AD_ACCOUNT"===n?u._('Go to ad account', '[m10n]bizAccess.assetGroup.redirectAdAccount.tooltip', 'tooltip for button to redirect from asset group to ad account'):"PEOPLE"===n?u._('View employee', '[m10n]bizAccess.assetGroup.redirectEmployee.tooltip', 'tooltip for button to redirect from asset group to employee'):"PARTNER"===n?u._('View partner', '[m10n]bizAccess.assetGroup.redirectPartner.tooltip', 'tooltip for button to redirect from asset group to partner'):"";return(0,s.jsx)(o.u,{text:m,children:(0,s.jsx)(o.hU,{icon:"arrow-up-right",size:null!==(t=null==c?void 0:c.iconSize)&&void 0!==t?t:"sm",accessibilityLabel:"link",onClick:function(){var e,t,o,i;a?(0,H.Z)(a):"AD_ACCOUNT"===n?l.push((0,Z.Z)("AD_ACCOUNTS_DETAIL",p,null!==(e=r.id)&&void 0!==e?e:null===(t=r.asset)||void 0===t?void 0:t.id)):"PROFILE"===n?l.push((0,Z.Z)("PROFILES_DETAIL",p,null!==(o=r.profileId)&&void 0!==o?o:null===(i=r.asset)||void 0===i?void 0:i.id)):"PEOPLE"===n?l.push((0,Z.Z)("PEOPLE_DETAIL",p,r.id)):"PARTNER"===n&&l.push((0,Z.Z)("PARTNERS_DETAIL",p,r.id))}})})},V=r(898708);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==K(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=function(e){var t=e.data,r=e.colDef,n=(0,V.IZ)(t);return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:"AD_ACCOUNT",colDef:r,url:n}),(0,s.jsx)(M.Z,{data:F({},t),colDef:r}),(0,s.jsx)(I.Z,{data:F({},t),assignmentType:"PEOPLE",dataToRefresh:"PEOPLE"})]})},W=r(602964);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==Q(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var X=function(e){var t=e.data,r=e.colDef,n=(0,V.IZ)(t);return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:"AD_ACCOUNT",colDef:r,url:n}),(0,s.jsx)(W.Z,{data:q({},t),colDef:r}),(0,s.jsx)(I.Z,{data:q({},t),assignmentType:"PARTNER",dataToRefresh:"PARTNER",colDef:r})]})},ee=function(e){var t,r=e.data,n=e.colDef,c=(0,i.ZP)(),a=(0,y.HL)().setEditPersonRoleModal,l=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),u=(0,P.useLocation)(),d=(0,s.jsx)(o.hU,{accessibilityLabel:c._('Edit Employee', '[m10n]bizAccess.business.person.edit', 'edit employee permissions for the business'),icon:"edit",iconColor:"darkGray",onClick:function(){(0,g.dK)(u)&&l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",employee_id:r.id}),a({selectedId:r.id})},tooltip:{text:c._('Edit employee', '[m10n]bizAccess.business.person.edit.employee.tooltip', 'edit employee for the business')},size:null!==(t=null==n?void 0:n.iconSize)&&void 0!==t?t:"xs"});return(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,s.jsx)(o.xu,{"data-test-id":"edit-person-".concat(r.id),children:d})})})},et=r(19121),er=function(e){var t,r=e.value,n=e.data,c=e.colDef,a=(0,i.ZP)(),l=(0,et.Z)().id,u=void 0===l?"":l,d=(0,y.HL)().setRemovePersonModal,_=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),p=(0,P.useLocation)();if(n.is_pin_support_user)return null;var m=(0,s.jsx)(o.hU,{accessibilityLabel:a._('Remove Person', '[m10n]bizAccess.business.person.remove', 'remove person from business'),icon:"remove",iconColor:"darkGray",onClick:function(){(0,g.dK)(p)&&_({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",employee_id:r||n.id}),d({selectedId:r||n.id})},tooltip:u===n.id?{text:a._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself')}:{text:a._('Remove employee', '[m10n]bizAccess.business.person.remove.employee.tooltip', 'remove employee from business')},size:null!==(t=null==c?void 0:c.iconSize)&&void 0!==t?t:"xs",disabled:u===n.id||u===r});return(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,s.jsx)(o.xu,{"data-test-id":"remove-person-".concat(n.id),children:u===n.id?(0,s.jsx)(o.u,{text:a._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself'),children:m}):m})})})};function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var ei=function(e){var t=e.data,r=e.colDef;return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(ee,{data:t,colDef:r}),(0,s.jsx)(er,{data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==eo(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t),value:t.id,colDef:r})]})},ec=function(e){var t,r,n,c=e.data,a=e.colDef,l=(0,i.ZP)(),u=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),d=(0,P.useLocation)(),_=(0,y.KJ)(),p=(0,y.KJ)(!0),m=_||p,f=(0,y.HL)().setRemoveSharedAdAccountModal,b=null===(t=c.created_by)||void 0===t?void 0:t.id,v=null===(r=c.client_business)||void 0===r?void 0:r.id,S=(0,(0,j.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled;if(c.is_pin_support_user)return null;var h=(0,s.jsx)(o.hU,{accessibilityLabel:l._('Remove Ad Account', '[m10n]bizAccess.business.ad_account.remove', 'remove ad account from business'),icon:"remove",iconColor:"darkGray",onClick:function(){m!==b&&((0,g.dK)(d)&&u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"adAccount-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-adAccount-cell",asset_id:c.asset.id}),f({assetId:c.asset.id,refreshData:null==a?void 0:a.refreshData}))},size:null!==(n=null==a?void 0:a.iconSize)&&void 0!==n?n:"xs",disabled:!!S||m===b||!!v});return(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,s.jsx)(o.xu,{"data-test-id":"remove-adAccount-".concat(c.asset.id),children:m===b||v||S?(0,s.jsx)(o.u,{text:S?l._('The ability to remove ad accounts is not yet available on this page. In the meantime, please contact your account manager.', '[m10n]bizAccess.business.ad_account.removeTooltipSharedAdAccount', 'tooltip if you try to remove an ad account that is shared with you'):m===b?l._('You cannot remove ad accounts you have created. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltip', 'tooltip if you try to remove an ad account you created'):v?l._('You cannot remove agency owned ad accounts. Contact support to learn more', '[m10n]bizAccess.business.ad_account.removeTooltipAoaa', 'tooltip if you try to remove an ad account that is agency owned'):"",children:h}):(0,s.jsx)(o.u,{text:l._('Remove ad account', '[m10n]bizAccess.business.ad_account.remove.enabled.tooltip', 'tooltip if you are allowed to delete the ad account'),children:h})})})})},ea=function(e){var t=e.data,r=e.assetOrMemberType,n=(0,y.HL)().setRemoveAssetFromTag,c=(0,i.ZP)(),a=(0,O.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),l="AD_ACCOUNT"===r?c._('Remove the Pinterest tag from your ad account', '[m10n]bizAccess.share.tag.removeAdAccount.tooltip', 'tooltip for button to remove ad account from shared tag'):"";return(0,s.jsx)(o.u,{text:l,children:(0,s.jsx)(o.xu,{"data-test-id":"remove-asset-from-tag-".concat(t.id||t.tagId||""),children:(0,s.jsx)(o.hU,{icon:"remove",size:"sm",accessibilityLabel:c._('Icon for link to remove item', '[m10n]businessAccess.share.tag.removeCell', 'Accessibility label for remove item action table cell'),onClick:function(){a({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-remove-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-revoke"}),n({assetOrMemberType:r,toRemove:t})}})})})},es=r(509939);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var ed=function(e){var t=e.data,r=e.colDef,n=(0,i.ZP)(),c=n._('Remove profile access', '[m10n]businessAccess.businessHierarchy.table.employee.profile.remove_tooltip', 'Remove an employee\'s permission to a profile');return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:"PROFILE",colDef:r}),(0,s.jsx)(es.Z,{data:t,colDef:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==el(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==el(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===el(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({tooltipInfo:c},r)})]})},e_=function(e){var t=e.data,r=e.assetOrMemberType,n=(0,y.HL)().setRemoveAssetOrUserFromAssetGroup,c=(0,i.ZP)(),a="PROFILE"===r?c._('Remove profile', '[m10n]bizAccess.assetGroup.removeProfile.tooltip', 'tooltip for button to remove profile from asset group'):"AD_ACCOUNT"===r?c._('Remove ad account', '[m10n]bizAccess.assetGroup.removeAdAccount.tooltip', 'tooltip for button to remove ad account from asset group'):"PEOPLE"===r?c._('Remove employee', '[m10n]bizAccess.assetGroup.removeEmployee.tooltip', 'tooltip for button to remove employee from asset group'):"PARTNER"===r?c._('Remove partner', '[m10n]bizAccess.assetGroup.removePartner.tooltip', 'tooltip for button to remove partner from asset group'):"";return(0,s.jsx)(o.u,{text:a,children:(0,s.jsx)(o.xu,{"data-test-id":"remove-asset-from-asset-group-".concat(t.id||t.profileId||""),children:(0,s.jsx)(o.hU,{icon:"remove",size:"xs",accessibilityLabel:c._('Icon for link to remove item', '[m10n] businessAccess.assetGroups.removeCell', 'Accessibility label for remove item action table cell'),onClick:function(){return n({assetOrMemberType:r,toRemove:t})}})})})},ep=function(e){var t=e.data,r=e.assetOrMemberType,n=e.colDef;return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:r,colDef:n}),(0,s.jsx)(e_,{data:t,assetOrMemberType:r})]})},em=function(e){var t=e.data,r=(0,i.ZP)(),n=(0,O.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),c=(0,(0,j.F)().checkExperiment)("web_m10n_business_access_agency_tag_sharing").anyEnabled,l=r._('Go to create audience page button', '[m10n]bizAccess.share.tag.create.audience.a11y', 'accessibility label to go to create audience page'),u=!c||t.ownedOrEnabled,d=u?r._('Leave Business Manager to create an audience for this ad account', '[m10n]bizAccess.share.tag.create.audience.link', 'tooltip for button to redirect from tag sharing to audience page'):r._('You do not have permissions to view audiences for this ad account', '[m10n]bizAccess.share.tag.create.audience.disabled.link', 'tooltip for disabled button to redirect from tag sharing to audience page');return(0,s.jsx)(o.u,{text:d,children:u?(0,s.jsx)(o.I_,{icon:"insights-audience",size:"sm",accessibilityLabel:l,onClick:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-create-audience-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-create-audience"})},href:"".concat(a.vI,"/advertiser/").concat(t.id,"/audiences/")}):(0,s.jsx)(o.hU,{icon:"insights-audience",size:"sm",accessibilityLabel:l,disabled:!0})})},ef=function(e){var t=e.data,r=(0,i.ZP)(),n=(0,O.ZP)("BUSINESS_ACCESS_SHARED_TAGS"),c=(0,(0,j.F)().checkExperiment)("web_m10n_business_access_agency_tag_sharing").anyEnabled,l=r._('Go to create campaign page button', '[m10n]bizAccess.share.tag.create.campaign.a11y', 'accessibility label to go to create campaign page'),u=!c||t.ownedOrEnabled,d=u?r._('Leave Business Manager to create a campaign for this ad account', '[m10n]bizAccess.share.tag.create.campaign.link', 'tooltip for button to redirect from tag sharing to create campaign'):r._('You do not have permissions to create campaigns for this ad account', '[m10n]bizAccess.share.tag.create.campaign.disabled.link', 'tooltip for disabled button to redirect from tag sharing to create campaign');return(0,s.jsx)(o.u,{text:d,children:u?(0,s.jsx)(o.I_,{icon:"ads-overview",size:"sm",accessibilityLabel:l,onClick:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"share-tag-ad-account-create-campaign-cell",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-ad-account-create-campaign"})},href:"".concat(a.vI,"/advertiser/").concat(t.id,"/ads/create/")}):(0,s.jsx)(o.hU,{icon:"ads-overview",size:"sm",accessibilityLabel:l,disabled:!0})})};function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==eb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==eb(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eb(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eS=function(e){var t=e.data,r=e.assetOrMemberType;return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(em,{data:ev({},t)}),(0,s.jsx)(ef,{data:ev({},t)}),(0,s.jsx)(ea,{data:ev({},t),assetOrMemberType:r})]})};function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var eE=function(e){var t=e.data,r=e.colDef,n=(0,(0,j.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,i=(0,V.IZ)(t,n);return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:"AD_ACCOUNT",colDef:r,url:i}),(0,s.jsx)(ec,{data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==eh(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eh(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t),colDef:r})]})};function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var eg=function(e){var t=e.data,r=e.colDef,n=(0,(0,j.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,i=(0,V.IZ)(t,n);return(0,s.jsxs)(o.kC,{children:[(0,s.jsx)(G,{data:t,assetOrMemberType:"AD_ACCOUNT",colDef:r,url:i}),(0,s.jsx)(ec,{data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==eP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==eP(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eP(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t),colDef:r})]})},ej=function(e){var t,r,n=e.data,c=(0,i.ZP)(),a=(0,y.KJ)(),l=(0,y.HL)(),u=l.setRemovePartnerModal,d=l.setRemoveSharedPartnerModal,_=(0,(0,j.F)().checkExperiment)("business_access_employees_api_v4_migration").anyEnabled?null===(t=n.created_by_business)||void 0===t?void 0:t.id:null===(r=n.created_by_biz)||void 0===r?void 0:r.id;if(n.is_pin_support_user)return null;var p=(0,s.jsx)(o.hU,{accessibilityLabel:c._('Remove Partner', '[m10n]bizAccess.business.partner.remove', 'remove partner from business'),icon:"remove",iconColor:"darkGray",onClick:function(){a===_?u({businessId:a,partnerId:n.id}):d({businessId:a,partnerId:n.id})},size:"xs"});return(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,s.jsx)(o.xu,{"data-test-id":"remove-partner-".concat(n.id),children:(0,s.jsx)(o.u,{text:c._('Remove partner', '[m10n]bizAccess.business.partner.remove.tooltip', 'Tooltip with text to remove partner from business'),children:p})})})})},eC=function(e){var t=e.data,r=e.colDef,c=(0,i.ZP)(),a=(0,P.useLocation)(),l=(0,y.nU)(!0),u=(0,y.HL)().setRemoveProfilePermissionsModal,d=(0,O.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY");if(t.is_pin_support_user)return null;var _=(0,s.jsx)(o.xu,{"data-test-id":"remove-partner-profile-detail-".concat(t.user.id),children:(0,s.jsx)(o.hU,{accessibilityLabel:c._('Remove permissions', '[m10n]bizAccess.business.person.remove', 'Remove a user\'s permissions'),icon:"remove",onClick:function(){(0,g.dK)(a)&&d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-partner-from-profile",profile_id:l}),u({userData:t.user,selectionType:n.Hl.PARTNER,profileId:l,refreshData:null==r?void 0:r.refreshData})},size:"xs",iconColor:"darkGray",tooltip:{text:c._('Remove permissions', '[m10n]bizAccess.business.person.remove.tooltip', 'Text displayed on hover to remove partner permissions')}})});return(0,s.jsx)(o.xu,{children:_})},eI=r(912997);function eR(e){var t=e.onClick,r=e.tooltipText,n=e.icon,i=e.iconColor,c=e.bgColor,a=e.item,l=e.disabled,u="function"==typeof r?r(a):r,d=l&&"function"==typeof l?l(a):l;return(0,s.jsx)(o.hU,{accessibilityLabel:u,icon:n,onClick:function(){return t(a)},iconColor:void 0===i?"darkGray":i,bgColor:void 0===c?"transparent":c,size:"xs",disabled:d,tooltip:{text:u}})}function ex(e){return(ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==ex(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==ex(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ex(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ez=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PEOPLE",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"REMOVE",o=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=function(){return null};return"PARTNER"===t?"EDIT"===r?i=D:"REMOVE"===r?i=ej:"REMOVE_PARTNER_PROFILE_PERMISSIONS"===r?i=eC:"EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION"===r&&(i=B):"PEOPLE"===t?"EDIT"===r?i=C:"EDIT_OR_REMOVE"===r?i=ei:"REMOVE"===r?i=er:"REMOVE_EMPLOYEE_PROFILE_PERMISSIONS"===r?i=es.Z:"EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION"===r&&(i=N):"AD_ACCOUNT"===t?(i=ec,"REMOVE"===r?i=ec:"REMOVE_OR_LINK"===r?i=eE:"EDIT_OR_REMOVE_OR_LINK_EMPLOYEE_PERMISSION"===r?i=J:"REMOVE_OR_LINK_PARTNER_PERMISSION"===r?i=eg:"EDIT_OR_REMOVE_OR_LINK_PARTNER_PERMISSION"===r&&(i=X)):"PROFILE"===t?"REMOVE_EMPLOYEE_PROFILE_PERMISSION_OR_LINK"===r&&(i=ed):"ASSET_GROUP_PROFILE"===t?"REMOVE"===r?i=function(e){return(0,s.jsx)(e_,eN(eN({},e),{},{assetOrMemberType:"PROFILE"}))}:"REMOVE_OR_LINK"===r&&(i=function(e){return(0,s.jsx)(ep,eN(eN({},e),{},{assetOrMemberType:"PROFILE"}))}):"TAG_AD_ACCOUNT"===t?(i=ea,"REMOVE_OR_LINK"===r&&(i=function(e){return(0,s.jsx)(eS,eN(eN({},e),{},{assetOrMemberType:"AD_ACCOUNT"}))})):"ASSET_GROUP_AD_ACCOUNT"===t?(i=e_,"REMOVE_OR_LINK"===r&&(i=function(e){return(0,s.jsx)(ep,eN(eN({},e),{},{assetOrMemberType:"AD_ACCOUNT"}))})):"ASSET_GROUP_EMPLOYEE"===t?"REMOVE"===r?i=function(e){return(0,s.jsx)(e_,eN(eN({},e),{},{assetOrMemberType:"PEOPLE"}))}:"REMOVE_OR_LINK"===r&&(i=function(e){return(0,s.jsx)(ep,eN(eN({},e),{},{assetOrMemberType:"PEOPLE"}))}):"ASSET_GROUP_PARTNER"===t?"REMOVE_OR_LINK"===r&&(i=function(e){return(0,s.jsx)(ep,eN(eN({},e),{},{assetOrMemberType:"PARTNER"}))}):"AUDIENCE_SHARING"===t&&(i=function(e){return(0,s.jsx)(A,eN(eN({},e),{},{action:r}))}),{field:"id",headerName:null!=o&&o.hideHeader?void 0:e._('Actions', '[m10n]bizAccess.business.people.actions', 'column of actions that can be taken on user'),width:null==o?void 0:o.width,minWidth:eI.I.columnWidths.sm,TableCellComponent:i,valueGetter:function(e){var t=e.user;return(t=void 0===t?{}:t).id},justifying:"center",onHoverOnly:null==o?void 0:o.onHoverOnly,preventColumnRowClick:!0,refreshData:n,iconSize:null==o?void 0:o.iconSize}};function ew(e){var t=e.item,r=e.actions.map(function(e){return(0,d.createElement)(eR,eN(eN({},e),{},{key:e.key,item:t}))});return(0,s.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",width:"100%",children:r})}function eD(e,t){var r=t.justifying,o=t.headerName,n=t.actions;return{preventColumnRowClick:!0,field:"id",justifying:void 0===r?"center":r,headerName:o,TableCellComponent:E.Z,minWidth:eI.I.columnWidths.sm,valueGetter:function(e){return(0,s.jsx)(ew,{actions:n,item:e})}}}},405929:function(e,t,r){r.d(t,{r9:function(){return O},Sd:function(){return E},oA:function(){return g},zM:function(){return P}});var o,n,i=r(165544),c=r(186656),a=r(251955);function s(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(o,n)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function c(e){s(i,o,n,c,a,"next",e)}function a(e){s(i,o,n,c,a,"throw",e)}c(void 0)})}}var u=(o=l(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Z)({url:"/ads/v4/audiences/shared",data:t});case 2:return r=e.sent.resource_response.data,e.abrupt("return",r||[]);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),d=(n=l(regeneratorRuntime.mark(function e(t){var r,o,n,i,s,l,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.audienceId,o=t.businessId,n=t.recipientAccountType,i=t.limit,s=t.page,l=t.searchTerm,u={audience_id:r,requestor_account_id:o,recipient_account_type:n,requestor_account_type:a.Q5.BUSINESS_ACCOUNT},e.next=4,(0,c.Z)({url:"/ads/v4/audiences/shared/accounts",data:u});case 4:return(d=e.sent.resource_response.data).accounts&&(_=s,d.accounts=l?d.accounts.filter(function(e){return e.account_name.toLocaleLowerCase().includes(l.toLocaleLowerCase())||e.owner_name.toLocaleLowerCase().includes(l.toLocaleLowerCase())||e.account_id.toLocaleLowerCase().includes(l.toLocaleLowerCase())}).slice((_-1)*i,_*i):d.accounts.slice((_-1)*i,_*i)),e.abrupt("return",d);case 8:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),_=r(230412),p=r(985690),m=r(67347);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==f(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(o,n)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function c(e){v(i,o,n,c,a,"next",e)}function a(e){v(i,o,n,c,a,"throw",e)}c(void 0)})}}var h=function(e){return{type:"GET_SHARED_AUDIENCES_SUCCESS",data:e}},A=function(e){return{type:"GET_RECEIVED_AUDIENCES_SUCCESS",data:e}},E=function(e){var t;return t=S(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"SELECTED_AUDIENCE_ID",id:e});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},P=function(e){var t;return t=S(regeneratorRuntime.mark(function t(r){var o,n,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.accountId,n=e.accountType,r({type:"GET_SHARED_AUDIENCES"}),t.prev=2,t.next=5,u({account_id:o,account_type:n,share_type:p.E7.SHARED});case 5:(c=t.sent).audiences?(s=c.audiences.filter(function(e){return!!e.id}).map(function(e){return y(y({},e),{},{entity_type:"BUSINESS_AUDIENCE"})}),r(h((0,a.O_)(s)))):r(h([])),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),i=t.t0,r({type:"GET_SHARED_AUDIENCES_ERROR",error:t.t0});case 13:return t.prev=13,(0,m.nP)("audience.ui.get_shared_audiences",{sampleRate:1,tags:{error:!!i,error_code:i&&i.api_error_code,share_type:p.E7.SHARED,surface:p.zi.BUSINESS_MANAGER}}),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,9,13,16]])})),function(e){return t.apply(this,arguments)}},O=function(e){var t;return t=S(regeneratorRuntime.mark(function t(r){var o,n,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.accountId,n=e.accountType,r({type:"GET_RECEIVED_AUDIENCES"}),t.prev=2,t.next=5,u({account_id:o,account_type:n,share_type:p.E7.RECEIVED});case 5:(c=t.sent).audiences?(s=c.audiences.filter(function(e){return!!e.id}).map(function(e){return y(y({},e),{},{entity_type:"BUSINESS_AUDIENCE"})}),r(A((0,a.O_)(s)))):r(A([])),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),i=t.t0,r({type:"GET_RECEIVED_AUDIENCES_ERROR",error:t.t0});case 13:return t.prev=13,(0,m.nP)("audience.ui.get_shared_audiences",{sampleRate:1,tags:{error:!!i,error_code:i&&i.api_error_code,share_type:p.E7.RECEIVED,surface:p.zi.BUSINESS_MANAGER}}),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,9,13,16]])})),function(e){return t.apply(this,arguments)}},g=function(e){var t;return t=S(regeneratorRuntime.mark(function t(r,o){var n,c,a,s,l,u,f,b,v,S,h,A,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o(),c=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return a=(0,_.MG)(n),s=(0,i.Vs)(e,a),l=y(y(y({id:c},a),s),e),r({type:"GET_SHARED_AUDIENCE_ACCOUNTS"}),t.prev=8,t.next=11,d(l);case 11:v=void 0===(b=(f=t.sent).accounts)?[]:b,S=f.total_count,A=(h=(0,i.Ah)(function(e){return e.account_id},v)).ids,E=h.data,r({type:"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS",payload:y(y({},l),{},{ids:A,data:E,totalCount:S})}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(8),u=t.t0,r({type:"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR",error:t.t0});case 23:return t.prev=23,(0,m.nP)("audience_sharing.ui.get_shared_accounts",{sampleRate:1,tags:{error:!!u,surface:p.zi.BUSINESS_MANAGER}}),t.finish(23);case 26:case"end":return t.stop()}},t,null,[[8,19,23,26]])})),function(e,r){return t.apply(this,arguments)}}},251955:function(e,t,r){r.d(t,{O_:function(){return v},Q5:function(){return b},oH:function(){return h},tQ:function(){return y},wr:function(){return A}});var o,n,i,c=r(186656),a=r(170168),s=r(985690),l=r(67347);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==u(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(o,n)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function c(e){p(i,o,n,c,a,"next",e)}function a(e){p(i,o,n,c,a,"throw",e)}c(void 0)})}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var b={AD_ACCOUNT:"AD_ACCOUNT",BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT"},y=function(e,t){return"".concat(a.vI,"/advertiser/").concat(e,"/audience/edit?audienceId=").concat(t)},v=function(e){return((function(e){if(Array.isArray(e))return f(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return(e.name||"").localeCompare(t.name||"")})},S=(o=m(regeneratorRuntime.mark(function e(t,r){var o,n,i,a,s,u,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.audienceId,n=r.recipientAccountIds,i=r.recipientAccountType,a=r.businessId,s={audience_id:o,operation_type:t,business_hierarchy_node_id:r.businessHierarchyId},e.prev=2,i!==b.AD_ACCOUNT){e.next=9;break}return d=_(_({},s),{},{recipient_account_ids:n}),e.next=7,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(a,"/audiences/advertisers/shared"),method:"PATCH",data:d});case 7:e.next=12;break;case 9:return p=_(_({},s),{},{recipient_business_ids:n}),e.next=12,(0,c.Z)({url:"/ads/v4/business_access/businesses/".concat(a,"/audiences/businesses/shared"),method:"PATCH",data:p});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u=e.t0;case 17:return e.prev=17,(0,l.nP)("audience_sharing.business_manager.update_shared_audience",{sampleRate:1,tags:{error:!!u,share_operation_type:t,recipient_account_type:i}}),e.finish(17);case 20:return e.abrupt("return",{error:!!u});case 21:case"end":return e.stop()}},e,null,[[2,14,17,20]])})),function(e,t){return o.apply(this,arguments)}),h=(n=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(s.DW.SHARE,t));case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),A=(i=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(s.DW.REVOKE,t));case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})},171085:function(e,t,r){var o=r(76911),n=r(908390),i=r(453933),c=r(210407),a=r(121151),s=r(499128),l=r(898781),u=r(343341),d=r(251955),_=r(985690),p=r(276205),m=r(273453),f=r(515198);function b(e,t,r,o,n,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(o,n)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,c,a=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(a.push(o.value),a.length!==t);s=!0);}catch(e){l=!0,n=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}t.Z=function(e){var t=e.audience,r=e.recipientAccount,v=e.revokerAccountId,S=e.revokerAccountType,h=e.handleDismissRevokeAccessModal,A=e.onRevokeSubmitSuccess,E=e.revokerIsAudienceRecipient,P=r.account_id,O=r.account_type,g=r.account_name,j=t.name||"",C=(0,l.ZP)(),I=(0,u.F9)().showToast,R=y((0,o.useState)(!1),2),x=R[0],T=R[1],N=y((0,o.useState)(!1),2),z=N[0],w=N[1],D=y((0,o.useState)(!1),2),U=D[0],k=D[1],L=(0,m.KJ)(),B=(0,(0,i.C)().getParentHierarchyForIdIfExists)(L),M=null==B?void 0:B.id;return(0,f.jsx)(n.mh,{children:(0,f.jsx)(a.ZP,{accessibilityModalLabel:E?C._('Remove received audience modal', '[m10n]audienceSharing.removeReceivedAudienceModal.accessibilityLabel', 'Accessibility label for a modal confirming to remove received audience'):C._('Revoke audience access modal', '[m10n]audienceSharing.revokeAccessModal.accessibilityLabel', 'Accessibility label for a modal confirming to revoke access to an audience'),align:"start",heading:E?C._('Remove audience list', '[m10n]audienceSharing.removeReceivedAudienceModal.heading', 'Heading for a modal confirming to remove received audience'):C._('Revoke access to audience list', '[m10n]audienceSharing.revokeAccessModal.heading.alpha', 'Heading for a modal confirming to revoke access to an audience, when audience sharing experiment is in alpha.'),role:"alertdialog",onDismiss:h,size:"sm",footer:(0,f.jsxs)(n.kC,{alignItems:"center",justifyContent:"end",gap:1,children:[(0,f.jsx)(c.zx,{text:C._('Cancel', '[m10n]audienceSharing.revokeAccessModal.cancelButton', 'Button to dismiss modal'),onClick:h,dataTestId:"cancel",logEventProps:{}}),(0,f.jsx)(c.zx,{color:"red",text:E?C._('Remove list', '[m10n]audienceSharing.removeReceivedAudienceModal.removeButton', 'Text on a button to remove a received audience list '):C._('Revoke access', '[m10n]audienceSharing.revokeAccessModal.revokeAccessButton', 'Text on a button to revoke access to an audience '),type:"submit",onClick:function(){var e,r;(e=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),S!==d.Q5.AD_ACCOUNT){e.next=9;break}return e.next=4,(0,_.jd)({audienceId:t.id,recipientAccountIds:[P],recipientAccountType:O,advertiserId:v});case 4:r=e.sent.error,e.next=14;break;case 9:return e.next=11,(0,d.wr)({audienceId:t.id,recipientAccountIds:[P],recipientAccountType:O,businessId:v,businessHierarchyId:M});case 11:r=e.sent.error;case 14:r?w(r):(h(),A&&A(),I(function(e){var t=e.hideToast;return(0,f.jsx)(s.ZP,{onHide:t,duration:5e3,text:(0,_.B$)({audienceName:j,recipientAccountName:g,recipientAccountType:O,revokerIsAudienceRecipient:E,i18n:C}),type:"success"})})),T(!1);case 16:case"end":return e.stop()}},e)}),r=function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function c(e){b(i,o,n,c,a,"next",e)}function a(e){b(i,o,n,c,a,"throw",e)}c(void 0)})},function(){return r.apply(this,arguments)})()},disabled:x||E&&!U,dataTestId:"submit",logEventProps:{}})]}),children:(0,f.jsx)(n.xu,{paddingX:6,marginBottom:2,children:(0,f.jsxs)(n.kC,{direction:"column",gap:3,children:[(0,f.jsx)(n.xv,{children:(0,_.HW)({audienceName:j,audienceId:t.id,revokerIsAudienceRecipient:E,recipientAccountId:P,recipientAccountName:g,revokerAccountType:S,recipientAccountType:O,i18n:C})}),(0,f.jsxs)(n.kC,{direction:"row",children:[(0,f.jsx)(n.xu,{marginEnd:2,children:(0,f.jsx)(n.JO,{accessibilityLabel:C._('Warning Icon', '[m10n]audienceSharing.revokeAccessModal.warningIcon', 'Accessibility label for the warning icon'),icon:"workflow-status-warning",color:"warning",size:24})}),(0,f.jsx)(n.xv,{children:(0,_.vQ)(O,E,C)})]}),E&&(0,f.jsx)(p.Z,{id:"remove-audience-modal-confirmation-checkbox",elementType:10214,label:C._('Check this box to confirm', '[m10n]audienceSharing.removeReceivedAudienceModal.checkbox.confirmationMessage', 'Text next to a checkbox asking the user to confirm they want to remove an audience'),checked:U,onChange:function(e){return k(e.checked)}}),z&&(0,f.jsx)(n.xu,{marginEnd:4,role:"alert",children:(0,f.jsx)(n.xv,{color:"error",inline:!0,children:E?C._('We are having trouble removing this audience list. Please try again in a few minutes.', '[m10n]audienceSharing.removeReceivedAudienceModal.removalFailure.message', 'Error message displayed when the revoke access API fails'):C._('We are having trouble revoking access to this audience. Please try again in a few minutes.', '[m10n]audienceSharing.revokeAccessModal.revokeFailure.message', 'Error message displayed when the revoke access API fails')})})]})})})})}},276205:function(e,t,r){r.d(t,{Z:function(){return l}});var o=r(908390),n=r(112690),i=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==c(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){var t=e.componentType,r=void 0===t?null:t,c=e.elementType,a=e.onChange,l=e.view,u=e.viewParameter,d=e.id,_=e.checked,p=e.disabled,m=e.indeterminate,f=e.name,b=e.onClick,y=e.size,v=e.label,S=e.helperText,h=e.errorMessage,A=(0,n.Z)();return(0,i.jsx)("span",s(s({},{"data-test-id":d,"data-component":"checkbox"}),{},{children:(0,i.jsx)(o.XZ,{checked:_,disabled:p,errorMessage:h,id:d,indeterminate:m,name:f,onClick:b,size:y,onChange:function(e){var t={value:e.checked};d&&(t=s(s({},t),{},{element_id:d})),f&&(t=s(s({},t),{},{element_name:f})),A({event_type:7472,view_type:l,view_parameter:u,component:r||null,element:c||10214,aux_data:s({},t)}),a(e)},label:v,helperText:S})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/16134-e8914280b95da0b5.js.map