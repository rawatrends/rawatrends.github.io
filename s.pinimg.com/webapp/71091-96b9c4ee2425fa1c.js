(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[71091,28543,19782,21093,13224,61816,72744],{24220:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t){return e&&t?"".concat(e,"___").concat(t):null}function o(e,t,n){for(var i={},o=0;o<e.length;o+=1){var a=e[o];if(Array.isArray(a))for(var c=0;c<a.length;c+=1){var l=a[c],u=l[t];if(i[u])for(var d=0;d<n.length;d+=1){var _=n[d];i[u][_][o]=l[_]||null}else{i[u]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var s,i;s=t,i=n[t],(s=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l);for(var f=0;f<n.length;f+=1){var m=n[f],p=Array(e.length).fill(null);p[o]=l[m]||null,i[u][m]=p}}}}return Object.values(i)}function a(){return{ages:{},categories:[],interests:[],countries:[],devices:{},genders:{},metros:[],interestsMap:{},pinnerCount:{value:0,sizeIsUpperBound:!1}}}n.d(t,{V7:function(){return a},dk:function(){return i},xp:function(){return o}})},373232:function(e,t,n){"use strict";n.d(t,{E:function(){return s},u:function(){return i}});var r=(0,n(425288).Z)("legacyServerContext"),s=r.Provider,i=r.useHook},391254:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}}),n(674631);var r=n(515198),s=["css","unsafeCSS"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=l(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var u=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof n?e:new n(String(e))}}],e&&c(n.prototype,e),t&&c(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function d(e){var t=e.css,n=e.unsafeCSS,i=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,s),a=String(t||"")||n||"";return a?(0,r.jsx)("style",o(o({},i),{},{dangerouslySetInnerHTML:{__html:String(u.factory(a))}})):null}},131980:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{JD:function(){return s},al:function(){return i},iV:function(){return a},tN:function(){return o}});var s={ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BELGIUM:"BE",BRAZIL:"BR",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",HONG_KONG:"HK",HUNGARY:"HU",IRELAND:"IE",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",LUXEMBOURG:"LU",MALTA:"MT",MEXICO:"MX",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NORWAY:"NO",POLAND:"PL",PORTUGAL:"PT",ROMANIA:"RO",SINGAPORE:"SG",SLOVAKIA:"SK",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",UNITED_KINGDOM:"GB",UNITED_STATES:"US",UNKNOWN:"UNKNOWN"},i=function(e,t){return({AR:t._('Argentina', '[m10n]billing.BusinessInformation.country.AR', 'Country in business information form address'),AT:t._('Austria', '[m10n]billing.BusinessInformation.country.AT', 'Country in business information form address'),AU:t._('Australia', '[m10n]billing.BusinessInformation.country.AU', 'Country in business information form address'),BE:t._('Belgium', '[m10n]billing.BusinessInformation.country.BE', 'Country in business information form address'),BR:t._('Brazil', '[m10n]billing.BusinessInformation.country.BR', 'Country in business information form address'),CA:t._('Canada', '[m10n]billing.BusinessInformation.country.CA', 'Country in business information form address'),CH:t._('Switzerland', '[m10n]billing.BusinessInformation.country.CH', 'Country in business information form address'),CL:t._('Chile', '[m10n]billing.BusinessInformation.country.CL', 'Country in business information form address'),CO:t._('Colombia', '[m10n]billing.BusinessInformation.country.CO', 'Country in business information form address'),CY:t._('Cyprus', '[m10n]billing.BusinessInformation.country.CY', 'Country in business information form address'),CZ:t._('Czechia', '[m10n]billing.BusinessInformation.country.CZ', 'Country in business information form address'),DE:t._('Germany', '[m10n]billing.BusinessInformation.country.DE', 'Country in business information form address'),DK:t._('Denmark', '[m10n]billing.BusinessInformation.country.DK', 'Country in business information form address'),ES:t._('Spain', '[m10n]billing.BusinessInformation.country.ES', 'Country in business information form address'),FI:t._('Finland', '[m10n]billing.BusinessInformation.country.FI', 'Country in business information form address'),FR:t._('France', '[m10n]billing.BusinessInformation.country.FR', 'Country in business information form address'),GB:t._('United Kingdom', '[m10n]billing.BusinessInformation.country.GB', 'Country in business information form address'),GR:t._('Greece', '[m10n]billing.BusinessInformation.country.GR', 'Country in business information form address'),HK:t._('Hong Kong', '[m10n]billing.BusinessInformation.country.HK', 'Country in business information form address'),HU:t._('Hungary', '[m10n]billing.BusinessInformation.country.HU', 'Country in business information form address'),IE:t._('Ireland', '[m10n]billing.BusinessInformation.country.IE', 'Country in business information form address'),IL:t._('Israel', '[m10n]billing.BusinessInformation.country.IL', 'Country in business information form address'),IT:t._('Italy', '[m10n]billing.BusinessInformation.country.IT', 'Country in business information form address'),JP:t._('Japan', '[m10n]billing.BusinessInformation.country.JP', 'Country in business information form address'),KR:t._('South Korea', '[m10n]billing.BusinessInformation.country.KR', 'Country in business information form address'),LU:t._('Luxembourg', '[m10n]billing.BusinessInformation.country.LU', 'Country in business information form address'),MT:t._('Malta', '[m10n]billing.BusinessInformation.country.MT', 'Country in business information form address'),MX:t._('Mexico', '[m10n]billing.BusinessInformation.country.MX', 'Country in business information form address'),NL:t._('Netherlands', '[m10n]billing.BusinessInformation.country.NL', 'Country in business information form address'),NO:t._('Norway', '[m10n]billing.BusinessInformation.country.NO', 'Country in business information form address'),NZ:t._('New Zealand', '[m10n]billing.BusinessInformation.country.NZ', 'Country in business information form address'),PL:t._('Poland', '[m10n]billing.BusinessInformation.country.PL', 'Country in business information form address'),PT:t._('Portugal', '[m10n]billing.BusinessInformation.country.PT', 'Country in business information form address'),RO:t._('Romania', '[m10n]billing.BusinessInformation.country.RO', 'Country in business information form address'),SE:t._('Sweden', '[m10n]billing.BusinessInformation.country.SE', 'Country in business information form address'),SG:t._('Singapore', '[m10n]billing.BusinessInformation.country.SG', 'Country in business information form address'),SK:t._('Slovakia', '[m10n]billing.BusinessInformation.country.SK', 'Country in business information form address'),US:t._('United States', '[m10n]billing.BusinessInformation.country.US', 'Country in business information form address'),UNKNOWN:t._('Unknown', '[m10n]billing.BusinessInformation.country.UNKNOWN', 'Country in business information form address')})[e]||e},o={AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,NL:14,NO:22,NZ:6,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,US:1,UNKNOWN:0},a=Object.entries(o).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=n[0];return e[n[1]]=s,e},{})},28543:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(55259),s=n(966113),i=n(567831);function o(e,t,n){if(!r.Z[e])throw Error("unknown url key: ".concat(e));n||(n={});var o,a,c=r.Z[e](n),l=(a=null,(o=n)&&(a=o.advertiserId||null),!a&&t&&(a=t.id),a),u=!!n.absolutify;return"string"==typeof l&&(c="/advertiser/"+l+c),u&&(c=(0,i.Z)(c,void 0,s.KUo)),c}},21353:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(506979),s=n(28543);function i(){var e=(0,r.useSelector)(function(e){return e.advertiser});return function(t,n){return(0,s.default)(t,e,n)}}},852260:function(e,t,n){"use strict";n.d(t,{BC:function(){return f},CZ:function(){return S},Eb:function(){return y},Hf:function(){return m},I9:function(){return a},If:function(){return x},JS:function(){return g},L$:function(){return l},MX:function(){return A},Qo:function(){return b},VW:function(){return I},Zn:function(){return j},aV:function(){return v},bH:function(){return p},h7:function(){return P},hC:function(){return d},nD:function(){return u},nI:function(){return c},qD:function(){return h},sQ:function(){return _},w9:function(){return E}});var r=n(349700),s=n(479267);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){return e._('Cancel', '[m10n]bizAccess.cancel', 'Label for a button that cancels a flow')},c=function(e){return e._('Save', '[m10n]bizAccess.save', 'Label for a button that saves a flow')},l=function(e){return e._('Next', '[m10n]bizAccess.next', 'Label for a button that goes to next part of a flow')},u=function(e){return e._('Skip', '[m10n]bizAccess.skip', 'Label for a button that skips a modal')},d=function(e){return e._('Loading', '[m10n]bizAccess.loading', 'Accessibility label for the loading spinner')},_=function(e){return e._('Uh oh! Something went wrong and we\'re not sure what. Please reach out to your Pinterest contact if you keep running into this problem.', '[m10n]bizAccess.genericError', 'A generic product error message prompt to indicate something is wrong.')},f=function(e){return e._('Not enough data to display', '[m10n]bizAccess.noDataErrorMessage', 'Error message displayed instead of visualization when insufficient data.')},m=function(e){return e._('Done', '[m10n]bizAccess.done', 'label for button when done with flow')},p=function(e){return e._(', ', '[m10n]bizAccess.separator', 'List separator')},h=function(e){return e._(' and ', '[m10n]bizAccess.and', 'Word used to connect two words together')},b=function(e){return e._('N/A', '[m10n.bizAccess.NA', 'show something is Not Applicable')},y=function(e){return e._('Okay', '[m10n.bizAccess.Okay', 'label for button to acknowledge')},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=e.id;return(void 0===i?"":i)===t?(0,r.nk)(s._('{{ name }} (You)', '[m10n]bizAccess.strings.you', 'Highlighting the logged in user\'s name among other data'),{name:n}).join(""):n},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return r?e.id===t?s._('Linked to a personal account', '[m10n]bizAccess.lba.viewer.email', 'Message for linked business access accounts on email'):s._('No email address available', '[m10n]bizAccess.lba.employees.email', 'Message for accounts that we can not show their email'):n},A=function(e,t){return e.length>0&&e.every(function(e){return"BIZ_ADMIN"===e})?t.ngettext('Manager', 'Managers', e.length, '[m10n]bizAccess.people.roles.admins', 'People\'s role in a business'):t.ngettext('Employee', 'Employees', e.length, '[m10n]bizAccess.people.roles.employees', 'People\'s role in a business')},S=function(e){return e._('Account owner', 'businessaccess.dashboard.accountowner.title', 'Heading for Account owner sections on Business Access Dashboard')},x=function(e,t){return e.length<3?e.join(h(t)):e.slice(0,-1).join(p(t))+h(t)+e.slice(-1)[0]},E=function(e){return e._('Permissions for asset groups, ad accounts and profiles are cumulative, meaning members retain the highest permission possible. If you wish to remove a member\u2019s access, please verify permissions have been removed from both asset groups and individual assets.', '[m10n]bizAccess.assetGroups.permissionTooltip.Info', 'Tooltip info for assigning asset group permissions')},P=function(e){return function(t){var n,r=(o(n={},s.Yd.BRAND,e._('Brand', '[m10n]businessAccess.assetGroups.form.type.brand', 'label for brand type checkbox')),o(n,s.Yd.LOCATION_OR_LANGUAGE,e._('Location or language', '[m10n]businessAccess.assetGroups.form.type.location', 'label for location type checkbox')),o(n,s.Yd.PRODUCT_LINE,e._('Product line or similar', '[m10n]businessAccess.assetGroups.form.type.product', 'label for product type checkbox')),o(n,s.Yd.OTHER,e._('Other', '[m10n]businessAccess.assetGroups.form.type.other', 'label for other type checkbox')),n);return r[t]||r[s.Yd.OTHER]}},I=function(e){return e._('You may only have one access request active at a time. You must cancel the previous request in order to make a new one.', '[m10].bizAccess.sharedPartnersDetailPage.existingAccessRequest', 'text describing having an existing access request')},j=function(e){return!e.match(/^[-_ a-zA-Z0-9]*$/)}},539550:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e,t){var n=t.type,r=t.payload,s=t.error;switch(n){case"pending":return{isLoading:!0,error:!1,data:null};case"fulfilled":return{isLoading:!1,error:!1,data:r};case"rejected":return{isLoading:!1,error:s||!0,data:null};default:return e}};function o(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n,c,l,u,d,_=arguments.length,f=Array(_>2?_-2:0),m=2;m<_;m++)f[m-2]=arguments[m];var p=function(e){if(Array.isArray(e))return e}(l=[(c=function(e){if(Array.isArray(e))return e}(n=(0,r.useReducer)(i,{isLoading:!1,error:!1,data:null}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],c[1]])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(l,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(l,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],b=h.isLoading,y=h.data,v=h.error,g=p[1],A=(0,r.useRef)(!0),S=(u=regeneratorRuntime.mark(function t(){var n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return A.current&&g({type:"pending"}),t.prev=1,t.next=4,e.apply(void 0,r);case 4:n=t.sent,A.current&&g({type:"fulfilled",payload:n||{success:!0}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),A.current&&g({type:"rejected",error:t.t0});case 11:case"end":return t.stop()}},t,null,[[1,8]])}),d=function(){var e=this,t=arguments;return new Promise(function(n,r){var s=u.apply(e,t);function i(e){o(s,n,r,i,a,"next",e)}function a(e){o(s,n,r,i,a,"throw",e)}i(void 0)})},function(){return d.apply(this,arguments)});return(0,r.useEffect)(function(){return t&&S.apply(void 0,f),function(){A.current=!1}},[]),[y,v,b,S]}},15099:function(e,t,n){"use strict";n.d(t,{QK:function(){return A},o1:function(){return S}});var r=n(76911),s=n(353356),i=n(812173),o=n(407043),a=n(339363),c=n(19121),l=n(273453);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["eventName"],_=["eventName","elementId","componentId","element","component","errorClass","errorMessage"],f=["eventName","elementId","componentId","element","component"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y={BUSINESS_ACCESS_EMPLOYEES_ACTIVE:3653,BUSINESS_ACCESS_EMPLOYEES_PENDING:3654,BUSINESS_ACCESS_EMPLOYEE_DETAIL_AD_ACCOUNTS:3655,BUSINESS_ACCESS_EMPLOYEE_DETAIL_PROFILES:3656,BUSINESS_ACCESS_PARTNERS_ACTIVE:3657,BUSINESS_ACCESS_PARTNERS_PENDING:3658,BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS:3659,BUSINESS_ACCESS_PARTNER_DETAIL_PROFILE:3660,BUSINESS_ACCESS_AD_ACCOUNTS:3661,BUSINESS_ACCESS_AD_ACCOUNT_PARTNERS:3662,BUSINESS_ACCESS_AD_ACCOUNT_EMPLOYEES:3663,BUSINESS_ACCESS_PROFILES:3664,BUSINESS_ACCESS_PROFILE_DETAIL_EMPLOYEES:3665,BUSINESS_ACCESS_PROFILE_DETAIL_PARTNERS:3666,BUSINESS_ACCESS_HISTORY:3667,BUSINESS_ACCESS_DASHBOARD:3668,BUSINESS_ACCESS_REDIRECT:3670,BIZ_HUB_PAGE:3507,BUSINESS_ACCESS_INVITE_ACCEPTED:3699,BUSINESS_ACCESS_INVITE_ERROR:3700,BUSINESS_ACCESS_SUPPORT_TOOL_ACTIVE:3811,BUSINESS_ACCESS_BUSINESS_SECURITY:3785,BUSINESS_ACCESS_BUSINESS_HIERARCHY:3828,BUSINESS_ACCESS_BUSINESS_HIERARCHY_BUSINESS_SECURITY:3973,BUSINESS_ACCESS_ASSET_GROUPS:3845,BUSINESS_ACCESS_MANAGERS:3832,BUSINESS_ACCESS_INVOICE_MANAGEMENT:3838,BUSINESS_ACCESS_AUDIENCES:3882,BUSINESS_ACCESS_SHARED_TAGS:3917,BUSINESS_ACCESS_BUSINESS_HIERARCHY_INVITE:3924},v={BUSINESS_ACCESS_FORM:13939,BUSINESS_ACCESS_TABLE:13940,BUSINESS_ACCESS_SHEET:13941,BUSINESS_ACCESS_MODAL:13942,BUSINESS_ACCESS_CONTAINER:13943,BUSINESS_ACCESS_NAVIGATION:13944},g={BUSINESS_ACCESS_BUTTON:12698,BUSINESS_ACCESS_FIELD:12699,BUSINESS_ACCESS_TAB:12700,BUSINESS_ACCESS_LINK:11719,BUSINESS_ACCESS_TOOLTIP:12701,BUSINESS_ACCESS_TAP:12702};t.ZP=function(e){var t,n=(0,o.v)().logContextEvent,u=(0,l.KJ)(),m=(0,l.KJ)(!0),A=u||m,S=(0,i.d9)().selectedHierarchyId,x=(0,c.Z)(),E=x.isAuth?x.id:void 0,P=(function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(function(){return(0,a.qn)("businessAccessUUID")||((0,a.Nh)("businessAccessUUID",(0,s.Z)()),(0,a.qn)("businessAccessUUID"))}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e?function(t){if("BUSINESS_ACCESS_PAGE_VIEW"===t.eventName){t.eventName,n({event_type:8960,aux_data:p(p({},h(t,d)),{},{user_id:E,business_id:A,session_id:P,business_hierarchy_id:S}),view_type:465,view_parameter:y[e]});return}if("BUSINESS_ACCESS_ERROR"===t.eventName){t.eventName;var r=t.elementId,s=t.componentId,i=t.element,o=t.component,a=t.errorClass,c=t.errorMessage;n({event_type:8961,aux_data:p(p({},h(t,_)),{},{user_id:E,business_id:A,error_class:a,error_message:c,session_id:P,element_id:r,component_id:s,business_hierarchy_id:S}),element:g[i],component:v[o],view_type:465,view_parameter:y[e]});return}t.eventName;var l=t.elementId,u=t.componentId,m=t.element,b=t.component;n({event_type:9709,aux_data:p(p({},h(t,f)),{},{user_id:E,element_id:l,business_id:A,component_id:u,session_id:P,business_hierarchy_id:S}),view_type:465,element:g[m],component:v[b],view_parameter:y[e]})}:function(){}};var A=function(e){switch(e){case"PEOPLE":case"EMPLOYEES":case"EMPLOYEES_ACTIVE":return"BUSINESS_ACCESS_EMPLOYEES_ACTIVE";case"EMPLOYEES_PENDING":case"PEOPLE_INVITES":return"BUSINESS_ACCESS_EMPLOYEES_PENDING";case"PEOPLE_DETAIL":case"PEOPLE_DETAIL_AD_ACCOUNT":return"BUSINESS_ACCESS_EMPLOYEE_DETAIL_AD_ACCOUNTS";case"PEOPLE_DETAIL_PROFILES":return"BUSINESS_ACCESS_EMPLOYEE_DETAIL_PROFILES";case"PARTNERS":case"PARTNERS_ACTIVE":return"BUSINESS_ACCESS_PARTNERS_ACTIVE";case"PARTNERS_PENDING":case"PARTNERS_INVITE_PAGE":case"PARTNERS_REQUEST_PAGE":return"BUSINESS_ACCESS_PARTNERS_PENDING";case"PARTNERS_DETAIL":case"SHARED_PARTNERS_DETAIL":case"PARTNER_DETAIL":case"PARTNER_DETAIL_AD_ACCOUNTS":return"BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS";case"PARTNER_DETAIL_PROFILE":return"BUSINESS_ACCESS_PARTNER_DETAIL_PROFILE";case"AD_ACCOUNTS":return"BUSINESS_ACCESS_AD_ACCOUNTS";case"AD_ACCOUNTS_DETAIL":case"AD_ACCOUNT_DETAIL":case"AD_ACCOUNT_DETAIL_PARTNERS":return"BUSINESS_ACCESS_AD_ACCOUNT_PARTNERS";case"AD_ACCOUNT_EMPLOYEES":return"BUSINESS_ACCESS_AD_ACCOUNT_EMPLOYEES";case"PROFILES":return"BUSINESS_ACCESS_PROFILES";case"PROFILES_DETAIL":case"PROFILE_DETAIL":case"PROFILE_DETAIL_EMPLOYEES":return"BUSINESS_ACCESS_PROFILE_DETAIL_EMPLOYEES";case"PROFILE_DETAIL_PARTNERS":return"BUSINESS_ACCESS_PROFILE_DETAIL_PARTNERS";case"HISTORY":return"BUSINESS_ACCESS_HISTORY";case"INVOICE_MANAGEMENT":return"BUSINESS_ACCESS_INVOICE_MANAGEMENT";case"DASHBOARD":return"BUSINESS_ACCESS_DASHBOARD";case"CHOOSER":case"REDIRECT":return"BUSINESS_ACCESS_REDIRECT";case"BUSINESS_SECURITY":return"BUSINESS_ACCESS_BUSINESS_SECURITY";case"BUSINESS_HIERARCHY":return"BUSINESS_ACCESS_BUSINESS_HIERARCHY";case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return"BUSINESS_ACCESS_BUSINESS_HIERARCHY_BUSINESS_SECURITY";case"ASSET_GROUPS":return"BUSINESS_ACCESS_ASSET_GROUPS";case"SUPPORT_TOOL":return"BUSINESS_ACCESS_SUPPORT_TOOL";case"MANAGERS":return"BUSINESS_ACCESS_MANAGERS";case"AUDIENCES":return"BUSINESS_ACCESS_AUDIENCES";case"SHARED_TAGS":return"BUSINESS_ACCESS_SHARED_TAGS";default:return}},S=function(e){switch(e){case"PARTNER":return"BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS";case"AOAA_REQUEST_DETAIL_PAGE":case"AD_ACCOUNT_PEOPLE":return"BUSINESS_ACCESS_AD_ACCOUNT_EMPLOYEES";case"AD_ACCOUNT_PARTNER":return"BUSINESS_ACCESS_AD_ACCOUNT_PARTNERS";case"PEOPLE":return"BUSINESS_ACCESS_EMPLOYEE_DETAIL_AD_ACCOUNTS";default:return}}},410841:function(e,t,n){"use strict";var r=n(76911),s=n(186656),i=n(773285),o=n(784590);function a(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,c,"next",e)}function c(e){a(i,r,s,o,c,"throw",e)}o(void 0)})}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,a=(0,i.F)().checkExperiment("ba_mfa_enabled").anyEnabled,u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],_=u[1],f=(0,o.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e&&e.isAuth?e.id:""}}),m=(n=c(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)({url:"/ads/v4/business_access/businesses/me/mfa_enablement"});case 2:return n=e.sent,e.abrupt("return",(null===(t=n.resource_response.data)||void 0===t?void 0:t.has_mfa_enabled)||!1);case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,r.useEffect)(function(){var e,t,n=(e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:_(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),_(!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)});f.isLoaded&&f.data&&null!==(t=f.data.partner)&&void 0!==t&&t.is_linked_business&&a?n():_(!1)},[a,f.isLoaded,f.data]),d}},166518:function(e,t,n){"use strict";var r=n(76911),s=n(599689),i=n(326884),o=n(584595),a=n(773285),c=n(769106),l=n(273453);function u(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t=(0,l.KJ)(),n=(0,s.useRouteMatch)().params.businessHierarchyId,_=(0,a.F)().checkExperiment("ba_mfa_enabled").anyEnabled,f=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(_&&!n?null:[]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],p=f[1];return(0,r.useEffect)(function(){var e,n,r=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.ZP)({businessId:t,useApiResource:!0});case 3:p((null==(r=e.sent)?void 0:null===(n=r.data)||void 0===n?void 0:n.business_roles)||[]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.api_error_code===o.Zn&&p([i.V3.EMPLOYEE,i.V3.BIZ_ADMIN]);case 10:case"end":return e.stop()}},e,null,[[0,7]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){u(i,r,s,o,a,"next",e)}function a(e){u(i,r,s,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)});t&&_&&r(t)},[t,_]),m}},62922:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911),s=n(353356);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o={id:(0,s.Z)(),timeout:null};function a(){var e,t=(function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(o.id))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],n=(0,r.useRef)(!0),a=function e(){o.timeout&&window.clearTimeout(o.timeout),o.timeout=window.setTimeout(function(){o.id=(0,s.Z)(),n.current&&t(o.id),e()},18e5)};return(0,r.useEffect)(function(){a(),window.addEventListener("click",a),window.addEventListener("keyUp",a)},[]),o.id}},81636:function(e,t,n){"use strict";n.d(t,{Q:function(){return _},Z:function(){return f}});var r=n(76911),s=n(16449),i=n.n(s),o=n(112690),a=n(385740),c=n(780280);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){var n=(0,a.sV)().setViewContextData,s=(0,c.B)().requestIdentifier,l=(0,o.Z)(),u=(0,a.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?i()(u,e.view_data):i()({},u),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),l(d(d({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return _(e.log),t||null}},407043:function(e,t,n){"use strict";n.d(t,{B:function(){return l},v:function(){return c}});var r=n(385740),s=n(425288),i=n(515198),o=(0,s.Z)("ContextLogger"),a=o.Provider,c=o.useHook;function l(e){var t=e.children,n=e.value,s=(0,r.sV)().setViewContextData;return n.injectSetViewContextDataFromHook=s,(0,i.jsx)(a,{value:n,children:t})}},112690:function(e,t,n){"use strict";var r=n(407043);t.Z=function(){return(0,r.v)().logContextEvent}},385740:function(e,t,n){"use strict";n.d(t,{BE:function(){return m},Ih:function(){return p},SU:function(){return h},sV:function(){return f}});var r,s=n(76911),i=n(425288),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,i.Z)("View"),_=d.Provider,f=d.useHook;function m(){return r}function p(e){var t,n=e.children,i=e.initialState,a=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(void 0===i?{}:i))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],d=a[1],f=(0,s.useCallback)(function(){r={},d({})},[]),m=(0,s.useCallback)(function(e){r=l(l({},r),e),d(function(t){return l(l({},t),e)})},[]),p=(0,s.useMemo)(function(){return{viewContextData:c,clearViewContextData:f,setViewContextData:m}},[c,m,f]);return(0,o.jsx)(s.Fragment,{children:(0,o.jsx)(_,{value:p,children:n})})}function h(){return f().viewContextData}},425288:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(76911);function s(e,t){var n="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(n," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var n,i,o=(0,r.createContext)(t),a=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),n)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(n,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;o.displayName=a;var c=o.Provider,l=function(e){var t=e.children,n=(0,r.useContext)(o);if(void 0===n)throw Error(s(a,"consumer"));return t(n)},u=function(){return(0,r.useContext)(o)};return c.displayName="".concat(a,"Provider"),l.displayName="".concat(a,"Consumer"),{Provider:c,Consumer:l,MaybeConsumer:function(e){return(0,e.children)((0,r.useContext)(o))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(s(a,"hook"));return e}}}},643010:function(e,t,n){"use strict";n.d(t,{F6:function(){return _},Hs:function(){return d},Yc:function(){return l},vs:function(){return u}});var r=n(76911),s=n(844974),i=n(867820);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a="theme",c="dark"===(0,s.qn)(a),l=function(){return c};function u(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],s=t[1];return(0,r.useEffect)(function(){s(l())},[s]),n}var d=function(){(0,s.Nh)(a,"dark"),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},_=function(){(0,s.L_)(a),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},973543:function(e,t){"use strict";t.Z=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},375571:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),s=n(395164),i=n(67347);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r,_=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(l(e=_.call.apply(_,[this].concat(n))),"state",{error:null,info:null}),d(l(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,o=this.props.type||"secondary";(0,s.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:r,errorBoundaryType:o,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}],a(f.prototype,n),r&&a(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},319915:function(e,t,n){"use strict";var r=n(375571);t.Z=r.Z},121093:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(76911),s=n(506979),i=n(112690),o=n(332611),a=n(242923),c=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var t,n,s,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=b(o);if(t){var r=b(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=i.call.apply(i,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),y(h(e),"view",function(){var t=e.props,n=t.experience,r=t.isBackendExperience,s=t.targeting,i=t.viewExperience,o=t.viewExperienceObject;n&&"viewed"!==n.status&&(r?(n.status="viewed",o(n)):s?i(n.placement_id,n.experience_id,s):i(n.placement_id,n.experience_id))}),y(h(e),"complete",function(t){var n=e.props,r=n.completeExperience,s=n.completeExperienceObject,i=n.experience,o=n.isBackendExperience,a=n.preventRemoval,c=n.targeting,l=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var u=i||{},d=u.placement_id,f=u.experience_id,m=a||2===l;(1===l||m)&&d&&f&&(o?s(i,m):c?r(d,f,m,c):r(d,f,m),e.setState(function(e){return{hasCompleted:[].concat(_(e.hasCompleted),[f])}}))}}),y(h(e),"dismiss",function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,s=t.experience,i=t.isBackendExperience,o=t.preventRemoval,a=t.targeting,c=s||{},l=c.placement_id,u=c.experience_id;s&&!e.state.hasDismissed.includes(u)&&(i?r(s):a?n(l,u,!!o,a):n(l,u,!!o),e.setState(function(e){return{hasDismissed:[].concat(_(e.hasDismissed),[u])}}))}),y(h(e),"isEligibleExperience",function(){var t=e.props.experience;if(!t)return!1;var n=e.props,r=n.eligibleIds,s=n.eligibleTypes,i=n.predicate,o=n.transitionType,a=t.experience_id,c=t.type;return r&&r.length?r.includes(a):s&&s.length?s.includes(c):i?i(t):!o||o===c}),e}return n=[{key:"componentDidMount",value:function(){!this.props.disableAutoView&&this.props.experience&&this.isEligibleExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,s=e.disableAutoView;return n&&this.isEligibleExperience()?"function"==typeof t?t(d({experience:n,complete:this.complete,dismiss:this.dismiss},s?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}],m(o.prototype,n),s&&m(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);function A(e){var t=(0,s.useSelector)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)}),n=(0,s.useDispatch)(),r=(0,o.be)(),l=(0,o.Am)(),u=(0,o.Ig)(),_=(0,i.Z)();return(0,c.jsx)(g,d(d({},e),{},{experience:t,completeExperience:function(e,t,s,i){return n(r(e,t,s,!1,{},i))},completeExperienceObject:function(e,t){return n((0,a.Tl)(_)(e,t))},dismissExperience:function(e,t,r,s){return n(l(e,t,r,void 0,s))},dismissExperienceObject:function(e){return n((0,a.CF)(e))},viewExperience:function(e,t,r){return n(u(e,t,!1,!1,void 0,r))},viewExperienceObject:function(e){return n((0,a.dy)(_)(e))}}))}y(g,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:function(e,t,n){"use strict";n.d(t,{F:function(){return y},M:function(){return b}});var r=n(76911),s=n(506979),i=n(821463),o=n(425288),a=n(332611),c=n(957191),l=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("ExperienceContext"),h=p.Provider,b=p.useHook;function y(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return _(_({},e),{},{mountedPlacements:_(_({},e.mountedPlacements),{},f({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var n=_({},e);return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?_(_({},e),{},{registerdAfterActionPlacements:_(_({},e.registerdAfterActionPlacements),{},f({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],d=o[1],p=u.mountedPlacements,b=u.registerdAfterActionPlacements,y=(0,s.useDispatch)(),v=(0,s.useSelector)(function(e){return e.experiences}),g=(0,a.be)(),A=(0,a.Am)(),S=(0,a.Ig)(),x=(0,r.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:g,dismissExperience:A,fetchAllExperiences:a.fO,fetchAllExperiencesMulti:c.NW,fetchExperienceForPlacements:a.pz,mountPlacement:a.N,triggerExperimentsForPlacement:a.kd,viewExperience:S},y);return _(_({},e),{},{mountPlacement:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e.mountPlacement.apply(e,[t].concat(r)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[g,A,y,d,S]),E=(0,r.useMemo)(function(){return _({experiences:v,mountedPlacements:p,registerdAfterActionPlacements:b},x)},[v,p,b,x]);return(0,l.jsx)(h,{value:E,children:n})}},333312:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(76911),s=n(908390),i=n(121093),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(f,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(f);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(u(e=i.call.apply(i,[this].concat(n))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),_(u(e),"dismissed",!1),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,i=e.idealDirection,a=r.slice(-3);return(0,o.jsx)(s.J2,{anchor:t,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,o.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,o.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,o.jsx)(s.xv,{color:"default",weight:"bold",children:n})}),(0,o.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map(function(e){return(0,o.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,o.jsx)(s.zd,{rounding:2,height:60,children:(0,o.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],c(f.prototype,n),r&&c(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.PureComponent),p=n(570470),h=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,n,a,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=A(l);if(t){var r=A(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return S(g(e=c.call.apply(c,[this].concat(n))),"dismissRef",(0,r.createRef)()),S(g(e),"state",{paused:!1}),S(g(e),"dismissCb",function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)}),S(g(e),"handlePulsarClick",function(t,n){t?e.setState({paused:!0}):n()}),e}return n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,a=t.customWrapper,c=t.experienceIds,l=t.boardTextOverride,u=t.flyoutSize,d=t.fontSize,_=t.hasFullWidthButton,f=void 0===_||_,b=t.idealDirection,y=t.useMasonryFlyout,v=t.noClickToDismiss,g=t.onClickComplete,A=t.onClickDismiss,S=t.placementId,x=t.positionRelativeToAnchor,E=t.shouldTimeoutDismiss,P=t.showCaret,I=t.textAlign,j=t.textOverflow,O=t.textOverrideFn,C=t.textWeight,w=t.customizedComplete,T=t.pulsarZIndex,z=t.advertiserId,R=t.dismissButtonLocation,N=t.dismissButtonColor,D=t.dismissButtonMarginTop,k=a||function(e){var t=e.children;return y?(0,o.jsx)(s.mh,{children:t}):t};return(0,o.jsx)(i.Z,{eligibleIds:c,placementId:S,eligibleTypes:[8],targeting:z?{advertiserId:parseInt(z,10)}:null,children:function(t){var i=t.complete,a=t.dismiss,c=t.experience,_=c.display_data,S=_.scroll_to_dismiss,z=_.scroll_to_dismiss_delay_in_seconds,L=void 0===z?0:z,B=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(_,h),U=S&&n,M=function(){H(),setTimeout(a,1e3*L)},H=function(){U&&(window.removeEventListener("scroll",M),window.removeEventListener("touchmove",M))},Z=function(){H(),i()};if(U&&(window.addEventListener("scroll",M),window.addEventListener("touchmove",M)),e.setDefaultPulsarTooltip(B),!B.has_pulsar&&!B.has_tooltip)return Z(),null;E&&B.disappearTime&&B.disappearTime>0&&(e.timer=setTimeout(function(){return M(),null},B.disappearTime));var G=501041===c.experience_id||505086===c.experience_id;return B.has_tooltip&&!B.has_pulsar&&(e.dismissRef.current=M,null==n||n.addEventListener("click",e.dismissCb)),(0,o.jsxs)(r.Fragment,{children:[B.has_pulsar&&(0,o.jsx)(p.Z,{anchor:n,leftOverride:G?342:void 0,onTouch:function(){return e.handlePulsarClick(B.has_tooltip,Z)},paused:e.state.paused,topOverride:G?-5:void 0,zIndex:T&&T.index()}),B.has_tooltip&&(!B.has_pulsar||e.state.paused)&&(B.thumbnail_urls?(0,o.jsx)(m,{anchor:n,dismiss:M,idealDirection:b||"down",text:B.text,thumbnails:B.thumbnail_urls}):(0,o.jsx)(k,{children:(0,o.jsx)(s.J2,{anchor:n,color:"deprecatedBlue",idealDirection:b||"down",onDismiss:v?function(){}:M,positionRelativeToAnchor:!y&&x,shouldFocus:!1,_deprecatedShowCaret:P,size:u,children:(0,o.jsxs)(s.xu,{column:12,padding:3,children:[(0,o.jsxs)(s.xv,{align:"right"===I?"end":I,color:"inverse",overflow:j,size:d,weight:C||"bold",children:[e.getText(B,l,O),B.secondary_cta_link&&(0,o.jsx)(s.xu,{display:"inlineBlock",marginStart:1,children:(0,o.jsx)(s.xv,{size:d,weight:"bold",color:"inverse",children:(0,o.jsx)(s.rU,{display:"inlineBlock",target:"blank",href:B.secondary_cta_link.url,underline:"hover",children:B.secondary_cta_link.text})})})]}),B.sub_text&&(0,o.jsx)(s.xu,{paddingY:2,children:(0,o.jsx)(s.xv,{color:"inverse",size:d,children:B.sub_text})}),(B.dismiss_button_text||B.complete_button_text)&&(0,o.jsxs)(s.xu,{display:"flex",alignItems:"center",justifyContent:R||"start",marginTop:D||2,children:[B.dismiss_button_text&&(0,o.jsx)(s.xu,{marginEnd:1,column:6,children:(0,o.jsx)(s.zx,{fullWidth:f,color:N||"blue",onClick:function(){A&&A(),M()},size:"md",text:B.dismiss_button_text})}),B.complete_button_text&&(0,o.jsx)(s.xu,{column:B.dismiss_button_text?6:12,children:w?(0,o.jsx)(s.iP,{fullHeight:!0,onTap:function(){Z(),g&&g()},rounding:2,children:(0,o.jsx)(s.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,o.jsx)(s.xv,{color:"shopping",weight:"bold",children:B.complete_button_text})})}):(0,o.jsxs)(s.kC,{justifyContent:"center",children:[B.complete_button_cta_url&&(0,o.jsx)(s.ZP,{fullWidth:f,color:"white",href:B.complete_button_cta_url,size:"md",target:B.complete_button_cta_url?"blank":null,text:B.complete_button_text,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),Z(),g&&g()}}),!B.complete_button_cta_url&&(0,o.jsx)(s.zx,{fullWidth:f,color:"white",size:"md",text:B.complete_button_text,onClick:function(){Z(),g&&g()}})]})})]})]})})}))]})}})}}],y(l.prototype,n),a&&y(l,a),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);S(E,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:function(e,t,n){"use strict";n.d(t,{Am:function(){return A},Ig:function(){return v},N:function(){return P},Sd:function(){return S},YX:function(){return E},be:function(){return g},fO:function(){return h},kd:function(){return x},pz:function(){return b}});var r,s=n(76911),i=n(214494),o=n(112690),a=n(764990),c=n(957191),l=n(186656),u=n(67347);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},h=function(e,t){return function(n){var r=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",r).callGet().then(function(e){return e.resource_response?n((0,c.OD)(e.resource_response.data)):void 0})}},b=function(e,t,n,s){return function(o,l){if(t)return Promise.resolve();if(s&&(r=s),1===e.length){var u=e[0],d=l().experiences[u];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(n)||(0,a.E3)(d)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:s}).callGet().then(function(e){return e.resource_response?o((0,c.cL)(e.resource_response.data)):void 0})}},y=function(e,t,n,s){return function(o,a,l){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,_=arguments.length>5?arguments[5]:void 0;return function(f,m){var p,b=m(),y=b.experiences,v=b.experiencesMulti,g=null,A=!0;if(u||(g=(A=y[o]&&y[o].experience_id===a)?y[o]:Array.isArray(v[o])&&(null===(p=v[o])||void 0===p?void 0:p.find(function(e){return e.experience_id===a}))),g&&g.experience_id===a||u&&o&&a){var S=i.Z.create(e,{placed_experience_id:"".concat(o,"%3A").concat(a),extra_context:null!=d?d:{},targeting:_}),x=A?c.Yb:c.xW;switch(t){case"dismissed":return S.callDelete().then(function(){f(x(o,a,t)),f(h(void 0,r)),n&&s&&n({event_type:s,object_id_str:a.toString()})});case"completed":return S.callUpdate().then(function(){!l&&(f(x(o,a,t)),f(h(void 0,r)),n&&s&&n({event_type:s,object_id_str:a.toString()}))});case"viewed":return f(x(o,a,t)),S.callUpdate().then(function(){1000162===o&&f(h()),n&&s&&n({event_type:s,object_id_str:a.toString()})});case"completedWithoutHomefeed":return S.callUpdate().then(function(){l||f(x(o,a,t)),n&&s&&n({event_type:s,object_id_str:a.toString()})})}}return Promise.resolve()}}},v=function(){var e=(0,o.Z)();return(0,s.useCallback)(y("UserExperienceViewedResource","viewed",e,4503),[e])},g=function(){var e=(0,o.Z)();return(0,s.useCallback)(y("UserExperienceCompletedResource","completed",e,6567),[e])},A=function(){var e=(0,o.Z)();return(0,s.useCallback)(y("UserExperienceResource","dismissed",e,6568),[e])},S=function(){var e=(0,o.Z)();return(0,s.useCallback)(y("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},x=function(e,t){return function(n,r){var s=r().experiences[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach(function(n){var r,i=(function(e){if(Array.isArray(e))return e}(r=n.split(":"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(r,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],o=t;s.metadata&&s.metadata[i]&&(o=f(f({},t),s.metadata[i])),(0,l.Z)({url:"/v3/experiences/".concat(n.replace(":","%3A"),"/trigger/"),method:"PUT",data:o?{extra_context:JSON.stringify(o,null,1)}:{}}).then(function(){p("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},E=function(e){return function(t,n){return t(x(e)),n().experiences[e]}},P=function(e,t,n){return function(s){n&&(r=n),s(x(e,t)),t&&Object.keys(t).length>0&&s(b([e],!1,t,n))}}},242923:function(e,t,n){"use strict";n.d(t,{CF:function(){return a},Tl:function(){return o},dy:function(){return c}});var r=n(214494),s=n(332611),i=function(e,t,n,i){return function(o,a){return function(c){if(o&&o.id){var l=r.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then(function(){c((0,s.fO)()),n&&i&&n({event_type:i,object_id_str:o.id.toString()})});break;case"completed":l.callUpdate().then(function(){a||c((0,s.fO)()),n&&i&&n({event_type:i,object_id_str:o.id.toString()})});break;case"viewed":l.callUpdate().then(function(){n&&i&&n({event_type:i,object_id_str:o.id.toString()})})}}}}},o=function(e){return i("UserExperienceCompletedResource","completed",e,6567)},a=i("UserExperienceResource","dismissed"),c=function(e){return i("UserExperienceViewedResource","viewed",e,4503)}},764990:function(e,t,n){"use strict";n.d(t,{A0:function(){return l},E3:function(){return a},MQ:function(){return c},fL:function(){return u}});var r=n(908390),s=n(149230),i=n(515198);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return!!e&&0!==e.type}var c=function(e,t,n){var r=e[n];return t[n]&&a(r)?r:null};function l(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var u=function(e){var t,n,a=((function(e){if(Array.isArray(e))return o(e)})(n=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(r.xv,{inline:!0,children:e.textContent});var t=e.href||"",n=(0,s.Z)({url:t});return(0,i.jsx)(r.rU,{href:t,display:"inline",externalLinkIcon:n?"default":"none",target:"blank",rel:n?"nofollow":"none",children:e.textContent})});return(0,i.jsx)(r.xv,{inline:!0,children:a})}},207737:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return s},_4:function(){return o},iY:function(){return a},mR:function(){return i}});var r="REFRESH_ALL_EXPERIENCES_MULTI",s="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:function(e,t,n){"use strict";n.d(t,{NW:function(){return o},OD:function(){return c},Yb:function(){return a},cL:function(){return l},xW:function(){return i}});var r=n(214494),s=n(207737),i=function(e,t,n){return{type:s.V$,payload:{placementId:e,experienceId:t,status:n}}},o=function(e){return function(t){return r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var n;return e.resource_response?t((n=e.resource_response.data,{type:s.$S,payload:{experiencesMulti:n}})):void 0})}},a=function(e,t,n){return{type:s.iY,payload:{placementId:e,experienceId:t,status:n}}},c=function(e){return{type:s._4,payload:{experiences:e}}},l=function(e){return{type:s.mR,payload:{experiences:e}}}},570470:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),s=n(76911),i=n(515198);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.anchor,n=e.children,a=e.zIndex,c=e.leftOverride,l=e.topOverride,u=(0,s.useRef)(null),d=o((0,s.useState)(0),2),_=d[0],f=d[1],m=o((0,s.useState)(0),2),p=m[0],h=m[1],b=t.getBoundingClientRect(),y=b.height,v=b.width;return(0,s.useEffect)(function(){var e=u.current;if(t&&e){var n=e.getBoundingClientRect(),r=n.height,s={horizontalOffset:-(n.width/2-v/2),verticalOffset:-(r/2-y/2)},i=s.horizontalOffset,o=s.verticalOffset;f(i),h(o)}}),(0,i.jsx)(r.xu,{position:"absolute",zIndex:a?new r.Ry(a):void 0,dangerouslySetInlineStyle:{__style:{left:c||_,top:l||p}},ref:u,children:n})}var l=function(e){var t=e.anchor,n=e.leftOverride,s=e.onTouch,o=e.onMouseEnter,a=e.paused,l=e.size,u=e.topOverride,d=e.zIndex;return t?(0,i.jsx)(c,{anchor:t,leftOverride:n,topOverride:u,zIndex:d,children:(0,i.jsx)(r.iP,{fullWidth:!1,onTap:function(e){return s(e.event)},onMouseEnter:o,rounding:"circle",children:(0,i.jsx)(r.o3,{paused:a,size:l})})}):null}},378518:function(e,t,n){"use strict";n.d(t,{_:function(){return l},a:function(){return u}});var r=n(76911),s=n(506979),i=n(653498),o=n.n(i),a=n(332611),c=n(780280),l=function(e){var t=e.extraContext,n=e.id,i=e.shouldUsePlacedExperience,l=void 0===i||i,u=(0,r.useRef)(),d=(0,s.useDispatch)(),_=(0,c.B)().isBot,f=(0,s.useSelector)(function(e){return e.experiences[n]});return(0,r.useEffect)(function(){d((0,a.kd)(n))},[d,f,n]),(0,r.useEffect)(function(){l||o()(u.current,t)||(d((0,a.pz)([n],_,t)),u.current=t)},[d,t,_,n,l]),f},u=function(e){return l(e),(0,s.useSelector)(function(t){return t.experiencesMulti[e.id]})}},869636:function(e,t,n){"use strict";var r=n(76911),s=n(506979),i=n(904202),o=n(123159),a=n(780280),c=n(67347);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,i.P1)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,c.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},p=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(p,n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=c[0],u=c[1],h=(0,a.B)().isBot,b=(0,o.M)(),y=b.fetchExperienceForPlacements,v=b.mountPlacement,g=b.triggerExperimentsForPlacement,A=b.unmountPlacement;(0,r.useDebugValue)("Placement Hook ID - ".concat(e)),(0,r.useEffect)(function(){var t=d({},l),n=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return v(e,t,n),function(){A(e)}},[]),(0,r.useEffect)(function(){Object.keys(l).length>0&&y([e],h,l)},[l]);var S=(0,s.useSelector)(function(t){return f(t,e)}),x=(0,s.useSelector)(function(t){return t.experiencesMulti[e]}),E=S?S.triggerable_placed_exps:[];return(0,r.useEffect)(function(){m("experienceservice","placementHookExperimentTrigger.1",d({platform:"web",placement_id:e},E)),g(e,l)},[JSON.stringify(E)]),{experience:S,experiencesMulti:x,setExtraContext:u}}},784450:function(e,t,n){"use strict";var r=n(76911),s=n(506979),i=n(653498),o=n.n(i),a=n(332611),c=n(123159),l=n(764990),u=n(780280),d=n(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var A={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(i){var f=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,f=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(g,r);var s,c,u,f=(s=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=y(g);if(s){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function g(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,g),v(b(t=f.call(this,e)),"state",{extraContext:void 0}),v(b(t),"setExtraContextState",function(e){o()(t.state.extraContext,e)||t.setState({extraContext:e})}),t}return c=[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(n,r){var s=this.props,i=s.dispatch,c=s.experience,l=s.requestContext,u=r.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(u=t(n,r.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!o()(u,d)&&i((0,a.pz)([e],l.isBot,d)),c&&(!n.experience||c.id!==n.experience.id)&&i((0,a.kd)(e,d))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var r="function"==typeof t?t(this.props,this.state.extraContext||{}):m({},t),s=n&&null!=r&&r.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,s)}},{key:"render",value:function(){var e=this.props,t=e.experience,r=e.experiencesMulti,s=v({},n?"advertiserExperience":"experience",(0,l.E3)(t)?t:null);return(0,d.jsx)(i,m(m(m({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},s),{},{experiencesMulti:r}))}}],p(g.prototype,c),u&&p(g,u),Object.defineProperty(g,"prototype",{writable:!1}),g}(r.Component);function g(e){var t=(0,u.B)(),n=(0,s.useDispatch)(),r=(0,c.M)(),i=r.mountPlacement,o=r.unmountPlacement;return(0,d.jsx)(f,m(m({},e),{},{dispatch:n,mountPlacement:i,requestContext:t,unmountPlacement:o}))}return g.displayName="withPlacement(".concat(i.displayName||i.name||"Component",")"),g}(e,t,(n=m(m({},A),n)).shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,i),g=function(t){var n=(0,s.useSelector)(function(t){return t.experiences[e]}),r=(0,s.useSelector)(function(t){return t.experiencesMulti?t.experiencesMulti[e]:void 0});return(0,d.jsx)(f,m(m({},t),{},{experience:n,experiencesMulti:r}))};return g.displayName=f.displayName,g}}},121151:function(e,t,n){"use strict";n.d(t,{ZP:function(){return p},b7:function(){return o.b7},bN:function(){return f},p4:function(){return m}});var r=n(167678),s=n(50286),i=n(515198),o=n(968121);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type","mobileIsFooter","zIndex"],l=["allowClickAndDrag","allowMediaPlay","allowScroll","role","size","_dangerouslyDisableScrollBoundaryContainer"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var f=(0,r.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(51879).then(n.bind(n,373420))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 373420}}),m=(0,r.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(72430).then(n.bind(n,430322))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 430322}});function p(e){var t=(0,s.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type,e.mobileIsFooter,e.zIndex;var r=_(e,c);return(0,i.jsx)(f,d({},r))}e.allowClickAndDrag,e.allowMediaPlay,e.allowScroll,e.role,e.size,e._dangerouslyDisableScrollBoundaryContainer;var o=_(e,l);return(0,i.jsx)(m,d(d({},o),{},{isOpen:n}))}},968121:function(e,t,n){"use strict";n.d(t,{JN:function(){return _},Vf:function(){return f},ZM:function(){return u},b7:function(){return l},i_:function(){return d}});var r=n(908390),s=n(643010),i=n(379764);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=new r.Ry(1e3),u=new r.H3([i.Z]),d=12,_=function(e){var t=e.variant;return{__style:"fullscreen"===t?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===t?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===t?{border:(0,s.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===t?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,s.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}},f=function(e){var t=e.isFullscreen,n=e.isTablet,r=e.isShowing,i=e.isRelatedInterestsModal,o={border:(0,s.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},a=r?"translateY(0)":"translateY(100vh)";return o.height=t?"100vh":"",n&&i&&(o=c(c({},o),{width:425,left:"50%",transform:"translateX(-50%)"}),a=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:c(c({},o),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a})}}},356997:function(e,t,n){"use strict";n.d(t,{qE:function(){return o},u_:function(){return a.ZP}});var r=n(908390),s=n(515198);function i(e){var t=e.accessibilityLabel,n=e.name,i=e.outline,o=e.size,a=e.src,c=e.verified;return(0,s.jsx)(r.qE,{accessibilityLabel:t,name:n,outline:i,size:o,src:(null==a?void 0:a.includes("images/user/default"))&&n?void 0:a,verified:c})}i.displayName="Avatar";var o=i,a=n(121151);n(499128)},506708:function(e,t,n){"use strict";var r=n(170168);t.Z=function(){var e=window.location.hostname;return e.includes("pinterdev")&&!e.includes("ads.pinterdev")?e:e.includes("ads-latest")?"latest.pinterest.com":r.Vi}},479216:function(e,t,n){"use strict";n.d(t,{MF:function(){return i},PB:function(){return o},Ul:function(){return a},XD:function(){return r}});var r={AUD:"A$",BRL:"R$",CAD:"$",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"\xa3",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$",JPY:"\xa5",CHF:"₣"},s=function(e){return 1.1.toLocaleString(e).substring(1,2)},i=function(e,t){return","===s(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},o=function(e,t){return","===s(t)&&e?e.replace(",","."):e};function a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=new Intl.NumberFormat(t,{style:"currency",currency:n}).resolvedOptions(),i=s.minimumFractionDigits,o=s.maximumFractionDigits,a=void 0===i?2:i,c=void 0===o?2:o;return e.toLocaleString(t,{maximumFractionDigits:r&&c>0?3:c,minimumFractionDigits:r&&a>0?3:a})}},529518:function(e,t,n){"use strict";function r(e,t){var n=e*Math.pow(10,t),r=Math.round((n-parseInt(n,10))*10)/10;return -.5===r&&(r=-.6),n=Math.round(parseInt(n,10)+r)/Math.pow(10,t)}function s(e){var t=r(parseFloat(e),2);return t?t.toFixed(2):e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=100,s=1e4;if(n){var i=new Intl.NumberFormat(void 0,{style:"currency",currency:n}).resolvedOptions().maximumFractionDigits;"number"==typeof i&&(s=1e6/(r=Math.pow(10,i)))}return t&&(r=1e3,s=1e3),Math.round(e*r)*s}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Number.isNaN(e))return 0;var n=1e6;return t&&(n=1e6),e/n}function a(e){return e?s(o(e).toString()):""}n.d(t,{$X:function(){return o},Hy:function(){return a},c3:function(){return _},cq:function(){return s},q$:function(){return r},qq:function(){return d},y:function(){return i}});var c={fractionalCentFormatData:{},formatData:{}};function l(e){return e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"fractionalCentFormatData":"formatData",r=c[n][e];if(!r){var s=2,i=2,o=-9999.99;t&&(s=3,i=3,o=-9999.999);var a=new Intl.NumberFormat(e,{minimumFractionDigits:s,maximumFractionDigits:i}),u=a.formatToParts(o),d=u.find(function(e){return"minusSign"===e.type}),_=u.find(function(e){return"group"===e.type}),f=u.find(function(e){return"decimal"===e.type}),m=_?_.value:"",p=l(m),h="[^0-9"+p+l(f?f.value:"")+l(d?d.value:"")+"]";r={format:a,decimal:f?f.value:null,group:m,groupRegex:RegExp(p||"","g"),cleaner:RegExp(h,"g")},c[n][e]=r}return r}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e)return e;if("string"!=typeof e)return NaN;var r=u(t,n),s=e.replace(r.cleaner,"");return r.decimal&&(s=s.replace(r.decimal,"!_!")),r.group&&(s=s.replace(r.groupRegex,"")),parseFloat(s=s.replace("!_!","."))}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(t,n).format.format(e)}},298361:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(202139),s=n(898781),i=n(349700);function o(){var e=(0,s.ZP)();return function(t,n){var s=new Date(t),o=new Date-s,a=Math.floor(o/r.FS),c=Math.floor(o/r.UK),l=Math.floor(o/r.F4),u=Math.floor(o/r.VL),d=Math.floor(o/r.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),f=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', c, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', l, ' - ', ' -- '),p=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),h=e.ngettext('{{ years }} year ago', '{{ years }} years ago', d, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),y=e.ngettext('{{ hours }}h', '{{ hours }}h', c, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', l, 'days ago abbreviated', 'days ago abbreviated'),g=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),A=e.ngettext('{{ years }}y', '{{ years }}y', d, 'years ago abbreviated', 'years ago abbreviated');return d>0?(0,i.nk)(n?A:h,{years:d}).join(""):u>0?(0,i.nk)(n?g:p,{weeks:u}).join(""):l>0?(0,i.nk)(n?v:m,{days:l}).join(""):c>0?(0,i.nk)(n?y:f,{hours:c}).join(""):a>0?(0,i.nk)(n?b:_,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:function(e,t,n){"use strict";n.d(t,{oz:function(){return i},q6:function(){return s}});var r=(0,n(425288).Z)("i18n"),s=r.Provider,i=r.Consumer,o=r.useHook;t.ZP=o},349700:function(e,t,n){"use strict";n.d(t,{Wc:function(){return c},bF:function(){return u},nk:function(){return a},r7:function(){return d}});var r=n(76911),s=n(515198);function i(e,t,n){return e.split(n).map(function(e){if(e.match(n)){var r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}var o=/(\{\{\s*\w+\s*\}\})/g;function a(e,t){return i(e,t,o)}function c(e,t){return i(e,t,o).join("")}var l=/(\{\s*\w+\s*\})/g;function u(e,t){return i(e,t,l)}var d=function(e){var t=e.text;return Array.isArray(t)?t.map(function(e,t){return(0,s.jsx)(r.Fragment,{children:e},t)}):t}},755742:function(e,t){"use strict";t.Z={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},620707:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if("object"===r(e)&&"object"===r(t)){var n=Object.keys(e),s=Object.keys(t);return n.length===s.length&&n.every(function(n){return e[n]===t[n]})}return e===t}n.d(t,{Ak:function(){return s},_Y:function(){return i},qe:function(){return c},xZ:function(){return a}});var i=function(e,t){return e.length===t.length&&e.every(function(e,n){return s(e,t[n])})},o=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return function(n){var r=[];return function(){for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];var a=this,c=r.find(function(e){return e.context===a&&t(e.args,i)});if(c)return c.result;var l={context:a,args:i,result:n.apply(this,i)};return r.push(l),e&&r.length>e&&r.shift(),l.result}}},c=a(1);a()},394951:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var s,i;s=t,i=n[t],(s=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(s))in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{$A:function(){return o},$k:function(){return c},CP:function(){return I},Cr:function(){return P},EB:function(){return p},H6:function(){return E},MO:function(){return j},N8:function(){return S},Oq:function(){return _},RZ:function(){return x},Te:function(){return C},Vr:function(){return y},WO:function(){return m},Zq:function(){return l},ai:function(){return u},bd:function(){return g},dy:function(){return d},jP:function(){return a},lW:function(){return h},qA:function(){return v},qX:function(){return O},u1:function(){return b},wF:function(){return f},y5:function(){return A}});var o=Object.freeze({IMPRESSION:"IMPRESSION",ENGAGEMENT:"ENGAGEMENT",PIN_CLICK:"PIN_CLICK",CLICKTHROUGH:"CLICKTHROUGH",OUTBOUND_CLICK:"OUTBOUND_CLICK",SAVE:"SAVE",ENGAGEMENT_RATE:"ENGAGEMENT_RATE",PIN_CLICK_RATE:"PIN_CLICK_RATE",OUTBOUND_CLICK_RATE:"OUTBOUND_CLICK_RATE",SAVE_RATE:"SAVE_RATE"}),a=Object.freeze({RANGE_45_49:"45-49",RANGE_45_54:"45-54",RANGE_50_54:"50-54"}),c=Object.freeze({PROFILE_VISIT:"PROFILE_VISIT",USER_FOLLOW:"USER_FOLLOW",OUTBOUND_CLICK:"OUTBOUND_CLICK"}),l=Object.freeze({IMPRESSION:"IMPRESSION",OUTBOUND_CLICK:"OUTBOUND_CLICK",SAVE:"SAVE",VIDEO_MRC_VIEW:"VIDEO_MRC_VIEW",VIDEO_AVG_WATCH_TIME:"VIDEO_AVG_WATCH_TIME",VIDEO_V50_WATCH_TIME:"VIDEO_V50_WATCH_TIME",QUARTILE_95_PERCENT_VIEW:"QUARTILE_95_PERCENT_VIEW",VIDEO_10S_VIEW:"VIDEO_10S_VIEW"}),u=Object.freeze({TOTAL_AUDIENCE:"TOTAL_AUDIENCE",ENGAGERS:"ENGAGERS"}),d=[l.VIDEO_MRC_VIEW,l.VIDEO_V50_WATCH_TIME],_=Object.freeze({contentType:"contentType",deviceType:"deviceType",sourceType:"sourceType"}),f=Object.freeze({ORGANIC:"organic",PAID:"paid",ALL:"all"}),m=Object.freeze({MOBILE:"mobile",TABLET:"tablet",WEB:"web",ALL:"all"}),p=Object.freeze({ALL:"all",PROFILE:"profile",NON_PROFILE:"nonProfile"}),h=new Date(Date.UTC(2021,0,21));Date.UTC(2021,0,20),Date.UTC(2021,2,8);var b=Object.freeze({red:"#E60023",white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#111111",green:"#0FA573",pine:"#005f3e",olive:"#364A4C",blue:"#0074e8",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"}),y=Object.freeze({primary:"var(--color-data-visualization-01)",secondary:"var(--color-data-visualization-02)"}),v=Object.freeze(i(i({},b),y));Object.freeze({error:"#cc0000",success:"#005f3e",default:"#111111",subtle:"#767676"});var g=Object.freeze({PROCESSING:"PROCESSING",READY:"READY",NO_REALTIME:"NO_REALTIME",BEFORE_BUSINESS_CREATED:"BEFORE_BUSINESS_CREATED",BEFORE_DATA_RETENTION_PERIOD:"BEFORE_DATA_RETENTION_PERIOD",BEFORE_METRIC_START_DATE:"BEFORE_METRIC_START_DATE",BEFORE_CORE_METRIC_START_DATE:"BEFORE_CORE_METRIC_START_DATE",BEFORE_PIN_FORMAT_METRIC_START_DATE:"BEFORE_PIN_FORMAT_METRIC_START_DATE",BEFORE_AUDIENCE_METRIC_START_DATE:"BEFORE_AUDIENCE_METRIC_START_DATE",BEFORE_AUDIENCE_MONTHLY_METRIC_START_DATE:"BEFORE_AUDIENCE_MONTHLY_METRIC_START_DATE",BEFORE_VIDEO_METRIC_START_DATE:"BEFORE_VIDEO_METRIC_START_DATE",BEFORE_CONVERSION_METRIC_START_DATE:"BEFORE_CONVERSION_METRIC_START_DATE",BEFORE_PUBLISHED_METRIC_START_DATE:"BEFORE_PUBLISHED_METRIC_START_DATE",BEFORE_ASSIST_METRIC_START_DATE:"BEFORE_ASSIST_METRIC_START_DATE",BEFORE_DEMOGRAPHIC_FILTERS_START_DATE:"BEFORE_DEMOGRAPHIC_FILTERS_START_DATE",PURCHASERS_METRIC_SMALLER_THAN_THRESHOLD:"PURCHASERS_METRIC_SMALLER_THAN_THRESHOLD",IN_BAD_TAG_DATE:"IN_BAD_TAG_DATE",BEFORE_ACCOUNT_CLAIMED:"BEFORE_ACCOUNT_CLAIMED",BEFORE_PIN_CREATED:"BEFORE_PIN_CREATED",ESTIMATE:"ESTIMATE",AUDIENCE_SEGMENT_SMALLER_THAN_THRESHOLD:"AUDIENCE_SEGMENT_SMALLER_THAN_THRESHOLD",AUDIENCE_TOTAL_SMALLER_THAN_THRESHOLD:"AUDIENCE_TOTAL_SMALLER_THAN_THRESHOLD",BEFORE_PRODUCT_GROUP_FILTER_START_DATE:"BEFORE_PRODUCT_GROUP_FILTER_START_DATE",BEFORE_INGESTION_SOURCE_FILTER_START_DATE:"BEFORE_INGESTION_SOURCE_FILTER_START_DATE",BEFORE_PIN_VIDEO_STATS:"BEFORE_PIN_VIDEO_STATS"}),A=[o.IMPRESSION,o.PIN_CLICK,o.SAVE,o.OUTBOUND_CLICK,c.PROFILE_VISIT,c.USER_FOLLOW],S=[l.VIDEO_MRC_VIEW,l.VIDEO_10S_VIEW,l.QUARTILE_95_PERCENT_VIEW,l.VIDEO_AVG_WATCH_TIME,l.VIDEO_V50_WATCH_TIME],x=Object.freeze({SOURCE:"SOURCE",CONTENT:"CONTENT_TYPE",DEVICE:"APP_TYPE",OWNED_CONTENT:"OWNED_CONTENT",PIN_FORMAT:"PIN_FORMAT",CONVERSION_TYPE:"CONVERSION_TYPE",ATTRIBUTION_EVENT:"ATTRIBUTION_EVENT",GENDER:"GENDER",AGE:"AGE",NO_SPLIT:"NO_SPLIT"}),E=["midnight"],P=["orange","orchid","green","watermelon","blue","purple","pine","maroon"],I={impression:"impression",pin_click:"pin_click",save:"save",outbound_click:"outbound_click",profile_visit:"profile_visit",user_follow:"user_follow",video_views:"video_views",video_average_time:"video_average_time",video_total_time:"video_total_time",video_p95_views:"video_p95_views",video_10s_views:"video_10s_views"},j=Object.freeze({last24h:"last24h",last7d:"last7d",last14d:"last14d",last21d:"last21d",last30d:"last30d",last60d:"last60d",last90d:"last90d",last180d:"last180d",lifetime:"lifetime",custom:"custom"}),O=Object.freeze({GMV:"GMV",GMV_ADVERTISER_CURRENCY:"GMV_ADVERTISER_CURRENCY",TOTAL_PURCHASES:"TOTAL_PURCHASES",AVG_ORDER_VALUE:"AVG_ORDER_VALUE",UNIQUE_PURCHASERS:"UNIQUE_PURCHASERS",PAGE_VISIT:"PAGE_VISIT",ADD_TO_CART:"ADD_TO_CART",IMPRESSION:"IMPRESSION",CLICKTHROUGH:"CLICKTHROUGH",SAVE:"SAVE",ENGAGEMENT:"ENGAGEMENT",PAGE_VISITORS:"PAGE_VISITORS",ADD_TO_CARTERS:"ADD_TO_CARTERS",PIN_CLICK:"PIN_CLICK"}),C=[j.last24h]},773285:function(e,t,n){"use strict";n.d(t,{F:function(){return i},a:function(){return s}});var r=(0,n(425288).Z)("ExperimentContext"),s=r.Provider,i=r.useHook},780280:function(e,t,n){"use strict";n.d(t,{B:function(){return p},LC:function(){return f},P2:function(){return _},fH:function(){return m},gf:function(){return h}});var r=n(76911),s=n(620707),i=n(608832),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.createContext)();function _(e){var t,n=e.children,a=e.initialValue,c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=c[0],f=c[1],m=(0,r.useMemo)(function(){return{requestContext:_,updateRequestContext:function(e){var t=l(l({},_),e);(0,s.Ak)(_,e)||f(t),(0,i.J)(t)}}},[_]);return(0,o.jsx)(d.Provider,{value:m,children:n})}var f=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)},m=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)};function p(){var e=(0,r.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function h(){var e=(0,r.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,n){"use strict";var r;function s(e){r=e}function i(){return r}n.d(t,{J:function(){return s},l:function(){return i}})},985913:function(e,t,n){"use strict";var r=n(858142),s=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,r.Z)(s,e,t)}},858791:function(e,t){"use strict";t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},858142:function(e,t){"use strict";t.Z=function(e,t,n){return t?t.replace(e,function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""}):""}},66699:function(e,t,n){"use strict";var r=n(985913),s=n(858791);t.Z=function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]?(0,s.Z)(t[e].toString()):""}),(0,r.Z)(e,n)}},149230:function(e,t,n){"use strict";var r=n(954931);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,r.Z)(t))}},50286:function(e,t,n){"use strict";n.d(t,{HG:function(){return d},Kf:function(){return o},Mq:function(){return s},Wb:function(){return u},dA:function(){return a},ds:function(){return c},ml:function(){return l}});var r=n(780280);function s(e){var t=e.userAgent,n=t.isMobile;return t.isTablet?"tablet":n?"phone":"desktop"}var i=function(){return s((0,r.B)())},o=function(e){return"phone"===e},a=function(e){return"tablet"===e},c=function(e){return"desktop"===e},l=function(){return o(i())},u=function(){return a(i())},d=function(){return c(i())};t.ZP=i},829407:function(e,t,n){"use strict";var r=n(76911);t.Z=function(e){(0,r.useEffect)(e,[])}},19121:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var r=(0,n(425288).Z)("viewer"),s=r.Provider,i=r.useHook;t.Z=i},121326:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(76911),s=n(908390),i=n(898781),o=n(773285),a=n(515198),c=function(){var e=(0,i.ZP)(),t=(0,o.F)().checkExperiment,n=t("web_m10n_business_access_orbac_www").anyEnabled,r=t("web_m10n_business_access_orbac_ga").anyEnabled;return n||r?r?(0,a.jsx)(s.Ct,{position:"middle",text:e._('New', '[m10n]bizAccess.profiles.titleBadge.new', 'badge to signify that this is a new feature')}):(0,a.jsx)(s.Ct,{position:"middle",text:e._('Beta', '[m10n]bizAccess.profiles.titleBadge.beta', 'badge to signify that this is an beta feature')}):null},l=n(898708);function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=["NO_ACCESS","ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],f=["PROFILE_PUBLISHER"],m=function(e){var t=e.role,n=e.selected,r=e.disabled,u=e.onToggle,d=e.isAoaaAssignmentModal,_=(0,i.ZP)(),f=(0,o.F)().checkExperiment,m=f("web_m10n_business_access_orbac_ga").anyEnabled,p=f("web_m10n_business_manager_ui_improvements").anyEnabled,h="ADMIN"===t&&void 0!==d&&d;return(0,a.jsxs)(s.xu,{children:[h&&(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{size:"200",color:"subtle",children:_._('Full access', '[m10n]bizAccess.aoaaPermissionAssignment.accessPicker.admin.subheader', 'Text that shows the type of access admins are granted')})}),(0,a.jsxs)(s.kC,{alignItems:"start",justifyContent:"start",children:[(0,a.jsx)(s.xu,{"data-test-id":"role-selector-".concat(t),children:m?(0,a.jsx)(s.XZ,{id:t,checked:n,onChange:function(){u(t)},disabled:r}):(0,a.jsx)(s.rs,{switched:n,id:t,onChange:function(){u(t)},disabled:r})}),(0,a.jsxs)(s.xu,{paddingX:2,children:[(0,a.jsx)(s.__,{htmlFor:t,children:(0,a.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,a.jsx)(s.xv,{weight:"bold",children:(0,l.e6)(_,p)(t)}),"PROFILE_PUBLISHER"===t&&(0,a.jsx)(c,{})]})}),(0,a.jsx)(s.xu,{marginTop:1,children:(0,a.jsx)(s.xv,{size:"200",children:(0,l.To)(_)(t)})})]})]}),h&&(0,a.jsx)(s.xu,{marginTop:4,marginBottom:4,children:(0,a.jsx)(s.xv,{size:"200",color:"subtle",children:_._('Partial access', '[m10n]bizAccess.aoaaPermissionAssignment.accessPicker.otherRoles.subheader', 'Text that shows the type of access other non-admin roles are granted')})})]})},p=function(e){var t,n=e.assignableRoles,i=e.initialRoles,o=e.onChange,c=e.isAoaaAssignmentModal,l=void 0!==c&&c,p=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(i))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||u(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],b=p[1],y=h.includes("ADMIN"),v=h.includes("NO_ACCESS"),g=n.includes("NO_ACCESS")?_:_.slice(1),A=n.includes("ADMIN")?g:_.filter(function(e){return n.includes(e)});return n.includes("PROFILE_PUBLISHER")&&(A=f.filter(function(e){return n.includes(e)})),(0,a.jsx)(r.Fragment,{children:A.map(function(e){return(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(m,{role:e,selected:y&&"NO_ACCESS"!==e||h.includes(e),disabled:y&&"ADMIN"!==e&&"NO_ACCESS"!==e||v&&"NO_ACCESS"!==e,onToggle:function(){var t;b(t="ADMIN"===e?y?[]:n.filter(function(e){return"NO_ACCESS"!==e}):"NO_ACCESS"===e?v?[]:["NO_ACCESS"]:h.includes(e)?h.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return d(e)}(h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||u(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e])),o(t)},isAoaaAssignmentModal:l})},e)})})}},677303:function(e,t,n){"use strict";n.d(t,{jX:function(){return j},zu:function(){return I}});var r=n(76911),s=n(599689),i=n(407043),o=n(319915),a=n(773285),c=n(200089),l=n(322777),u=n(789165),d=n(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=b(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function y(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function g(e){var t=x();return function(){var n,r=P(e);if(t){var s=P(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function A(e){var t="function"==typeof Map?new Map:void 0;return(A=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,e)})(e)}function S(e,t,n){return(S=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&E(s,n.prototype),s}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){v(n,e);var t=g(n);function n(e,r){var s;return y(this,n),(s=t.call(this,e)).modalTitle=r,s}return h(n)}(A(Error)),j=function(e){v(n,e);var t=g(n);function n(e,r){var s;return y(this,n),(s=t.call(this,e)).sheetTitle=r,s}return h(n)}(A(Error)),O=function(e){var t=e.name,n=e.pageType,o=e.info,_=e.error,f=e.errorType,m=(0,i.v)().logContextEvent,p=(0,s.useRouteMatch)().params.userBizId;if((0,r.useEffect)(function(){m({event_type:8961,component:(0,u.Z)(n),aux_data:{business_id:p,error_class:t.slice(0,64),error_message:JSON.stringify({message:_?_.message:"No message",stack:o?o.componentStack:"No stack trace"}).slice(0,4096)}})},[]),(0,(0,a.F)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled)switch(f){case"FULL_PAGE":return(0,d.jsx)(l.yM,{errorCodes:[c.Z.FULL_PAGE_ERROR]});case"PARTIAL":return(0,d.jsx)(l.Di,{errorCodes:[c.Z.META_DATA_ERROR]});case"MODAL":return(0,d.jsx)(l.Ym,{errorCodes:[c.Z.META_DATA_ERROR],error:_});case"SHEET":return(0,d.jsx)(l.DI,{errorCodes:[c.Z.SHEET_DATA_ERROR],error:_});case"SIDEBAR":return(0,d.jsx)(l.h2,{errorCodes:[c.Z.SIDEBAR_DATA_ERROR]});case"TABLE":return(0,d.jsx)(l.zi,{errorCodes:[c.Z.TABLE_DATA_ERROR]})}return null};t.ZP=function(e){var t=e.name,n=e.pageType,s=e.children,i=e.errorType,a=void 0===i?null:i;return(0,d.jsx)(o.Z,{name:t,renderErrorState:function(e){return(0,d.jsx)(O,m(m({},e),{},{name:t,pageType:n,errorType:a}))},children:s||(0,d.jsx)(r.Fragment,{})})}},924593:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(908390),s=n(898781),i=n(773285),o=n(515198),a=72;t.Z=function(){var e=(0,s.ZP)(),t=(0,i.F)().checkExperiment,n={dangerouslySkipActivation:!0},c=[t("web_m10n_business_access_asset_groups",n).anyEnabled,t("web_m10n_business_hierarchy_alpha",n).anyEnabled,t("web_m10n_business_access_business_reporting",n).anyEnabled,t("ads_billing_invoice_management_ui",n).anyEnabled,t("web_m10n_audience_sharing_alpha",n).anyEnabled].includes(!0),l=[t("web_m10n_business_access_asset_groups_ga",n).anyEnabled,t("web_m10n_business_hierarchy_beta",n).anyEnabled,t("web_m10n_business_access_business_reporting_beta",n).anyEnabled,t("aid_exp_global_account_switcher_beta",n).anyEnabled,t("ads_billing_invoice_management_beta",n).anyEnabled,"enabled_beta"===t("aid_exp_audience_sharing_ads_manager",n).group].includes(!0),u=[t("web_business_access_business_hierarchy_invite_flow",n).anyEnabled,t("sterling_bo_ga_columns",n).anyEnabled,t("aid_exp_global_account_switcher_ga",n).anyEnabled,t("web_m10n_audience_sharing_ga",n).anyEnabled,t("web_m10n_business_manager_ui_improvements_bm_intro",n).anyEnabled,t("web_m10n_business_manager_ui_improvements",n).anyEnabled].includes(!0);return(0,o.jsx)(r.xu,{height:a,width:"100%",children:(0,o.jsx)(r.xu,{alignItems:"center",borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"1px 0"}},display:"flex",height:a,paddingX:6,position:"fixed",color:"light",width:"100%",zIndex:new r.Ry(10),id:"business-access-header",children:(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",children:(0,o.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(r.X6,{size:"400",accessibilityLevel:1,children:c||l||u?e._('Business Manager', '[m10n]bizAccess.header.title.alpha', 'Business access manager page heading if in alpha experiment'):e._('Business Access', '[m10n]bizAccess.header.title', 'Business access manager page heading')}),c&&!l&&(0,o.jsx)(r.xu,{paddingX:1,children:(0,o.jsx)(r.Ct,{position:"top",text:e._('Alpha', '[m10n]bizAccess.header.titleBadge.alpha', 'Badge to signify that this is an alpha feature')})}),l&&!u&&(0,o.jsx)(r.xu,{paddingX:1,children:(0,o.jsx)(r.Ct,{position:"top",text:e._('Beta', '[m10n]bizAccess.header.titleBadge.beta', 'Badge to signify that this is an beta feature')})})]})})})})}},943930:function(e,t,n){"use strict";n.d(t,{Z:function(){return oh}});var r,s,i,o=n(599689),a=n(62922),c=n(81636),l=n(784450),u=n(19121),d=n(677303),_=n(76911),f=n(506979),m=n(908390),p=n(983617),h=n(505025),b=n(812173),y=n(453933),v=n(326884),g=n(668040),A=n(15099),S=n(407043),x=n(53987),E=n(773285),P=n(924593),I=n(82347),j=n(321545),O=n(539550),C=n(121151),w=n(898781),T=n(349700),z=n(427135),R=n(924551),N=n(273453),D=n(515198);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.id,r=e.name,s=e.owner_user_id,i=e.merchant_id,o=(0,f.useDispatch)(),a=(0,w.ZP)(),c=(0,u.Z)(),l=(0,N.HL)().clearModal,d=function(){l(),o({type:"CLEAR_ERROR"})},p=function(e){if(Array.isArray(e))return e}(t=(0,O.Z)(z.b,!0,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],b=p[2];return(0,D.jsx)(C.ZP,{onDismiss:d,accessibilityModalLabel:a._('Go to ad account modal', '[m10n]bizAccess.adAccount.switcher.modal.accessibilityLabel', 'accessibility label for the modal used to select ad accounts'),heading:a._('Go to ad account', '[m10n]bizAccess.adAccount.switcher.modal.heading', 'heading for the modal used to select ad accounts'),size:"sm",children:(0,D.jsx)(m.xu,{children:b?(0,D.jsx)(m.xu,{paddingY:12,children:(0,D.jsx)(m.$j,{accessibilityLabel:a._('Loading ad account owner info', '[m10n]bizAccess.adAccount.switcher.modal.loading', 'message shown when loading advertiser data'),show:!0})}):(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{justifyContent:"center",display:"flex",paddingY:6,children:(0,D.jsx)(m.qE,{size:"lg",name:(null==h?void 0:h.full_name)||"",src:(null==h?void 0:h.image_medium_url)||""})}),(0,D.jsxs)(m.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,D.jsx)(m.xv,{color:"subtle",weight:"bold",children:(0,T.nk)(a._('{{fullName}} viewing as', '[m10n]bizAccess.adAccount.switcher.viewingAs', 'when viewing a page as a specific advertiser in multi-user state'),{fullName:c.isAuth?c.fullName:""})}),(0,D.jsx)(m.X6,{color:"default",size:"500",children:r}),(0,D.jsx)(m.xv,{color:"subtle",weight:"bold",children:n})]}),!h&&(0,D.jsx)(m.xv,{align:"center",color:"error",weight:"bold",children:a._('Advertiser account has been suspended', '[m10n]bizAccess.adAccount.switcher.account.suspended', 'message shown when user is trying to switch to a suspended ad account')}),(0,D.jsx)(m.xu,{marginTop:4,marginBottom:3,children:(0,D.jsx)(m.iz,{})}),(0,D.jsxs)(m.xu,{"data-test-id":"advertiser-actions",paddingX:6,marginBottom:5,children:[(0,D.jsx)(R.Z,{advertiserId:n,isWwwSite:!0,isOwnerUserSuspended:null===h,merchantId:i,userId:c.isAuth?c.id:"",accountOwnerId:s}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"center",children:(0,D.jsx)(m.zx,{onClick:d,text:a._('Close', '[m10n]bizAccess.adAccount.switcher.modal.close', 'Button label to close ad account switcher modal')})})]})]})})})},B=n(852260),U=n(895409);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(){var e=(0,w.ZP)(),t=(0,N.HL)(),n=t.setRequestAdAccountsGeneralModal,r=t.setCreateAdAccountModal,s=M((0,_.useState)(!0),2),i=s[0],o=s[1],a=M((0,_.useState)(!1),2),c=a[0],l=a[1],u=M((0,_.useState)(!1),2),d=u[0],f=u[1],p={modalAccessibilityLabel:e._('Add ad account modal', '[m10n]bizAccess.addAdAccount.modal.accessibilityLabel', 'accessibility label for the modal used to add an ad account'),modalTitle:e._('Add ad account', '[m10n]bizAccess.addAdAccount.modal.heading', 'heading for the modal used to add an ad account'),addCircleIconAccessibilityLabel:e._('Add circle icon', '[m10n]bizAccess.addAdAccount.modal.addCircleIcon.accessibilityLabel', 'accessibility label for the add circle icon'),sendIconAccessibilityLabel:e._('Send icon', '[m10n]bizAccess.addAdAccount.modal.SendIcon.accessibilityLabel', 'accessibility label for the send icon'),selectedIconAccessibilityLabel:e._('Check circle icon', '[m10n]bizAccess.addAdAccount.modal.checkCircleIcon.accessibilityLabel', 'accessibility label for the check circle icon'),createAdAccount:e._('Create new ad account', '[m10n]bizAccess.addAdAccount.modal.createNewAdAccount', 'text for creating a new ad account'),createAdAccountDescription:e._('Create ad accounts for your business or for a partner', '[m10n]bizAccess.addAdAccount.modal.createNewAdAccount.description', 'description for creating a new ad account'),requestAdAccountAccess:e._('Request ad account access', '[m10n]bizAccess.requestAdAccount.modal.requestAdAccountAccess', 'text for requesting access to an ad account'),requestAdAccountAccessDescription:e._('Request access to ad accounts your partners own', '[m10n]bizAccess.addAdAccount.modal.equestAdAccountAccess.description', 'description for requesting access to an ad account')},h=function(){o(!1),l(!0),f(!1)},b=function(){o(!1),l(!1),f(!0)};return(0,D.jsx)(m.xu,{"data-test-id":"view-business-details-modal",children:(0,D.jsxs)(U.Z,{accessibilityLabel:p.modalAccessibilityLabel,title:p.modalTitle,size:"sm",primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"addAdAccount-next-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:(0,B.L$)(e),onClick:function(){return c?r():n({})},disabled:i})}),children:[(0,D.jsx)(m.xu,{marginBottom:2,marginTop:2,children:(0,D.jsx)(m.iP,{onTap:function(){return h()},dataTestId:"create-account-option",children:(0,D.jsxs)(m.xu,{display:"flex",direction:"row",rounding:2,borderStyle:c?"none":"shadow",dangerouslySetInlineStyle:{__style:{borderColor:c?"var(--color-background-inverse-base)":"transparent",borderStyle:"solid",borderWidth:1}},padding:4,alignItems:"center",children:[(0,D.jsx)(m.xu,{marginEnd:3,children:(0,D.jsx)(m.JO,{color:"default",icon:"add-circle",accessibilityLabel:p.addCircleIconAccessibilityLabel,size:24})}),(0,D.jsxs)(m.kC,{direction:"column",gap:1,width:"100%",children:[(0,D.jsxs)(m.kC,{justifyContent:"between",flex:"grow",width:"100%",children:[(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:p.createAdAccount}),c&&(0,D.jsx)(m.JO,{color:"default",icon:"check-circle",accessibilityLabel:p.selectedIconAccessibilityLabel,size:16})]}),(0,D.jsx)(m.xv,{size:"200",children:p.createAdAccountDescription})]})]})})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.iP,{onTap:function(){return b()},dataTestId:"request-account-access-option",children:(0,D.jsxs)(m.xu,{display:"flex",direction:"row",rounding:2,borderStyle:d?"none":"shadow",dangerouslySetInlineStyle:{__style:{borderColor:d?"var(--color-background-inverse-base)":"transparent",borderStyle:"solid",borderWidth:1}},padding:4,alignItems:"center",children:[(0,D.jsx)(m.xu,{marginEnd:3,children:(0,D.jsx)(m.JO,{color:"default",icon:"send",accessibilityLabel:p.sendIconAccessibilityLabel,size:24})}),(0,D.jsxs)(m.kC,{direction:"column",gap:1,width:"100%",children:[(0,D.jsxs)(m.kC,{justifyContent:"between",flex:"grow",width:"100%",children:[(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:p.requestAdAccountAccess}),d&&(0,D.jsx)(m.JO,{color:"default",icon:"check-circle",accessibilityLabel:p.selectedIconAccessibilityLabel,size:16})]}),(0,D.jsx)(m.xv,{size:"200",children:p.requestAdAccountAccessDescription})]})]})})})]})})},G=n(499128),F=n(343341),q=n(213697),Y=n(611711),V=n(912997),Q=n(812965),W=n(494568),J=function(e){var t=e.selectedIds,n=e.onSelectChange,r=e.disableFilter;return{field:"id",headerName:"",minWidth:24,width:24,TableCellComponent:function(e){var s,i=e.data;return(0,D.jsx)(m.xu,{"data-test-id":"checkbox-asset-group-".concat(i.asset_id||i.id),children:(0,D.jsx)(m.XZ,{disabled:r&&r(i.owner.id,null===(s=i.client_business)||void 0===s?void 0:s.id),id:i.asset_id,onChange:function(){return n(i.asset_id||i.id)},checked:t.includes(i.asset_id||i.id)})})},justifying:"center"}},K=n(155944),X=n(328930),$=n(456268),ee=n(989721),et=n(479267),en=n(582618),er=n(736126),es=n(888224),ei=n(299466),eo=n(347174),ea=n(619357),ec=n(392499),el=n(809173),eu=n(180889),ed=n(230412);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){ep(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ep(e,t,n){var r;return(r=function(e,t){if("object"!==e_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===e_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function eb(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){eh(i,r,s,o,a,"next",e)}function a(e){eh(i,r,s,o,a,"throw",e)}o(void 0)})}}function ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eg=function(e){var t,n=e.assetOrMemberType,r=(0,w.ZP)(),s=(0,N.KJ)(),i=ey((0,_.useState)(""),2),o=i[0],a=i[1],c=(0,f.useDispatch)();switch(n){case"AD_ACCOUNT":t={onSearch:function(){c((0,ee.cE)({businessId:s,searchBy:/\d{12}/.test(o)?"id":"name",searchTerm:o,includeAssetSummary:!0}))},accessibilityLabel:r._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching ad accounts by ID or name'),placeholder:r._('Search ad accounts', '[m10n]bizAccess.assetGroup.add.search.placeholder', 'Search box prompt to allow searching ad accounts by ID or name')};break;case"PROFILE":t={onSearch:function(){c((0,es.A9)({businessId:s,searchBy:/\d{12}/.test(o)?"id":"name",searchTerm:o}))},accessibilityLabel:r._('Search profiles', '[m10n]bizAccess.profile.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching profiles by ID or name'),placeholder:r._('Search profiles', '[m10n]bizAccess.profile.add.search.placeholder', 'Search box prompt to allow searching profiles by ID or name')};break;case"PEOPLE":t={onSearch:function(){c((0,er.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:o,businessId:s,limit:v.w2}))},accessibilityLabel:r._('Search employees', '[m10n]bizAccess.assetGroup.employee.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching employee by name, username or email'),placeholder:r._('Employee name, username or email', '[m10n]bizAccess.assetGroup.employee.search.placeholder', 'Search box prompt to allow searching employee name, username or email')};break;case"PARTNER":t={onSearch:function(){c((0,en.Eg)({businessId:s,searchBy:["FULL_NAME","USERNAME","BUSINESS_ID"],sortBy:"FULL_NAME",searchTerm:o,partnerType:"INTERNAL",inEmployeeApiMigration:!0}))},accessibilityLabel:r._('Search partners', '[m10n]bizAccess.partner.add.search.accessibilityLabel', 'Accessibility label for search box that prompts to allow searching partners by ID or name'),placeholder:r._('Search partners', '[m10n]bizAccess.partner.add.search.placeholder', 'Search box prompt to allow searching partner by name, username, or business ID')};break;default:t={onSearch:function(){},accessibilityLabel:"",placeholder:""}}return(0,Y.Z)(t.onSearch,V.I.debounceTimeOut,[o]),(0,D.jsx)(m.xu,{"data-test-id":"search-for-asset-to-add",children:(0,D.jsx)(m.Um,{accessibilityLabel:t.accessibilityLabel,id:"bizAdAccountSearch",onChange:function(e){a(e.value)},placeholder:t.placeholder,size:"lg",value:o})})},eA=function(e,t,n,r,s,i,o,a,c,l,u,d,_,f,m,p,h){var b=function(e){var t=c.findIndex(function(t){return t===e});t>=0?u(c.slice(0,t).concat(c.slice(t+1))):u(c.concat([e]))},y=(0,(0,E.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,g=function(t){var n={12:e._('The number of assets within asset group would exceed the upper limit 20 for this business', '[m10n].bizAccess.addAssetError.message', 'message in error toast to show error occured because they would exceed the limit')},s=t&&t in n&&n[t.toString()];r(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,type:"error",onHide:n,text:s||(0,B.sQ)(e)})})};switch(o){case"AD_ACCOUNT":return{modalTitle:e._('Add ad accounts', '[m10].bizAccess.assetGroupsAddAssetOrUser.modalTitle', 'title of modal for adding ad account to asset group'),getData:function(){n((0,ee.cE)({businessId:t,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:"name",searchTerm:"",limit:y?v.xX:v.cU,includeAssetSummary:!0}))},selectIsLoading:eo.wk,selectAlreadyAdded:ea.ou,onSortChange:function(e,r){n((0,ee.cE)({businessId:t,sortBy:e,sortDirection:r,includeAssetSummary:!0}))},headerSubText:e._('You can add or remove ad accounts any time, and you can add them to multiple asset groups. After adding, everyone with permissions for this asset group will also have them for the ad account. To view or change permissions for employees or partners, go to the members tab.', '[m10].bizAccess.assetGroupsAddAssetOrUser.headerSubText', 'information telling user to select which ad accounts to add to asset group. They can add or remove ad accounts any time, or assign one ad account to multiple asset groups'),columnDefs:[J({selectedIds:c,onSelectChange:b,disableFilter:h?function(e,n){return e!==t||!!n}:void 0}),(0,Q.Z)(e,{headerName:e._('Ad account name', '[m10].bizAccess.assetGroup.adAccount, header for ad account column', 'Header of ad account name column in table'),clickable:!1}),(0,W.Z)(e)],onSubmit:function(){eb(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,ei.Ct)({assetGroupId:a.id,assetsToAdd:c,businessId:t,businessHierarchyNodeId:l});case 3:n((0,et.NQ)({businessId:t,resourceType:"AD_ACCOUNT"},{assetsToAdd:c})),r(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(e.ngettext('{{numAdAccounts}} ad account has been successfully added to {{assetGroupName}}', '{{numAdAccounts}} ad accounts have been successfully added to {{assetGroupName}}', c.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding ad accounts to asset groups numAdAccounts: number of ad accounts user is adding, assetGroupName: name of asset group'),{numAdAccounts:c.length,assetGroupName:a.name}).join("")})}),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),g(i.t0.api_error_code);case 10:s();case 11:case"end":return i.stop()}},i,null,[[0,7]])}))()}};case"PEOPLE":return{modalTitle:e._('Add employees', '[m10].bizAccess.assetGroupsAddAssetOrUser.employees.modalTitle', 'title of modal for adding employees to asset group'),getData:function(){n((0,er.JC)({searchBy:["FULL_NAME","EMAIL","USERNAME"],sortBy:"FULL_NAME",searchTerm:"",businessId:t,limit:v.w2}))},selectIsLoading:el.gB,onSortChange:function(e,r){n((0,er.JC)({sortBy:e,sortDirection:r,businessId:t,limit:v.w2}))},headerSubText:(0,T.nk)(e._('The selected default permissions will be applied to all employees added to {{assetGroupName}}. If an employee has access to an individual asset within the asset group, they will retain the highest permissions applicable.', '[m10].bizAccess.assetGroupsAddAssetOrUser.employees.headerSubText', 'information telling user to select which employees to add to asset group. They can add or remove employees at a later time, or assign one employee to multiple asset groups, assetGroupName: name of asset group'),{assetGroupName:a.name}).join(""),columnDefs:0===d?[J({selectedIds:c,onSelectChange:b}),(0,K.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,$.Z)(e,{field:"business_roles"})]:[(0,K.Z)(e,{headerName:e._('Employee name', '[m10].bizAccess.assetGroup.employee, header for employee column', 'Header of employee name column in table'),type:"PEOPLE",clickable:!1}),(0,$.Z)(e,{field:"business_roles"}),(0,X.Z)(e,function(e,t){m(em(em({},f),{},ep({},e,t)))},f,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0,e._('Ad account permissions', '[m10n]bizAccess.business.assetGroup.employee.permission', 'employee permission'))],onSubmit:function(){0===d?_(1):eb(regeneratorRuntime.mark(function e(){var r,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=i.filter(function(e){return c.includes(e.id)&&f[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:f[e.id]}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,ei.AY)({businessId:t,assetGroupId:a.id,employeeId:e.id,permissions:e.permissions,businessHierarchyNodeId:l})}));case 5:u=e.sent,d=r.filter(function(e,t){return"fulfilled"===u[t].status}),u.filter(function(e){return"rejected"===e.status}).length>0&&g(),s(),d.length>0&&(p({employeeOrPartnerPermissions:d,assetOrMemberType:o}),n((0,et.dQ)({businessId:t},{userType:"PEOPLE"}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()},selectAlreadyAdded:ea.x9};case"PROFILE":return{modalTitle:e._('Add profiles', '[m10].bizAccess.assetGroupsAddProfile.modalTitle', 'title of modal for adding profiles to asset group'),getData:function(){n((0,es.A9)({businessId:t,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:"name",searchTerm:"",limit:v.cU}))},selectIsLoading:eu.JQ,selectAlreadyAdded:ea.Gw,onSortChange:function(e,r){n((0,es.A9)({businessId:t,sortBy:e,sortDirection:r}))},headerSubText:e._('Select which profiles you would like to include in this asset group. You can always add or remove profiles at a later time. Profiles can be added to multiple asset groups.', '[m10].bizAccess.assetGroupsAddProfiles.headerSubText', 'information telling user to select which profiless to add to asset group. They can add or remove profiles at a later time, or assign one profile to multiple asset groups'),columnDefs:[J({selectedIds:c,onSelectChange:b,disableFilter:h?function(e){return e!==t}:void 0}),(0,Q.Z)(e,{headerName:e._('Profile name', '[m10].bizAccess.assetGroup.profile, header for profile column', 'Header of profile name column in table'),clickable:!1,hidesAvatar:!1}),(0,W.Z)(e)],onSubmit:function(){eb(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,ei.Ct)({assetGroupId:a.id,assetsToAdd:c,businessId:t,businessHierarchyNodeId:l});case 3:n((0,et.NQ)({businessId:t,resourceType:"PROFILE"},{assetsToAdd:c})),r(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(e.ngettext('{{numProfiles}} profile has been successfully added to {{assetGroupName}}', '{{numProfiles}} profiles have been successfully added to {{assetGroupName}}', c.length, '[m10n]bizAccess.assetGroup.adAdAccount.success', 'Toast message for successfully adding profiles to asset groups numProfiles: number of profiles user is adding, assetGroupName: name of asset group'),{numProfiles:c.length,assetGroupName:a.name}).join("")})}),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),g(i.t0.api_error_code);case 10:s();case 11:case"end":return i.stop()}},i,null,[[0,7]])}))()}};case"PARTNER":return{modalTitle:e._('Add partners', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.modalTitle', 'title of modal for adding partner to asset group'),getData:function(){n((0,en.Eg)({businessId:t,sortBy:"full_name",sortDirection:v.IR.ASCENDING,searchBy:"FULL_NAME",searchTerm:"",limit:v.xX,partnerType:"INTERNAL",inEmployeeApiMigration:!0}))},selectIsLoading:ec._1,selectAlreadyAdded:ea.G$,onSortChange:function(e,r){n((0,en.Eg)({businessId:t,sortBy:e,sortDirection:r,partnerType:"INTERNAL",inEmployeeApiMigration:!0}))},headerSubText:(0,T.nk)(e._('The selected default permissions will be applied to all partners added to {{assetGroupName}}. If a partner has individual access to a specific asset within the asset group, they will retain the highest permissions applicable.', '[m10].bizAccess.assetGroupsAddAssetOrUserPartner.headerSubText', 'Sub header text to inform user that the partners they select can be given permissions on individual assets in the asset group, and they will retain the highest applicable permission assetGroupName: name of asset group'),{assetGroupName:a.name}).join(""),columnDefs:0===d?[J({selectedIds:c,onSelectChange:b}),(0,K.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1})]:[(0,K.Z)(e,{headerName:e._('Partner name', '[m10].bizAccess.assetGroup.partner, header for partner column', 'Header of partner name column in table'),type:"PARTNER",clickable:!1}),(0,X.Z)(e,function(e,t){m(em(em({},f),{},ep({},e,t)))},f,"ASSET_GROUPS",{},void 0,void 0,void 0,void 0,void 0,!0,!0)],onSubmit:function(){0===d?_(1):eb(regeneratorRuntime.mark(function e(){var r,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=i.filter(function(e){return c.includes(e.id)&&f[e.id].length>0}).map(function(e){return{id:e.id,user:e.user,permissions:f[e.id]}}),e.next=5,Promise.allSettled(r.filter(function(e){return e.permissions.length>0}).map(function(e){return(0,ei.i8)({businessId:t,assetGroupId:a.id,partnerId:e.id,permissions:e.permissions,businessHierarchyNodeId:l})}));case 5:u=e.sent,d=r.filter(function(e,t){return"fulfilled"===u[t].status}),u.filter(function(e){return"rejected"===e.status}).length>0&&g(),s(),d.length>0&&(p({employeeOrPartnerPermissions:d,assetOrMemberType:o}),n((0,et.dQ)({businessId:t},{userType:"PARTNER"}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g();case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}};default:return{modalTitle:"",headerSubText:"",getData:function(){},onSortChange:function(){},selectIsLoading:function(){return!1},selectAlreadyAdded:function(){return[]},columnDefs:[],onSubmit:function(){}}}};function eS(e){var t=e.assetOrMemberType,n=e.step,r=(0,w.ZP)(),s="PEOPLE"===t?r._('Employees', '[m10n].bizAccess.assetGroupAddAsset.employees.progressIndicator', 'Text for add employees to ad accounts modal progress bar'):r._('Partners', '[m10n].bizAccess.assetGroupAddAsset.partners.progressIndicator', 'Text for add partners to ad accounts modal progress bar'),i=0===n?"subtle":"default",o=r._('Permissions', '[m10n].bizAccess.assetGroupAddAsset.permissions.progressIndicator', 'Text for add people to ad accounts modal progress bar');return(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"center",width:"100%",gap:3,children:[(0,D.jsxs)(m.kC,{gap:2,alignItems:"center",justifyContent:"start",children:[(0,D.jsx)(m.JO,{icon:0===n?"workflow-status-in-progress":"check-circle",accessibilityLabel:r._('Label for icon for adding employees information banner', '[m10n].bizAccess.assetGroupAddAsset.employees.progressIndicator.icon', 'Accessibility text for icon for banner showing constraints on asset group permissions granted to employees'),color:0===n?"default":"success"}),(0,D.jsx)(m.xv,{align:"center",color:"default",weight:"bold",children:s})]}),(0,D.jsx)(m.kC.Item,{flex:"grow",children:(0,D.jsx)("hr",{style:{height:"2px",border:"none",backgroundColor:"#111111"}})}),(0,D.jsxs)(m.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,D.jsx)(m.JO,{icon:0===n?"workflow-status-unstarted":"workflow-status-in-progress",accessibilityLabel:r._('Label for icon for adding partners information banner', '[m10n].bizAccess.assetGroupAddAsset.partners.progressIndicator.icon', 'Accessibility text for icon for banner showing constraints on asset group permissions granted to partners'),color:i}),(0,D.jsx)(m.xv,{align:"end",color:i,weight:"bold",children:o})]})]})})}var ex=function(e){var t,n,r=e.assetOrMemberType,s=e.assetGroupInfo,i=(0,w.ZP)(),o=s.id,a=(0,N.KJ)(),c=(0,(0,E.F)().checkExperiment)("web_m10n_business_access_asset_groups_ga").anyEnabled,l=ey((0,_.useState)(0),2),u=l[0],d=l[1],p=(0,f.useDispatch)(),h=(0,F.F9)().showToast,b=(0,N.HL)(),g=b.clearModal,A=b.setAddUserToAssetGroupConfirmation,S=(0,(0,y.C)().getParentHierarchyForIdIfExists)(a),x=null==S?void 0:S.id,P=(0,q.Z)().containsSharedPartner,I=((0,f.useSelector)(ea.ou)||[]).length>0;switch(r){case"AD_ACCOUNT":n=ed.Xj;break;case"PROFILE":n=ed.ZD;break;case"PEOPLE":n=ed.Aj;break;case"PARTNER":n=ed.im;break;default:n=function(){return[]}}var j=(0,f.useSelector)(n),O=ey((0,_.useState)([]),2),C=O[0],T=O[1],z=ey((0,_.useState)({}),2),R=z[0],k=eA(i,a,p,h,g,j,r,s,C,x,T,u,d,R,z[1],A,P),L=k.getData,M=k.selectIsLoading,H=k.selectAlreadyAdded,Z=k.onSortChange,G=k.modalTitle,Y=k.headerSubText,Q=k.columnDefs,W=k.onSubmit;(0,_.useEffect)(function(){L(),("PEOPLE"===r||"PARTNER"===r)&&p((0,et.dQ)({businessId:a,limit:v.xX},{userType:r,updateDataOnly:!0}))},[a]);var J=(0,f.useSelector)(M),K=(0,f.useSelector)(H),X=j.filter(function(e){return"PEOPLE"===r||"PARTNER"===r?0===u&&Array.isArray(K)&&!K.some(function(t){return t.id&&t.id===e.id})||C.includes(e.id):"PROFILE"!==r&&"AD_ACCOUNT"!==r||Array.isArray(K)&&!K.some(function(t){return t===e.asset_id})}),$=!(("PEOPLE"===r||"PARTNER"===r)&&1===u)||C.every(function(e){return R[e]&&R[e].length>0}),ee=(0,_.useRef)(null),en=ey((0,_.useState)(0),2),er=en[0],es=en[1];return(0,_.useEffect)(function(){var e;return es((null===(e=ee.current)||void 0===e?void 0:e.offsetHeight)||0)},[null===(t=ee.current)||void 0===t?void 0:t.offsetHeight]),(0,D.jsxs)(U.Z,{accessibilityLabel:i._('modal for adding an ad account, profile, partner, or employee to an asset group', '[m10n].bizAccess.assetGroupAddAsset.modalAccessibilityLabel', 'accessibility label for modal that adds an asset or user to an asset group'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"assetGroup-addition-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:"AD_ACCOUNT"===r||"PROFILE"===r||1===u?(0,B.nI)(i):(0,B.L$)(i),onClick:function(){return W()},disabled:0===C.length||!$})}),title:G,size:"lg",cancelText:(0,B.I9)(i),onDismiss:function(){},children:[["PEOPLE","PARTNER"].includes(r)&&(0,D.jsx)(eS,{step:u,assetOrMemberType:r}),(0,D.jsxs)(m.xu,{height:524,children:[(0,D.jsxs)(m.xu,{ref:ee,children:[(0,D.jsxs)(m.xu,{width:"100%",children:[(0,D.jsx)(m.xu,{display:"flex",paddingY:4,justifyContent:"between",alignItems:"center",children:(0,D.jsx)(m.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:(0,D.jsx)(m.xu,{children:Y&&(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xv,{size:"300",children:Y})})})})}),(0,D.jsxs)(m.xu,{marginBottom:P&&c?4:void 0,children:["PEOPLE"===r&&1===u&&I&&(0,D.jsx)(m.J0,{message:i._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the employee will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees'),iconAccessibilityLabel:i._('Icon for adding employees information banner', '[m10n].bizAccess.assetGroupAddAsset.employees.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to employees'),type:"info"}),"PARTNER"===r&&1===u&&I&&(0,D.jsx)(m.J0,{message:i._('This asset group includes ad accounts with varying permission levels. If you assign permissions that exceed your own permission level, the partner will receive the same permission level as the business owner.', '[m10n].bizAccess.assetGroupAddAsset.employees.banner', 'Banner showing constraints on asset group permissions granted to employees'),iconAccessibilityLabel:i._('Icon for adding partner information banner', '[m10n].bizAccess.assetGroupAddAsset.partners.banner.icon', 'Icon for banner showing constraints on asset group permissions granted to partners'),type:"info"}),"AD_ACCOUNT"===r&&P&&c&&(0,D.jsx)(m.J0,{message:i._('This asset group contains partners. You may only add ad accounts you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners'),iconAccessibilityLabel:i._('Icon for adding ad account when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.adAccountsWithPartner.banner.icon', 'Icon for banner showing constraints for adding ad accounts when they have shared partners'),type:"warning"}),"PROFILE"===r&&P&&c&&(0,D.jsx)(m.J0,{message:i._('This asset group contains partners. You may only add profiles you own to this asset group.', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner', 'Banner showing constraints for adding ad accounts when they have shared partners'),iconAccessibilityLabel:i._('Icon for adding profile when asset group contains partners information banner', '[m10n].bizAccess.assetGroupAddAsset.profilesWithPartner.banner.icon', 'Icon for banner showing constraints for adding profiles when they have shared partners'),type:"warning"})]})]}),(!["PEOPLE","PARTNER"].includes(r)||0===u)&&(0,D.jsx)(m.xu,{marginTop:0,marginBottom:4,children:(0,D.jsx)(eg,{assetOrMemberType:r})}),"PROFILE"===r&&(0,D.jsx)(m.J0,{message:i._('Profiles selected below will be granted Publisher permissions to all employees and partners added to this asset group', '[m10n].bizAccess.assetGroupAddAsset.profileModalDescription.banner', 'Banner describing how profile permissions in asset groups work'),iconAccessibilityLabel:i._('Icon for describing how profile permissions in asset groups work when adding a profile', '[m10n].bizAccess.assetGroupAddAsset.profilesDescription.banner.icon', 'Icon for banner showing how profile permissions in asset groups work'),type:"info"})]}),(0,D.jsx)(m.xu,{height:524-er-24,overflow:"scrollY",children:(0,D.jsx)(V.Z,{pageType:v.Q6.ASSET_GROUPS,id:o,isLoading:J,rowData:X,columnDefs:Q,onRowCountChange:function(){},onSortChange:Z})})]})]})},eE=n(66699),eP=n(755742),eI=n(251230);function ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||eC(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e){return function(e){if(Array.isArray(e))return ew(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eC(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){if(e){if("string"==typeof e)return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eT=function(e){return e.reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.includes(t)?e:[].concat(eO(e),[t])},[])},ez=function(e){var t=e.peopleIdentifiers,n=e.errorMessage,r=e.setPeopleIdentifiers,s=e.errorMap,i=e.placeholderText,a=e.helperText,c=e.useRedStyle,l=e.hideErrorMapText,u=e.getErrorMessageByErrorCode,d=e.setResolvedErrors,f=e.messageToDisplay,p=(0,w.ZP)(),h=(0,N.KJ)(),b=(0,N.MC)(),y=(null==b?void 0:b.user.full_name)||"",v=(0,o.useLocation)(),A=(0,x.dK)(v),S=ej((0,_.useState)(""),2),P=S[0],I=S[1],j=ej((0,_.useState)([]),2),O=j[0],C=j[1],z=ej((0,_.useState)({}),2),R=z[0],k=z[1],L=(0,_.useRef)(null),U=(0,(0,E.F)().checkExperiment)("holiday_2023_business_manager_error_messages_updates").anyEnabled;(0,_.useEffect)(function(){k(s?Object.entries(s).reduce(function(e,t){var n=ej(t,2),r=n[0],s=n[1];return Array.isArray(s)?s.reduce(function(e,t){return"string"==typeof t&&(e[t]=parseInt(r,10)),e},e):e},{}):Object.freeze({}))},[s]);var M=(0,_.useCallback)(function(e,t){var n=t.join((0,B.bH)(p));switch(e){case 90:return(0,eE.Z)(p.ngettext('{{ usersList }} is not a valid user.', '{{ usersList }} are not valid users.', t.length, '[m10n]bizAccess.sendInvite.memberError', 'Error message shown when invite input is not a valid email and is not a username corersponding to a user'),{usersList:n});case 2751:return(0,eE.Z)(p.ngettext('{{ usersList }}: You\'ve already added this relationship to your business.', '{{ usersList }}: You\'ve already added these relationships to your business.', t.length, '[m10n]bizAccess.sendInvite.employeeAlreadyExists', 'Error message shown when try adding employee(s) for the second time'),{usersList:n});case 2773:return A?(0,eE.Z)(p._('You\'ve already invited {{ usersList }} to {{ businessName }}. To view your request, visit {{ businessName }}\'s pending employees tab.', '[m10n]bizHierarchy.invite.alreadyExists', 'Error message shown to user when trying to invite a user that already has an invite for business hierarchy. usersList: the name of the invited employee. businessName: the name of the business.'),{usersList:n,businessName:y}):(0,eE.Z)(p._('You\'ve already invited {{ usersList }}. Check your pending invites.', '[m10n]bizAccess.invite.alreadyExists', 'Error message shown to user when trying to invite a user that already has an invite'),{usersList:n});case 2936:return U?(0,T.nk)(p._('{{ personalAccount }} To add them as an employee, they will need to convert it to a business account.', '[m10n]bizAccess.invite.personalAccount.updated', 'Updated error message shown to user when trying to invite a user that has a personal Pinterest account. personalAccount: bolded sentence with specific user.'),{personalAccount:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:(0,eE.Z)(p._('{{ usersList }} is associated with a personal Pinterest account.', '[m10n]bizAccess.invite.personalAccount.boldedSentecne', 'Bolded sentence informing user of personal account. usersList: user ids with this error.'),{usersList:n})})}):(0,T.nk)(p._('{{ usersList }}: make sure you send invites to business accounts. {{ learnMore }}', '[m10n]bizAccess.invite.personalAccount', 'Error message shown to user when trying to invite a user that has a personal Pinterest account'),{usersList:n,learnMore:(0,D.jsx)(m.rU,{display:"inlineBlock",target:"blank",href:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17351",underline:"hover",children:p._('Learn more', '[m10n]bizAccess.invite.manageEmployeesLink', 'Link to Business Access manage employees help page')})});case 4064:return(0,eE.Z)(p.ngettext('You\'ve already added this employee relationship to your business: {{ usersList }}', 'You\'ve already added these employee relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.employeeRelationshipExists', 'Error message shown when try adding employee(s) for the second time'),{usersList:n});case 4065:return(0,eE.Z)(p.ngettext('You\'ve already added this employee relationship to your business: {{ usersList }}', 'You\'ve already added these employee relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.businessAdminRelationshipExists', 'Error message shown when try adding employee(s) who have already been added as a business admin'),{usersList:n});case 4066:return(0,eE.Z)(p.ngettext('You\'ve already added this partner relationship to your business: {{ usersList }}', 'You\'ve already added these partner relationships to your business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.partnerRelationshipExists', 'Error message shown when try adding employee(s) who have already been added as a partner'),{usersList:n});case 2754:return(0,eE.Z)(p.ngettext('Invalid request, please try a different business: {{ usersList }}', 'Invalid request, please try a different business: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.invalidRequest', 'Error message shown when try create an invalid invite or request'),{usersList:n});case 4172:return(0,eE.Z)(p.ngettext('This business account has already added you as an employee: {{ usersList }}', 'This business account has already added you as an employee: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.reverseEmployeeRelationshipExists', 'Error message shown when try to create a reverse relationship with an employer'),{usersList:n});case 4173:return(0,eE.Z)(p.ngettext('This business account has already added you as a partner: {{ usersList }}', 'This business account has already added you as a partner: {{ usersList }}', t.length, '[m10n]bizAccess.sendInvite.reversePartnerRelationshipExists', 'Error message shown when try to create a reverse relationship with an shared partner'),{usersList:n});case 2769:return(0,T.nk)(p._('You\'ve hit the maximum number of pending invites allowed. To send more invites, {{ deleteInvitesLink }}', '[m10n]bizAccess.addPeople.maxInvitesExceededErrorMessage', 'Error message explaining you have exceeded maximum number of pending invites. deleteInvitesLink: Link to delete some pending invites.'),{deleteInvitesLink:(0,D.jsx)(m.rU,{display:"inlineBlock",target:"blank",href:(0,g.Z)("PEOPLE_PENDING_TAB",h),children:p._('delete some of your pending invites', '[m10n]bizAccess.addPeople.maxInvitesExceededErrorMessage.pendingInvitesLink', 'Link to Business Access pending invites page')})});default:return p._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs')}},[h,p,y,A,U]),H=(0,_.useRef)(u);(0,_.useEffect)(function(){l||C(s?Object.entries(s).reduce(function(e,t){var n=ej(t,2),r=n[0],s=n[1];if(Array.isArray(s)){if(U)s.forEach(function(t){var n;e.push((null===(n=H.current)||void 0===n?void 0:n.call(H,parseInt(r,10),[t]))||M(parseInt(r,10),[t]))});else{var i,o=null===(i=H.current)||void 0===i?void 0:i.call(H,parseInt(r,10),s),a=M(parseInt(r,10),s);e.push(o||a)}}return e},[]):[])},[M,H,s,l,U]);var Z=function(e){return e.length>20&&(c||C([(0,D.jsx)(m.xv,{children:a||p._('Add up to 20 emails or usernames at a time', '[m10n]bizAccess.people.invite.more.20.toast', 'message warning that only up to 20 people can be invited at a time')},e.length)]),e.splice(20)),e},G=function(e){if(Object.keys(R).length>0&&R[e]){var t;return U?(null===(t=H.current)||void 0===t?void 0:t.call(H,R[e],[e]))||M(R[e],[e]):(0,eI.Vl)(R[e],[e],p)}},F=function(e){var t=Object.keys(R).filter(function(t){return e.includes(t)});if(t.length>0){var n=[];t.forEach(function(e){var t,r=null===(t=H.current)||void 0===t?void 0:t.call(H,R[e],[e]),s=M(R[e],[e]);n.push(r||s)}),C(n),null==d||d(!1)}else C([]),null==d||d(!0)},q=t.map(function(e,n){var s=G(e);return s?(0,D.jsx)(m.Vp,{type:s?"error":"default",onRemove:function(){var e,s=eO(t);s.splice(n,1),r(s),U&&F(s),null===(e=L.current)||void 0===e||e.focus()},accessibilityRemoveIconLabel:(0,eE.Z)(p._('Remove {{ identifier }}', '[m10n]bizAccess.people.add.removeIdentifier', 'Accessibility label on a button that removes a label containing an email or username'),{identifier:e}),text:e},e):(0,D.jsx)(m.Vp,{onRemove:function(){var e,s=eO(t);s.splice(n,1),r(s),null===(e=L.current)||void 0===e||e.focus()},accessibilityRemoveIconLabel:(0,eE.Z)(p._('Remove {{ identifier }}', '[m10n]bizAccess.people.add.removeIdentifier', 'Accessibility label on a button that removes a label containing an email or username'),{identifier:e}),text:e},e)}),Y=(n?O.concat(n):O).map(function(e,t){return(0,D.jsx)("li",{style:{listStyle:"disc",marginLeft:"28px"},children:(0,D.jsx)(m.xv,{size:"300",children:e})},t)}),V=a||p._('Add up to 20 emails or usernames at a time', '[m10n]bizAccess.people.add.helper text', 'message explaining that the list of email addresses and emails is limited to 20 entries'),Q=i||p._('Add employee username or email', '[m10n]bizAccess.people.placeholder', 'Search people associated with this business by business id'),W=!c&&Y&&Y.length>0?" ":void 0,J=Y&&Y.length>0?void 0:V;return(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.nv,{errorMessage:W,helperText:c?V:J,id:"people-multiselect",onBlur:function(){if(""!==P.trim()){var e=Z(eT([].concat(eO(t),[P.trim()])));r(e),U&&F(e),I("")}},onChange:function(e){var n=e.value.split(/[\s,;]+/);if(n.length>1){var s=Z(eT([].concat(eO(t),eO(n.splice(0,n.length-1).filter(function(e){return""!==e})))));r(s),U&&F(s)}else U&&C([]);I(n[n.length-1])},onKeyDown:function(e){var n=e.event,s=n.keyCode,i=n.target;if(U||C([]),s===eP.Z.BACKSPACE&&i instanceof HTMLInputElement&&0===i.selectionEnd)r(eO(t.slice(0,-1))),U&&F(eO(t.slice(0,-1)));else if(s===eP.Z.ENTER&&""!==P.trim()){var o=Z(eT([].concat(eO(t),[P.trim()])));r(o),U&&F(o),I("")}},placeholder:t.length>0?void 0:Q,ref:L,size:"lg",tags:q,value:P}),Y&&Y.length>0&&(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",borderStyle:c?void 0:"sm",rounding:2,padding:4,marginTop:4,color:c?"errorWeak":void 0,children:[c&&(0,D.jsx)(m.xu,{marginEnd:2,children:(0,D.jsx)(m.JO,{icon:"workflow-status-problem",accessibilityLabel:p._('Problem', '[m10n]bizAccess.issues.heading.icon.problem', 'Accessibility text to icon on heading before the list of problems found in the invitees list'),color:"error",size:20})}),(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.st,{children:[(0,D.jsxs)(m.kC,{direction:"row",children:[!c&&(0,D.jsx)(m.xu,{marginEnd:2,children:(0,D.jsx)(m.JO,{icon:"workflow-status-warning",accessibilityLabel:p._('Warning', '[m10n]bizAccess.issues.heading.icon', 'Accessibility text to icon on heading before the list of issues found in the invitees list'),color:"error",size:20})}),!U&&!c&&(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:p._('Please fix the following issues before continuing:', '[m10n]bizAccess.issues.heading', 'Heading before the list of issues found in the invitees list')})]}),U&&f?f:(0,D.jsx)("ul",{children:Y})]})})]})]})},eR=n(663592),eN=n(136656);function eD(e){return(eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ek(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||eL(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eL(e,t){if(e){if("string"==typeof e)return eB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eB(e,t)}}function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eU=function(e,t,n){return function(r,s){var i=s.join((0,B.bH)(e));switch(r){case v.O1.BUSINESS_ACCESS_PERSONAL_ACCOUNT:return(0,eE.Z)(e.ngettext('{{ businessIds }} is a personal Pinterest account. You can only invite business accounts to a business hierarchy.', '{{ businessIds }} are personal Pinterest accounts. You can only invite business accounts to a business hierarchy.', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.personalAccounts', 'Error message shown when business ids to invite are personal accounts. businessIds: business ids with errors'),{businessIds:i});case v.O1.BUSINESS_INVITE_INVALID:case v.O1.INVALID_USERNAME:if(n)return e.ngettext('The business id is not associated with a Pinterest account', 'Some business ids are not associated with a Pinterest account', t.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.not.associated.pinterestAccount', 'Error message shown when business ids to invite are not associated with a Pinterest account');return(0,eE.Z)(e.ngettext('{{ businessIds }} is not associated with a Pinterest account', '{{ businessIds }} are not associated with a Pinterest account', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.not.associated.pinterestAccount', 'Error message shown when business ids to invite are not associated with a Pinterest account. businessIds: business ids with errors'),{businessIds:i});case v.O1.ACCESS_DENIED:if(n)return e._('User not allowed to create invite', '[m10n]bizAccess.childBusiness.notAllowed.sendInvite', 'Error message shown when is not allowed to send invite');return;case v.O1.ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:case v.O1.BUSINESS_RELATIONSHIP_ALREADY_EXISTS:return(0,eE.Z)(e.ngettext('{{ businessIds }} is already in a business hierarchy', '{{ businessIds }} are already in a business hierarchy', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.already.in.businessHierarchy', 'Error message shown when business ids to invite are already in a business hierarchy. businessIds: business ids with errors'),{businessIds:i});case v.O1.BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:if(n){var o,a,c=(0,eE.Z)(e._('You reached a limit of {{ limit }} pending invites. To invite more employees, delete your pending invites.', '[m10n]bizAccess.childBusiness.sendInvite.reachedMaxInvites', 'Error message explaining you have exceeded maximum number of pending invites. limit: max number of child business invites.'),{limit:v.sy}),l=e.ngettext('The recipient of this invite has reached their invite limit. To invite them, please ask them to respond to their existing invitations', 'The recipients of this invite have reached their invite limit. To invite them, please ask them to respond to their existing invitations', t.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when child business ids to invite exceeded maximum number of pending invites.');return(null===(o=n.extraData)||void 0===o?void 0:null===(a=o.message)||void 0===a?void 0:a.includes("receiver"))?l:c}return(0,eE.Z)(e._('{{ businessIds }} reached their invite limit. To invite them, please ask them to respond to their existing invitations', '[m10n]bizAccess.childBusiness.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when business ids to invite exceed the max number of members they can managed. businessIds: business ids with errors.'),{businessIds:i});case v.O1.ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:case v.O1.BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:return(0,eE.Z)(e.ngettext('{{ businessIds }} exceeds the limit of {{ limit }} members allowed to manage', '{{ businessIds }} exceed the limit of {{ limit }} members allowed to manage', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.exceedMaxNumberOfMembers', 'Error message shown when business ids to invite exceed the max number of members they can managed. businessIds: business ids with errors, limit: max number of child businesses within a business hierarchy.'),{businessIds:i,limit:v.Je});case v.O1.ODO_BIZ_INVITE_EXISTS:case v.O1.BUSINESS_INVITE_STACKED_ERROR:return(0,eE.Z)(e.ngettext('{{ businessIds }} was already invited to this business hierarchy.', '{{ businessIds }} were already invited to this business hierarchy', s.length || 0, '[m10n]bizAccess.childBusiness.sendInvite.businessIds.already.invited', 'Error message shown when business ids to invite were already invited. businessIds: business ids with errors'),{businessIds:i});default:if(n)return(0,eI.ZB)(e,n);return}}},eM=function(e){var t=e.onClose,n=(0,S.v)().logContextEvent,r=(0,w.ZP)(),s=(0,f.useDispatch)(),i=ek((0,_.useState)([]),2),a=i[0],c=i[1],l=ek((0,_.useState)(),2),u=l[0],d=l[1],p=ek((0,_.useState)({}),2),h=p[0],b=p[1],y=ek((0,_.useState)(!0),2),v=y[0],g=y[1],A=(0,N.HL)().setAddChildBusinessesConfirmationModal,x=(0,o.useRouteMatch)().params.businessHierarchyId,P=(0,(0,E.F)().checkExperiment)("holiday_2023_business_manager_error_messages_updates").anyEnabled,I=x||"",j=function(e){if(P&&g(!1),(null===(t=e.extraData)||void 0===t?void 0:t.message)==="None"&&e.extraData.objects)d(""),b(null===(c=e.extraData)||void 0===c?void 0:c.objects);else{var t,s,i,o,c,l,u=(0,eI.Ax)((null===(l=e.extraData)||void 0===l?void 0:l.message)||"");d(o=eU(r,a,e)(e.api_error_code,u)||""),u.length>0?b(u.reduce(function(t,n){var r,s,i,o,a;return s={},i=e.api_error_code,o=t[e.api_error_code]?[].concat(function(e){if(Array.isArray(e))return eB(e)}(r=t[e.api_error_code])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||eL(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):[n],(a=function(e,t){if("object"!==eD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eD(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),(i="symbol"===eD(a)?a:String(a))in s)?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s},{})):b({})}n({event_type:8966,component:14435,aux_data:{business_hierarchy_id:x,error_class:null==e?void 0:null===(s=e.status)||void 0===s?void 0:s.slice(0,64),error_message:o?o.slice(0,4096):JSON.stringify((null===(i=e.error)||void 0===i?void 0:i.objects)||null).slice(0,4096)}})};return(0,D.jsxs)(U.Z,{accessibilityLabel:r._('Add child business to hierarchy modal', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal', 'Accessibility label for the modal used to add child businesses to a business hierarchy'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-child-businesses-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",name:"add-child-businesses-submit",color:"red",disabled:0===a.length||P&&(!!u||!v),text:r._('Invite', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.submitLabel', 'Label for the submit button on the Add child businesses modal'),onClick:function(){d(void 0),s((0,eR.RO)({hierarchyId:I,peopleIdentifiers:a,assignedRole:"CHILD_BUSINESS",onSuccess:function(e){A({hierarchyId:I,inviteIds:e,onClose:t}),n({event_type:8965,component:14435,aux_data:{business_hierarchy_id:x}})},onFailure:j}))}})}),size:"lg",title:r._('Invite businesses to your hierarchy', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.title', 'Heading for the modal used to add child businesses to a business hierarchy'),children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsxs)(m.xv,{inline:!0,children:[r._('Businesses that are a part of your hierarchy will appear on your Business hierarchy page. Once they accept, you will be able to manage the assets and members that belong to them.', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.description', 'Description text in the add child businesses modal'),(0,D.jsx)(m.rU,{display:"inline",accessibilityLabel:r._('Link to learn more about add child businesses to a business hierarchy', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.learnMoreText', 'Accessibility label for the learn more link in the add child businesses modal description text'),href:"https://help.pinterest.com/en/business/article/get-a-business-account",target:"blank",children:r._('Learn more', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.modal.description.learnMore', 'Text for the learn more link within the add child businesses modal description text')})]})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xu,{"data-test-id":"add-child-businesses-users-input",children:(0,D.jsx)(ez,{useRedStyle:!0,peopleIdentifiers:a,errorMessage:u,setPeopleIdentifiers:function(e){c(e),(0,eN.Z)(n,{event_type:8964,component:14435,aux_data:{business_hierarchy_id:x,field_name:"user-identifiers"}})},errorMap:h,hideErrorMapText:!!u,placeholderText:r._('Add business IDs', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.multiSelect.placeholderText', 'Placeholder text for the multi select component in the add child business modal'),helperText:r._('Invite up to 20 businesses at a time, comma separated', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.multiSelect.helperText', 'Helper text for the multi select component in the add child business modal'),getErrorMessageByErrorCode:eU(r,a),setResolvedErrors:P?g:void 0})})})]})},eH=n(879990);function eZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eG=function(e){var t,n=(0,w.ZP)(),r=e.hierarchyId,s=e.inviteIds,i=(0,y.C)().businessHierarchies,o=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("businessHierarchyChildBusinessInvite",r,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eZ(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],l=o[2],u=(0,F.F9)().showToast,d=(0,N.HL)().clearModal,p=(0,f.useDispatch)(),h=a.data,b=i.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(e){return!!e&&e.id===r});if((0,_.useEffect)(function(){c&&u(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(n),type:"error"})})},[c]),l)return(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),size:"sm",title:(0,eI.Hp)(n),children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var g=s.length;return(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),cancelText:n._('Done', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.done', 'Cancel text for the add child businesses confirmation modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-child-businesses-confirmation-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",text:n._('View pending invites', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.cta', 'Call-to-action text for the add child businesses confirmation modal'),onClick:function(){var t;p({type:"CLEAR_ERROR"}),null===(t=e.onClose)||void 0===t||t.call(e,v.K3.PENDING),d()},color:"red"})}),size:"sm",title:n._('Invites sent!', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.title', 'Title text for the add child businesses confirmation modal'),children:[(0,D.jsx)(m.xv,{children:(0,eE.Z)(n.ngettext('You\'ve invited the following business to {{businessHierarchyName}}\'s business hierarchy:', 'You\'ve invited the following {{numInvites}} businesses to {{businessHierarchyName}}\'s business hierarchy:', g, '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.description', 'Description text for the add child businesses confirmation modal. numInvites: the number of invites created businessHierarchyName: the name of the business hierarchy that is sending the invite'),{numInvites:g,businessHierarchyName:(null==b?void 0:b.name)||n._('this business', '[m10n]bizAccess.businessHierarchy.addChildBusinesses.confirmation.placeholderName', 'Placeholder name for the confirmation modal if no name exists')})}),(0,D.jsx)(m.xu,{"data-test-id":"add-child-businesses-confirmation-modal-body-container",marginTop:4,marginBottom:2,children:s.map(function(e){var t,n,r,s;return(0,D.jsx)(m.xu,{paddingY:1,children:(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"center",children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.qE,{size:"xs",src:null===(t=h[e].user)||void 0===t?void 0:t.image_small_url,name:null===(n=h[e].user)||void 0===n?void 0:n.full_name})}),(0,D.jsx)(m.xu,{paddingX:2,children:(0,D.jsx)(m.xv,{weight:"bold",children:null===(r=h[e].user)||void 0===r?void 0:r.full_name})}),(0,D.jsx)(m.xu,{flex:"grow",children:(0,D.jsx)(m.xv,{children:"(ID: ".concat(null===(s=h[e].user)||void 0===s?void 0:s.id,")")})})]})},e)})})]})};function eF(e){return(eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||eY(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eY(e,t){if(e){if("string"==typeof e)return eV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(e,t)}}function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eQ=function(e,t,n){return function(r,s){var i,o=s.join((0,B.bH)(e));switch(r){case v.O1.BUSINESS_ACCESS_PERSONAL_ACCOUNT:if(n)return e._('Cannot use Business Access with a personal account', '[m10n]bizAccess.orgManagers.sendInvite.emails.personalAccounts', 'Error message shown when organizations manager emails to invite are personal accounts.');return(0,eE.Z)(e.ngettext('{{ orgManagersEmails }} is a personal account. Cannot use Business Access with a personal account.', '{{ orgManagersEmails }} are personal accounts. Cannot use Business Access with a personal account.', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.personalAccounts', 'Error message shown when organizations manager emails to invite are personal accounts. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:o});case v.O1.BUSINESS_INVITE_INVALID:case v.O1.INVALID_USERNAME:if(n)return e.ngettext('The username is not associated with a Pinterest account', 'Some usernames are not associated with a Pinterest account', t.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.username.not.associated.pinterestAccount', 'Error message shown when organizations manager usernames to invite are not associated with a Pinterest account');return(0,eE.Z)(e.ngettext('{{ orgManagersEmails }} is not associated with a Pinterest account', '{{ orgManagersEmails }} are not associated with a Pinterest account', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.not.associated.pinterestAccount', 'Error message shown when organizations manager emails to invite are not associated with a Pinterest account. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:o});case v.O1.ACCESS_DENIED:if(n)return e._('User not allowed to create invite', '[m10n]bizAccess.orgManagers.notAllowed.sendInvite', 'Error message shown when is not allowed to send invite');return;case v.O1.ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:case v.O1.BUSINESS_RELATIONSHIP_ALREADY_EXISTS:return(0,eE.Z)(e.ngettext('{{ orgManagersEmails }} is already in a business hierarchy', '{{ orgManagersEmails }} are already in a business hierarchy', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite are already in a business hierarchy. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:o});case v.O1.BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:if(n){var a,c,l=(0,eE.Z)(e._('You reached a limit of {{ limit }} pending invites. To invite more organization managers, delete your pending invites.', '[m10n]bizAccess.orgManagers.sendInvite.reachedMaxInvites', 'Error message explaining you have exceeded maximum number of pending invites. limit: max number of org manager invites.'),{limit:v.yR}),u=e.ngettext('The recipient of this invite has reached their invite limit. To invite them, please ask them to respond to their existing invitations', 'The recipients of this invite have reached their invite limit. To invite them, please ask them to respond to their existing invitations', t.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite exceeded maximum number of pending invites.');return(null===(a=n.extraData)||void 0===a?void 0:null===(c=a.message)||void 0===c?void 0:c.includes("receiver"))?u:l}return(0,eE.Z)(e._('{{ orgManagersEmails }} is already in your business hierarchy', '[m10n]bizAccess.orgManagers.sendInvite.emails.already.in.businessHierarchy', 'Error message shown when organizations manager emails to invite exceeded maximum number of pending invites. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:o});case v.O1.ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:case v.O1.BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:return(0,eE.Z)(e.ngettext('{{ orgManagersEmails }} exceeds the limit of {{ limit }} members allowed to manage', '{{ orgManagersEmails }} exceed the limit of {{ limit }} members allowed to manage', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.exceedMaxNumberOfMembers', 'Error message shown when organizations manager emails to invite exceed the max number of members they can managed. orgManagersEmails: organization manager emails with errors, limit: max number of managers in a business hierarchy.'),{orgManagersEmails:o,limit:v.EF});case v.O1.ODO_BIZ_INVITE_EXISTS:case v.O1.BUSINESS_INVITE_STACKED_ERROR:return(0,eE.Z)(e.ngettext('{{ orgManagersEmails }} was already invited to this business hierarchy', '{{ orgManagersEmails }} were already invited to this business hierarchy', s.length || 0, '[m10n]bizAccess.orgManagers.sendInvite.emails.already.invited', 'Error message shown when organizations manager emails to invite were already invited. orgManagersEmails: organization manager emails with errors'),{orgManagersEmails:o});default:if(n){if(i=t.join((0,B.bH)(e)),/\S+@\S+\.\S+/.test(i))return e._('To invite a manager for this business hierarchy, enter a valid username', '[m10n]bizAccess.orgManagers.sendInvite.emailsNotAllowed', 'Error message explaining user cannot use emails to invite organization managers.');return(0,eI.ZB)(e,n)}return}}},eW=function(e){var t=e.onClose,n=(0,S.v)().logContextEvent,r=(0,w.ZP)(),s=(0,f.useDispatch)(),i=eq((0,_.useState)([]),2),a=i[0],c=i[1],l=eq((0,_.useState)(),2),u=l[0],d=l[1],p=eq((0,_.useState)({}),2),h=p[0],b=p[1],y=eq((0,_.useState)(!0),2),v=y[0],g=y[1],A=(0,N.HL)(),x=A.setAddOrganizationManagersConfirmationModal,P=A.clearModal,I=(0,o.useRouteMatch)().params.businessHierarchyId,j=(0,(0,E.F)().checkExperiment)("holiday_2023_business_manager_error_messages_updates").anyEnabled,O=I||"",C=function(e){if(j&&g(!1),(null===(t=e.extraData)||void 0===t?void 0:t.message)==="None"&&e.extraData.objects)d(""),b(null===(c=e.extraData)||void 0===c?void 0:c.objects);else{var t,s,i,o,c,l,u=(0,eI.Ax)((null===(l=e.extraData)||void 0===l?void 0:l.message)||"");d(o=eQ(r,a,e)(e.api_error_code,u)||""),u.length>0?b(u.reduce(function(t,n){var r,s,i,o,a;return s={},i=e.api_error_code,o=t[e.api_error_code]?[].concat(function(e){if(Array.isArray(e))return eV(e)}(r=t[e.api_error_code])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||eY(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):[n],(a=function(e,t){if("object"!==eF(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),(i="symbol"===eF(a)?a:String(a))in s)?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s},{})):b({})}n({event_type:8966,component:14435,aux_data:{business_hierarchy_id:I,error_class:null==e?void 0:null===(s=e.status)||void 0===s?void 0:s.slice(0,64),error_message:o?o.slice(0,4096):JSON.stringify((null===(i=e.error)||void 0===i?void 0:i.objects)||null).slice(0,4096)}})};return(0,D.jsx)(m.xu,{"data-test-id":"add-managers-modal",children:(0,D.jsxs)(U.Z,{size:900,style:{footer:{marginEnd:0}},onDismiss:function(){c([]),P()},accessibilityLabel:r._('Invite managers', '[m10n]businessAccess.managers.modal.a11y', 'Heading text of the modal'),title:r._('Invite managers', '[m10n]businessAccess.managers.modal.heading', 'Heading text of the modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-managers-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",onClick:function(){d(void 0),s((0,eR.RO)({hierarchyId:O,peopleIdentifiers:a,assignedRole:"ORGANIZATION_MANAGER",onSuccess:function(e){x({hierarchyId:O,inviteIds:e,onClose:t}),n({event_type:8965,component:14466,aux_data:{business_hierarchy_id:I}})},onFailure:C}))},disabled:!a.length||j&&(!!u||!v),text:r._('Invite', '[m10n]businessAccess.managers.modal.cta', 'CTA Button to send the invite')})}),children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xv,{children:r._('Invite employees to become managers for your business hierarchy. Managers will be able to do the following for child businesses:', '[m10n]businessAccess.managers.modal.description', 'Describe what is invite managers for')})}),(0,D.jsx)(m.xu,{marginTop:2,marginBottom:4,children:(0,D.jsxs)(m.aV,{type:"unordered",spacing:"condensed",children:[(0,D.jsx)(m.aV.Item,{text:r._('Add and delete employees and partners', '[m10n]businessAccess.managers.modal.description.listitem.1', 'Describe what managers can do, item 1')}),(0,D.jsx)(m.aV.Item,{text:r._('Create ad accounts', '[m10n]businessAccess.managers.modal.description.listitem.2', 'Describe what managers can do, item 2')}),(0,D.jsx)(m.aV.Item,{text:r._('Assign and revoke permissions for employees and partners', '[m10n]businessAccess.managers.modal.description.listitem.3', 'Describe what managers can do, item 3')}),(0,D.jsx)(m.aV.Item,{text:r._('Enforce two-factor authentication', '[m10n]businessAccess.managers.modal.description.listitem.4', 'Describe what managers can do, item 4')}),(0,D.jsx)(m.aV.Item,{text:r._('Have full access to all assets including child businesses', '[m10n]businessAccess.managers.modal.description.listitem.5', 'Describe what managers can do, item 5')})]})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(ez,{peopleIdentifiers:a,errorMessage:u,setPeopleIdentifiers:function(e){c(e),(0,eN.Z)(n,{event_type:8964,component:14466,aux_data:{business_hierarchy_id:I,field_name:"user-identifiers"}})},errorMap:h,hideErrorMapText:!!u,useRedStyle:!0,getErrorMessageByErrorCode:eQ(r,a),helperText:r._('Add up to 20 usernames at a time', '[m10n]businessAccess.managers.modal.helper.text', 'message explaining that the list of usernames is limited to 20 entries'),placeholderText:r._('Add employee usernames', '[m10n]businessAccess.managers.modal.placeholder.text', 'placeholder text explaining what kind of inputs to put into the add managers modal'),setResolvedErrors:j?g:void 0})})]})})},eJ=n(356997);function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eX=function(e){var t,n=(0,w.ZP)(),r=e.hierarchyId,s=e.inviteIds,i=(0,N.HL)().clearModal,o=(0,y.C)().businessHierarchies,a=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("businessHierarchyOrganizationManagersInvite",r,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eK(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],l=a[1],u=a[2],d=(0,F.F9)().showToast,f=c.data,p=o.map(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e:null}).find(function(e){return!!e&&e.id===r});if((0,_.useEffect)(function(){l&&d(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(n),type:"error"})})},[l]),u)return(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),size:"sm",title:(0,eI.Hp)(n),children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var h=s.length;return(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),cancelText:n._('Done', '[m10n]bizAccess.managers.addManager.confirmation.done', 'Cancel text for the add organization managers confirmation modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-managers-confirmation-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",text:n._('View pending invites', '[m10n]bizAccess.managers.addManager.confirmation.cta', 'Call-to-action text for the add organization managers confirmation modal'),onClick:function(){var t;null===(t=e.onClose)||void 0===t||t.call(e,v.K3.PENDING),i()},color:"red"})}),size:"sm",title:n._('Invites sent!', '[m10n]bizAccess.managers.addManager.confirmation.title', 'Title text for the add organization managers confirmation modal'),children:[(0,D.jsx)(m.xv,{children:(0,eE.Z)(n.ngettext('You\'ve invited the following manager to {{businessHierarchyName}}\'s business hierarchy:', 'You\'ve invited the following {{numInvites}} managers to {{businessHierarchyName}}\'s business hierarchy:', h, '[m10n]bizAccess.managers.addManager.confirmation.description', 'Description text for the add organization managers confirmation modal. numInvites: the number of invites created businessHierarchyName: the name of the business hierarchy that is sending the invite'),{numInvites:h,businessHierarchyName:(null==p?void 0:p.name)||n._('this business', '[m10n]bizAccess.managers.addManager.confirmation.placeholderName', 'Placeholder name for the confirmation modal if no name exists')})}),(0,D.jsx)(m.xu,{"data-test-id":"add-managers-confirmation-modal-body-container",marginTop:4,marginBottom:2,children:s.map(function(e){var t,n,r;return(0,D.jsx)(m.xu,{paddingY:1,children:(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(eJ.qE,{size:"xs",src:null===(t=f[e].user)||void 0===t?void 0:t.image_small_url,name:null===(n=f[e].user)||void 0===n?void 0:n.full_name})}),(0,D.jsx)(m.xu,{paddingX:2,children:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,overflow:"noWrap",children:null===(r=f[e].user)||void 0===r?void 0:r.full_name})})]})},e)})})]})},e$=n(251819),e0=n(822618),e1=function(e){var t=e.onChange,n=e.currentRole,r=e.regularRoleEntry,s=e.adminRoleEntry,i=e.withBadge,o=(0,w.ZP)();return(0,D.jsxs)(m.FX,{id:"role-chooser",legend:o._('Role chooser', '[m10n]role_chooser.legend', 'Hidden legend to describe the radio button group'),legendDisplay:"hidden",children:[(0,D.jsx)(m.xu,{margin:1,paddingY:1,children:(0,D.jsx)(m.xu,{"data-test-id":"role-button-REGULAR-ROLE",children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,D.jsxs)(m.xu,{display:"flex",alignItems:"start",paddingY:1,children:[(0,D.jsx)(m.FX.RadioButton,{id:"regular-role",checked:n===r.constant,onChange:function(){return t(r.constant)},value:"regular-role"}),(0,D.jsxs)(m.__,{htmlFor:"regular-role",children:[(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",paddingX:2,dangerouslySetInlineStyle:{__style:{marginTop:2}},children:[(0,D.jsx)(m.xv,{weight:"bold",children:r.title}),i&&(0,D.jsx)(m.xu,{paddingX:1,children:(0,D.jsx)(m.Ct,{type:"recommendation",text:o._('Recommended', '[m10n]bizAccess.roleChooser.recommended', 'Recommended badge')})})]}),(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.xv,{color:"subtle",children:r.description})})]})]}),r.meta&&(0,D.jsx)(m.xu,{children:r.meta})]})})}),(0,D.jsx)(m.xu,{margin:1,paddingY:1,children:(0,D.jsx)(m.xu,{"data-test-id":"role-button-ADMIN-ROLE",children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,D.jsxs)(m.xu,{display:"flex",alignItems:"start",paddingY:1,children:[(0,D.jsx)(m.FX.RadioButton,{id:"admin-role",checked:n===s.constant,onChange:function(e){return t(s.constant)},value:"admin-role"}),(0,D.jsxs)(m.__,{htmlFor:"admin-role",children:[(0,D.jsx)(m.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{marginTop:2}},children:(0,D.jsx)(m.xv,{weight:"bold",children:s.title})}),(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.xv,{color:"subtle",children:s.description})})]})]}),s.meta&&(0,D.jsx)(m.xu,{children:s.meta})]})})})]})},e2=n(491242),e3=n(362746),e6=n(576452),e4=n(562286);function e8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||e9(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e9(e,t){if(e){if("string"==typeof e)return e5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e5(e,t)}}function e5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e7=function(){var e=(0,S.v)().logContextEvent,t=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),n=(0,w.ZP)(),r=(0,u.Z)(),s=(0,N.KJ)(!0),i=(0,N.nU)(!0),a=(0,b.d9)().selectedHierarchyId,c=(0,f.useDispatch)(),l=e8((0,_.useState)("EMPLOYEE"),2),d=l[0],p=l[1],h=e8((0,_.useState)([]),2),y=h[0],g=h[1],P=e8((0,_.useState)(),2),I=P[0],j=P[1],C=e8((0,_.useState)(),2),z=C[0],R=C[1],k=e8((0,_.useState)({}),2),L=k[0],B=k[1],M=e8((0,_.useState)(!0),2),H=M[0],Z=M[1],G=e8((0,_.useState)(500),2),F=G[0],q=G[1],Y=(0,N.HL)().setAddPeopleInviteConfirmationModal,V=(0,N.HL)().setAssignAdAccountsModal,Q=(0,f.useSelector)(e6.ZP),W=[(0,e4.Z)(r)].concat(function(e){if(Array.isArray(e))return e5(e)}(Q)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Q)||e9(Q)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).find(function(e){return e.user.id===s}),J=(0,f.useSelector)(el.Bk),K=(0,o.useRouteMatch)().path,X=(0,o.useLocation)(),$=K.includes(":userBizId/employees/pending"),ee=(0,E.F)().checkExperiment,et=(0,E.F)().checkExperiment("ba_mfa_enabled").anyEnabled,en=ee("web_m10n_business_access_orbac_ga").anyEnabled,es=ee("business_access_employees_api_v4_migration").anyEnabled,ei=ee("web_m10n_business_access_employee_redesign").anyEnabled,eo=ee("holiday_2023_business_manager_error_messages_updates").anyEnabled,ea=e8((0,O.Z)(e3.R,!1,{id:s,is_member:!0,filters:{invite_status:["PENDING"]}}),4),ec=ea[0],eu=ea[2],ed=ea[3];(0,_.useEffect)(function(){!eo||(0,e$.Z)(s)||eu||ec||ed({id:s,is_member:!0,filters:{invite_status:["PENDING"]}})},[s,eu,ed,ec,eo]),(0,_.useEffect)(function(){null!=ec&&ec.data.total_data_count?q(500-(J+ec.data.total_data_count)):q(500-J)},[ec,J]),(0,_.useEffect)(function(){eo&&z&&y.length<=F&&(R(void 0),j(void 0),Z(!0))},[y,F,z,eo]);var e_={constant:"EMPLOYEE",title:n._('Employee', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:n._('Employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.addPeople.employeeRole.description', 'description of employee role')},ef={constant:"BIZ_ADMIN",title:n._('Manager', '[m10n]bizAccess.choose.adminRole', 'admin role'),description:et?n._('Managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.addPeople.managerRole.2faDescription', 'description of manager role'):n._('Managers can add and remove employees and partners from businesses, create ad accounts and assign themselves to ad accounts and profiles ', '[m10n]bizAccess.addPeople.managerRole.description', 'description of manager role')};return(0,D.jsxs)(U.Z,{accessibilityLabel:n._('Add employees to business modal', '[m10n]bizAccess.business.assignPerson.modal', 'accessibility label for the modal used to add employees to a business account'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-people-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",name:"add-people-submit",color:"red",disabled:0===y.length||eo&&(!!I||!H),text:n._('Add employees', '[m10n]bizAccess.addEmployees.submitLabel', 'Label for the submit button on the Add employees modal'),onClick:function(){j(void 0),c((0,er.Rx)({businessId:s,detailId:i,businessHierarchyNodeId:a,isPendingTabActive:$,peopleIdentifiers:y,assignedRole:d,usePeopleV4Endpoint:es,onSuccess:function(n){en?V({selectedIds:[],inviteIds:n,selectionType:v.c7.AD_ACCOUNT,dataToRefresh:$?"PENDING_PEOPLE_LIST":"PEOPLE_LIST",assignmentType:"PEOPLE",roleType:d,peopleIdentifiers:y,showProfiles:!0}):Y({inviteIds:n,role:d,isPendingTabActive:$}),(0,x.dK)(X)?t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"add-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",business_id:s}):e({event_type:8965,component:13632,aux_data:{business_id:s}}),ei&&c((0,e2.Iy)({businessId:s,inviteIds:n}))},onFailure:function(r){switch(eo&&Z(!1),null!==(i=r.api_error_code)&&void 0!==i?i:r.code){case 6:case 2939:case 2940:case 2941:j(a=(0,eI.ZB)(n,r));break;case 2769:var i,o,a,c,l,u,d=(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:(0,T.nk)(n.ngettext('You can only invite {{ numberOfInvites }} employee', 'You can only invite {{ numberOfInvites }} employees', F, '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.boldedSentence', 'Bolded sentence informing user of invites left to use. numberOfInvites: number of invites left to use.'),{numberOfInvites:F})},"1");R((0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(n._('{{ maxInviteCount }} because you\u2019ve reached a limit of {{ limit }} total active and pending employees. To invite more, remove existing employees or delete pending invites.', '[m10n]bizAccess.addEmployees.businessRelationshipCountExceeded.limit', 'Error message shown when the user tries to invite more than the max number of employees to a business. maxInviteCount: the sentence with maximum invites left, limit: the maximum amount of allowed business members.'),{maxInviteCount:d,limit:500})},"0")),j((0,eI.ZB)(n,r));break;case 2935:B(null==r?void 0:null===(o=r.extraData)||void 0===o?void 0:o.objects);break;default:j(n._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs'))}(0,x.dK)(X)?t({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"add-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(r).slice(0,64),errorMessage:(null===(c=r.stack)||void 0===c?void 0:c.slice(0,4096))||r.message}):e({event_type:8966,component:13632,aux_data:{business_id:s,error_class:null==r?void 0:null===(l=r.status)||void 0===l?void 0:l.slice(0,64),error_message:a?a.slice(0,4096):JSON.stringify((null===(u=r.error)||void 0===u?void 0:u.objects)||null).slice(0,4096)}})}}))}})}),size:eo?900:"sm",title:en?n._('Add employees', '[m10n]bizAccess.business.assignEmployee.title', 'Heading for the modal used to add people to a business account.'):(0,eE.Z)(n._('Add employees to {{businessName}}', '[m10n]bizAccess.business.assignEmployee.titleWithBusiness', 'heading including the name of the selected business for the modal used to add people to a business account. businessName: corresponds to the business name'),{businessName:W.user.full_name}),footerSecondaryContent:en?(0,D.jsx)(m.xv,{size:"200",color:"subtle",children:"Step 1 of 2"}):null,children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{children:en?n._('Adding employees allows people that work for your business to work on ad accounts and profiles for your business and partner businesses', '[m10n]bizAccess.addEmployees.employeeDetails.description', 'Description of the modal used to add employees to a business account'):n._('Employees are people that work for your business. Adding employees enables you to then grant them access to work on ad accounts and tools on your or a partner\u2019s behalf.', '[m10n]bizAccess.addEmployees.employeeDetails.description', 'Description of the modal used to add employees to a business account')})}),(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.X6,{size:"400",children:n._('Choose a role', '[m10n]bizAccess.employeesPage.addEmployees.chooseBizRole.title', 'Wizard-ish workflow title to prompt to choose a business role for the employees being added to the business')})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{children:en?n._('The role you choose will be applied to everyone added below', '[m10n]bizAccess.employeesPage.addEmployees.chooseBizRole.description', 'Wizard-ish workflow description to prompt to choose a business role for the employees being added to the business'):n._('The role you choose will be applied to all employees added.', '[m10n]bizAccess.employeesPage.addEmployees.chooseBizRole.description', 'Wizard-ish workflow description to prompt to choose a business role for the employees being added to the business')})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e1,{withBadge:en,onChange:function(t){p(t),(0,eN.Z)(e,{event_type:8964,component:13632,aux_data:{business_id:s,field_name:"role"}})},currentRole:d,regularRoleEntry:e_,adminRoleEntry:ef})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xu,{"data-test-id":"add-people-users-input",children:(0,D.jsx)(ez,{peopleIdentifiers:y,errorMessage:I,setPeopleIdentifiers:function(t){g(t),(0,eN.Z)(e,{event_type:8964,component:13632,aux_data:{business_id:s,field_name:"user-identifiers"}})},errorMap:L,useRedStyle:eo,setResolvedErrors:eo?Z:void 0,messageToDisplay:eo?z:void 0})})})]})},te=n(898708),tt=function(e){var t=e.employeeOrPartnerPermissions,n=e.assetOrMemberType,r=(0,w.ZP)(),s=(0,N.HL)().clearModal,i=(0,(0,E.F)().checkExperiment)("web_m10n_business_manager_ui_improvements").anyEnabled,o=(0,te.e6)(r,i),a={PEOPLE:"email",PARTNER:"full_name"},c={PEOPLE:{titleText:r._('Employees added', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.title', 'tile for add employees to group confirmation modal'),listTitleText:r._('The following employees have been added to the asset group:', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.listTitleText', 'list tile for add employees to group confirmation modal'),countText:r._('{{userCount}} employee(s)', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.employees.countText', 'employees counter text, userCount: number of employees')},PARTNER:{titleText:r._('Partners added', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partner.title', 'tile for add partners to group confirmation modal'),listTitleText:r._('The following partners have been added to the asset group:', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partners.listTitleText', 'list tile for add partners to group confirmation modal'),countText:r._('{{userCount}} partners(s)', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.partners.countText', 'partners counter text, userCount: number of partners')}};return(0,D.jsx)(U.Z,{accessibilityLabel:r._('confirmation modal after an employee or partner is added to the group', '[m10n].bizAccess.assetGroup.addUserConfirmationModal', 'accessibility label for add user to group confirmation modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"assetGroup-user-added-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:r._('Done', '[m10n].bizAccess.assetGroup.addUserConfirmationModal.closeButton', 'text for for add user to group confirmation modal button'),onClick:s})}),title:c[n].titleText,size:"sm",onDismiss:s,hideCancelAction:!0,children:(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsxs)(m.xu,{marginBottom:4,children:[(0,D.jsx)(m.xv,{size:"200",children:c[n].listTitleText}),(0,D.jsx)(m.xu,{marginBottom:2,marginTop:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(c[n].countText,{userCount:t.length})})}),t.map(function(e){var t=e.id,s=e.user,i=e.permissions.map(o).join((0,B.bH)(r));return(0,D.jsx)(m.xu,{marginStart:3,marginTop:1,children:(0,D.jsx)(m.xv,{size:"100",color:"subtle",children:"• ".concat(s[a[n]]," (").concat(i,")")})},t)})]})})})},tn=n(732603),tr=n(445617),ts=n(977130),ti=n(76041);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tu=function(e){var t,n=e.partnerBusinessInfo,r=e.ownerInfo,s=e.accountInfo,i=(0,w.ZP)(),a=(0,N.HL)(),c=a.setUnsavedPermissionsConfirmationModal,l=a.setAOAARequestCreationSuccessModal,u=(0,N.KJ)(!0),p=(0,A.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS"),h=(0,f.useDispatch)(),b=(0,o.useRouteMatch)().path.includes(":userBizId/ad-accounts/pending"),y=(0,F.F9)().showToast,g=tc((0,O.Z)(ti.kH,!0,{id:u,limit:v.cU}),3),S=g[0],x=g[1],E=g[2],P=tc((0,_.useState)(!1),2),I=P[0],j=P[1];if(x)throw new d.zu("peopleError=".concat(x),(0,eI.BL)(i));var C=(null==S?void 0:null===(t=S.data.data)||void 0===t?void 0:t.map(function(e){var t=e.user,n=t.id,r=t.email;return{id:n,text:t.full_name,subtext:r,image:t.image_small_url,assignableRoles:v.j$,isPartner:!1}}))||[],T={id:n.id,text:n.full_name,image:n.image_small_url||"",assignableRoles:v.j$,isPartner:!0};return C.push(T),(0,D.jsx)(tn.Z,{modalTitle:(0,eI.BL)(i),modalAccessibilityLabel:(0,eI.li)(i),buttonLabel:(0,eI.e$)(i),selectedOptionDetailsText:(0,eI.ms)(i),text:n.full_name||"",subtext:s.name,searchPlaceholder:i._('Search name or email', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectionPlaceholder:i._('Select an employee or partner to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),selectionOptions:C,loading:E||I,isAoaaAssignmentModal:!0,footerSecondaryContent:(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:i._('Step 2 of 2', '[m10n]bizAccess.aoaaPermissionAssignment.modal.steps.second', 'Label to identify the current step, second, on AOAA permission assignment flow')}),onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),o=Object.keys(e).map(function(t){var n,r,s;return n={},r=t,s=e[t],(r=function(e){var t=function(e,t){if("object"!==to(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==to(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===to(t)?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}),t.next=5,(0,ts.tu)({businessId:u,partnerId:n.id,name:s.name,country:s.country,businessIdToPermissions:o});case 5:h((0,tr.vm)({businessId:u,updateDataOnly:!b})),p({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"request-agency-owned-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",requesting_agency_id:u}),l({partnerBusinessInfo:n,ownerInfo:r,businessIdToPermissions:o}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),y(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:i._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.')})}),p({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"request-agency-owned-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null===(a=t.t0.stack)||void 0===a?void 0:a.slice(0,4096))||t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,10]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){ta(i,r,s,o,a,"next",e)}function a(e){ta(i,r,s,o,a,"throw",e)}o(void 0)})})()},onDismiss:function(){return c({partnerBusinessInfo:n,ownerInfo:r,accountInfo:s})}})},td=function(e){var t=e.partnerBusinessInfo,n=e.ownerInfo,r=e.businessIdToPermissions,s=(0,w.ZP)(),i=(0,E.F)().checkExperiment,o=i("web_m10n_business_hierarchy_beta").anyEnabled,a=i("web_m10n_business_manager_ui_improvements").anyEnabled,c=(0,N.HL)().clearModal,l=t.full_name,u=t.image_small_url,d=t.id,_=n.full_name,f=n.image_medium_url,p=[],h={};return r.forEach(function(e){var t=Object.keys(e)[0],n=e[t],r=(n.includes("ADMIN")?["ADMIN"]:n).map(function(e){return(0,te.e6)(s,a)(e)});t===d?p=r:r.forEach(function(e){h[e]?h[e]+=1:h[e]=1})}),(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(s),hideCancelAction:!0,size:"sm",title:s._('Ad account creation request pending', '[m10n]bizAccess.AOAARequestCreationSuccess.title', 'title of modal notifying user that the add account creation request is pending'),primaryAction:(0,D.jsx)(m.zx,{accessibilityLabel:(0,B.Hf)(s),text:(0,B.Hf)(s),onClick:c,color:"red",size:"lg"}),children:[o&&(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.UW,{message:s._('You will be unable to modify the ad account until you receive ad account creation approval from your partner', '[m10n]bizAccess.AOAARequestCreationSuccess.calloutmessage', 'message notifying user that they cannot modify the ad account until partner approves their request to create the ad account'),type:"info",iconAccessibilityLabel:s._('ad account creation request will need approval', '[m10n]bizAccess.AOAARequestCreationSuccess.callout.iconAccessibilityLabel', 'icon accessibilityLabel notifying user that they cannot modify the ad account until partner approves their request to create the ad account')}),(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:6,marginTop:6,children:(0,D.jsx)(m.xv,{children:s._('Partners are automatically notified each time an ad account is created on their behalf', '[m10n].bizAccess.AOAARequestCreationSuccess.successSubtitle', 'Subtitle for modal notifying that partners will be notified each time ad account is created')})}),(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2,children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(eJ.qE,{size:"sm",src:u,name:l||""})}),(0,D.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,D.jsx)(m.xv,{size:"400",weight:"bold",children:l})})]}),(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginStart:12,marginBottom:4,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(s._('\u2022 {{partnerPermissions}} permissions', '[m10n]bizAccess.AOAARequestCreationSuccess.partnerPermissions', 'Text listing permissions given to partner. partnerPermissions: list of permissions for partner'),{partnerPermissions:p.join(", ")})})}),Object.keys(h).length>0&&(0,D.jsxs)(m.xu,{children:[(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2,children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(eJ.qE,{size:"sm",src:f,name:_||""})}),(0,D.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,D.jsx)(m.xv,{size:"400",weight:"bold",children:_})})]}),Object.keys(h).map(function(e){return(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginStart:12,marginBottom:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(s.ngettext('\u2022 {{numEmployees}} employee with {{permission}} permissions', '\u2022 {{numEmployees}} employees with {{permission}} permissions', h[e], '[m10n]bizAccess.AOAARequestCreationSuccess.employeePermission', 'Text listing number of employees with given permission. numEmployees: num of employees with permission, permission: permission type for empoloyees'),{numEmployees:h[e],permission:e})})},e)})]})]})]})};function t_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||tf(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){if(e){if("string"==typeof e)return tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tm(e,t)}}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tp(e){var t=e.isEdit,n=e.onSuccess,r=(0,N.KJ)(),s=(0,f.useSelector)(ea.FS),i=(0,f.useSelector)(ea.HW),o=t_((0,_.useState)(t&&s?s.name:""),2),a=o[0],c=o[1],l=t_((0,_.useState)(!1),2),u=l[0],d=l[1],p=t_((0,_.useState)(t&&s?s.description:""),2),h=p[0],b=p[1],g=t_((0,_.useState)(t&&s?s.asset_group_types:[]),2),A=g[0],S=g[1],x=(0,f.useDispatch)(),E=(0,w.ZP)(),P=(0,F.F9)().showToast,I=(0,N.HL)(),j=I.setDeleteAssetGroupConfirmationModal,O=I.clearModal,C=(0,f.useSelector)(ea.Ts),z=(0,(0,y.C)().getParentHierarchyForIdIfExists)(r),R=null==z?void 0:z.id;(0,_.useEffect)(function(){if(!u||i||C){if(u&&!i&&C){var e={12:E._('The number of assets groups would exceed the upper limit 20 for this business', '[m10n].bizAccess.addAssetError.message', 'message in error toast to show error occured because they would exceed the limit')},r=C.api_error_code,s=r&&e[r.toString()];P(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,type:"error",text:s||(0,B.sQ)(E)})}),O()}}else P(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:t?E._('Asset group edited', '[m10n]businessAccess.assetGroups.edited.toast', 'text for toast shown when an asset group is edited'):(0,T.nk)(E._('Asset group {{name}} created', '[m10n]businessAccess.assetGroups.created.toast', 'text for toast shown when an asset group is created. name: asset group name'),{name:a}).join("")})}),n()},[i,u,P,n,t,E,a]);var k=function(e){A.includes(e)?S(A.filter(function(t){return t!==e})):S([].concat(function(e){if(Array.isArray(e))return tm(e)}(A)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(A)||tf(A)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))},L=function(){t&&s?x((0,et.Ro)({businessId:r,assetGroup:{name:a,description:h,asset_group_types:A,id:s.id},businessHierarchyNodeId:R})):x((0,et.FL)({businessId:r,assetGroup:{name:a,description:h,asset_group_types:A},businessHierarchyNodeId:R})),d(!0)};return(0,D.jsxs)(m.xu,{paddingX:6,children:[(0,D.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,D.jsx)(m.xu,{marginTop:-1,children:(0,D.jsx)(m.xv,{size:"400",weight:"bold",children:E._('Asset group details', '[m10n]businessAccess.assetGroups.form.heading', 'label for asset groups form details heading')})}),(0,D.jsx)(m.xv,{size:"200",children:E._('Information in asset group details can be edited at any time', '[m10n]businessAccess.assetGroups.form.notice', 'information about when asset groups can be edited')}),(0,D.jsx)(m.xu,{"data-test-id":"create-asset-name-text-field",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.nv,{id:"name field",placeholder:E._('Name', '[m10n]businessAccess.assetGroups.form.name.placeholder', 'placeholder for asset group name field'),disabled:i,value:a,onChange:function(e){var t=e.event;a.length<50&&c(t.target.value)}})})}),(0,D.jsxs)(m.kC,{justifyContent:"between",children:[(0,D.jsx)(m.xv,{color:"subtle",size:"100",children:E._('Choose a name that will help your employees identify the asset group', '[m10n]businessAccess.assetGroups.form.name.label', 'label of asset group description field')}),(0,D.jsxs)(m.xv,{color:"subtle",size:"100",children:[a.length,"/",50]})]}),(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-form-description-field",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.nv,{id:"description field",placeholder:E._('Description', '[m10n]businessAccess.assetGroups.form.description.placeholder', 'placeholder for asset group description field'),value:h,disabled:i,onChange:function(e){var t=e.event;h.length<200&&b(t.target.value)}})})}),(0,D.jsxs)(m.kC,{justifyContent:"between",children:[(0,D.jsx)(m.xv,{color:"subtle",size:"100",children:E._('Optional', '[m10n]businessAccess.assetGroups.form.description.label', 'label of asset group description field')}),(0,D.jsxs)(m.xv,{color:"subtle",size:"100",children:[h.length,"/",200]})]}),(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:E._('What type of asset group is this?', '[m10n]businessAccess.assetGroups.form.type.label', 'label of asset group type field')})}),(0,D.jsx)(m.xv,{size:"200",children:E._('Choose the options that best describe your asset group', '[m10n]businessAccess.assetGroups.form.type.directions', 'directions for asset group type field')}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-form-brand-checkbox",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.XZ,{id:et.Yd.BRAND,label:(0,B.h7)(E)(et.Yd.BRAND),disabled:i,onChange:function(){return k(et.Yd.BRAND)},checked:A.includes(et.Yd.BRAND),image:(0,D.jsx)(m.kC,{justifyContent:"center",direction:"column",children:(0,D.jsx)(m.JO,{icon:"ad",size:"24",accessibilityLabel:E._('Brand icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.brand', 'Accessibility label for type BRAND checkbox'),color:"dark"})})})})})}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-form-loclang-checkbox",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.XZ,{id:et.Yd.LOCATION_OR_LANGUAGE,label:(0,B.h7)(E)(et.Yd.LOCATION_OR_LANGUAGE),disabled:i,onChange:function(){return k(et.Yd.LOCATION_OR_LANGUAGE)},checked:A.includes(et.Yd.LOCATION_OR_LANGUAGE),image:(0,D.jsx)(m.kC,{justifyContent:"center",direction:"column",children:(0,D.jsx)(m.JO,{icon:"globe",size:"24",accessibilityLabel:E._('Location or language icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.locationLanguage', 'Accessibility label for type location checkbox'),color:"dark"})})})})})}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-form-product-checkbox",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.XZ,{id:et.Yd.PRODUCT_LINE,label:(0,B.h7)(E)(et.Yd.PRODUCT_LINE),disabled:i,onChange:function(){return k(et.Yd.PRODUCT_LINE)},checked:A.includes(et.Yd.PRODUCT_LINE),image:(0,D.jsx)(m.kC,{justifyContent:"center",direction:"column",children:(0,D.jsx)(m.JO,{icon:"insights-conversions",size:"24",accessibilityLabel:E._('Product icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.product', 'Accessibility label for type PRODUCT checkbox'),color:"dark"})})})})})}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-form-other-checkbox",children:(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.XZ,{id:et.Yd.OTHER,label:(0,B.h7)(E)(et.Yd.OTHER),disabled:i,onChange:function(){return k(et.Yd.OTHER)},checked:A.includes(et.Yd.OTHER),image:(0,D.jsx)(m.kC,{justifyContent:"center",direction:"column",children:(0,D.jsx)(m.JO,{icon:"file-unknown",size:"24",accessibilityLabel:E._('Other icon', '[m10n]businessAccess.assetGroups.form.type.iconLabel.other', 'Accessibility label for type OTHER checkbox'),color:"dark"})})})})})})]}),t?(0,D.jsxs)(m.xu,{display:"flex",justifyContent:"between",paddingY:6,onClick:function(){},children:[(0,D.jsx)(m.xu,{"data-test-id":"open-delete-asset-group-modal-button",children:(0,D.jsx)(m.zx,{text:E._('Delete asset group', '[m10n]businessAccess.assetGroups.form.delete.button', 'delete asset group button'),onClick:function(){O(),j({onSuccess:n})},size:"lg",color:"transparent"})}),(0,D.jsxs)(m.kC,{gap:2,children:[(0,D.jsx)(m.zx,{text:E._('Cancel', '[m10n]businessAccess.assetGroups.form.cancel.button', 'cancel asset group button'),onClick:function(){O()},size:"lg"}),(0,D.jsx)(m.xu,{"data-test-id":"asset-groups-save-updates-button",children:(0,D.jsx)(m.zx,{color:"red",text:E._('Save', '[m10n]businessAccess.assetGroups.form.save.button', 'save asset group button'),onClick:L,disabled:0===a.length||i,size:"lg"})})]})]}):(0,D.jsx)(m.xu,{display:"flex",justifyContent:"end",paddingY:6,onClick:function(){},children:(0,D.jsx)(m.xu,{"data-test-id":"create-asset-group-submit-button",children:(0,D.jsx)(m.zx,{color:"red",text:E._('Create', '[m10n]businessAccess.assetGroups.form.create.button', 'create asset group button'),onClick:L,disabled:0===a.length||i,size:"lg"})})})]})}var th=function(e){var t=e.isEdit,n=(0,N.HL)().clearModal,r=(0,N.KJ)(),s=(0,w.ZP)(),i=(0,A.ZP)("BUSINESS_ACCESS_ASSET_GROUPS"),o=function(e){i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"asset-groups-form",element:"BUSINESS_ACCESS_BUTTON",business_id:r,elementId:e})},a=function(e){n(),o(e)},c={heading:t?s._('Edit asset group', '[m10n]businessAccess.assetGroups.form.edit.heading', 'Title of edit asset groups form modal'):s._('Create an asset group', '[m10n]businessAccess.assetGroups.form.heading', 'Title of asset groups form modal'),a11yLabel:t?s._('Edit asset group', '[m10n]businessAccess.assetGroups.edit.form', 'accessibility label of modal for edit asset groups form'):s._('Create an asset group', '[m10n]businessAccess.assetGroups.form', 'accessibility label of modal for asset groups form')},l=(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,D.jsx)(m.X6,{size:"500",accessibilityLevel:1,children:c.heading}),(0,D.jsx)(m.hU,{accessibilityLabel:(0,B.I9)(s),icon:"cancel",iconColor:"gray",size:"sm",onClick:function(){a("asset-groups-form-modal-dismissed")}})]});return(0,D.jsx)(C.ZP,{onDismiss:function(){a("asset-groups-form-modal-dismissed")},accessibilityModalLabel:c.a11yLabel,heading:l,size:"lg",align:"start",children:(0,D.jsx)(m.xu,{children:(0,D.jsx)(tp,{onSuccess:function(){return a(t?"edit-asset-group-form":"create-asset-group-form")},isEdit:t})})})},tb=n(323225),ty=n(42572),tv=function(e){var t=e.id,n=e.creator,r=e.roles,s=(0,w.ZP)();return(0,D.jsxs)(_.Fragment,{children:[t,s._(' \xB7 ', '[m10n]businessAccess.resourceAssignment.separator', 'Visual separator between an account creator and its status'),(0,T.nk)(s._('Creator: {{creator}}', '[m10n]businessAccess.resourceAssignment.creatorText', 'Shows the creator of the selected resource.'),{creator:n}),s._(' \xB7 ', '[m10n]businessAccess.resourceAssignment.separator', 'Visual separator between an account creator and its status'),r.includes("OWNER")||r.includes("ADMIN")?s._('Admin access', '[m10n]businessAccess.resourceAssignment.accessLevelText.full', 'Describes the access an account has to a resource.'):s._('Limited access', '[m10n]businessAccess.resourceAssignment.accessLevelText.limited', 'Describes the access an account has to a resource.')]})},tg=n(709992),tA=n(704454),tS=n(433835),tx=n(49428),tE=n(320843);function tP(e){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tC=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=e.inviteId,i=(0,S.v)().logContextEvent,a=(0,w.ZP)(),c=(0,f.useDispatch)(),l=(0,N.KJ)(!0),u=(0,f.useSelector)(tE.t_),p=(0,N.HL)(),h=p.setAddPartnerInviteConfirmationModal,b=p.clearModal,g=(0,(0,y.C)().getParentHierarchyForIdIfExists)(l),P=null==g?void 0:g.id,I=(0,A.ZP)("BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS"),j=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),C=(0,o.useLocation)(),z=(0,F.F9)(),R=z.showToast,k=z.showOneToast,L=(0,E.F)().checkExperiment,B=L("business_access_employees_api_v4_migration").anyEnabled,U=L("business_access_assets_and_history_api_v4_migration").anyEnabled,M=tj((0,O.Z)(tx.F0,!0,{id:l,limit:v.cU}),3),H=M[0],Z=M[1],q=M[2],Y=tj((0,O.Z)(tx.Eg,!0,{id:l,limit:v.xX}),3),V=Y[0],Q=Y[1],W=Y[2],J=U?v.xX:v.cU,K=tj((0,O.Z)(U?tx.SB:tx.ek,!1,l,t,J),4),X=K[0],$=K[1],ee=K[2],et=K[3];(0,_.useEffect)(function(){s||(U?et({businessId:l,partnerId:t,limit:J}):et(l,t))},[l,t,s]);var en=tj((0,O.Z)(tS.cE,!0,{id:l,limit:U?v.xX:v.cU,forPartner:!0,includeAssetSummary:!0}),3),er=en[0],es=en[1],ei=en[2],eo=(0,o.useRouteMatch)().path.includes(":userBizId/partners/pending"),ea=(0,eH.Z)("partnerInvite",null!=s?s:"",!!s),ec=tj(s?ea:[void 0,void 0,void 0],3),el=ec[0],eu=ec[1],ed=ec[2],e_=tj((0,_.useState)(!1),2),ef=e_[0],em=e_[1];if(Z||$||es||eu)throw new d.zu("partnersError=".concat(Z," partnersV4Error=").concat(Q," partnerAssetsError=").concat($," ")+"adAccountsError=".concat(es," inviteError=").concat(eu||""),(0,eI.Jl)(a));var ep=B?V:H,eh=null==ep?void 0:ep.data.data.find(function(e){return e.id===t}),eb=U?(null==X?void 0:X.data.data)||[]:(null==X?void 0:X.data)||[],ey=(null==er?void 0:er.data.data.filter(function(e){return null===e.client_business}))||[],ev=(null==eh?void 0:eh.user.full_name)||(null==el?void 0:el.extended_user_info.full_name)||"",eg=a._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),eA=(0,D.jsx)(m.qE,{size:"md",src:(null==eh?void 0:eh.user.image_medium_url)||(null==el?void 0:el.extended_user_info.image_small_url),name:ev}),eS=ey.map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,i=e.permissions,o=e.roles;return{id:n,text:r,subtext:n,extendedSubtext:(0,D.jsx)(tv,{id:n,creator:s,roles:o}),disabled:!!(null!=eb&&eb.find(function(e){return e.asset_id===n})),assignableRoles:(0,tg.u)(U?i:o)}});return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.Jl)(a),modalAccessibilityLabel:(0,eI.li)(a),buttonLabel:(0,eI.hu)(a),selectedOptionDetailsText:(0,eI.ms)(a),text:ev,subtext:eg,image:eA,cancelText:s?a._('Skip for now', '[m10n]bizAccess.invite.adAccounts.skip', 'Text to skip requesting ad account step'):a._('Cancel', '[m10n]bizAccess.invite.adAccounts.cancel', 'Text to cancel requesting ad account'),onDismiss:s?function(){h({selectedId:t,role:v.uE.PARTNER,inviteId:s||""})}:null,footerSecondaryContent:s?(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:a._('Step 2 of 2', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,counterTextFunction:function(e){return(0,T.nk)(a.ngettext('{{count}} account selected', '{{count}} accounts selected', e, '[m10n]businessAccess.resourceAssignment.selectedAccounts', 'Selected accounts count.'),{count:e})},searchPlaceholder:a._('Search ad accounts', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectionPlaceholder:a._('Select an ad account to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an ad account to assign permissions message. Shows when no role resource is selected'),selectionOptions:eS,loading:q||W||ee||ei||ef||ed,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var d,_,f;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,em(!0),!s){o.next=8;break}return o.next=5,(0,tS.ib)(l,Object.keys(e).map(function(t){var n,r,s;return n={},r=t,s=e[t],(r=function(e){var t=function(e,t){if("object"!==tP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tP(t)?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}),[s],"PARTNER",P);case 5:eo&&c((0,tA.R)(u,"PARTNER",l)),o.next=10;break;case 8:return o.next=10,(0,tS.oC)(l,Object.keys(e).map(function(n){return{assigneeIds:[t],adAccountIds:[n],roles:e[n]}}),"PARTNER",P);case 10:r(),Object.keys(e).forEach(function(e){(0,x.dK)(C)?j({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}):(I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}),i({event_type:8965,component:13640,aux_data:{business_id:l,ad_account_id:e}}))}),s?h({selectedId:t,role:v.uE.PARTNER,inviteId:s}):(b(),k(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})})),o.next=20;break;case 15:o.prev=15,o.t0=o.catch(0),n(),R(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:(0,eI.dg)(o.t0.api_error_code,a,!0)})}),(0,x.dK)(C)?j({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:(null===(d=o.t0.stack)||void 0===d?void 0:d.slice(0,4096))||o.t0.message}):(I({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:(null===(_=o.t0.stack)||void 0===_?void 0:_.slice(0,4096))||o.t0.message}),i({event_type:8966,component:13640,aux_data:{business_id:l,error_class:JSON.stringify(o.t0).slice(0,64),error_message:(null===(f=o.t0.stack)||void 0===f?void 0:f.slice(0,4096))||o.t0.message}}));case 20:case"end":return o.stop()}},o,null,[[0,15]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function i(e){tI(s,n,r,i,a,"next",e)}function a(e){tI(s,n,r,i,a,"throw",e)}i(void 0)})})()}})},tw=n(165544);function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tz(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function tR(e){return function(e){if(Array.isArray(e))return tU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tB(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(t){tk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tk(e,t,n){var r;return(r=function(e,t){if("object"!==tT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===tT(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||tB(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tB(e,t){if(e){if("string"==typeof e)return tU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tU(e,t)}}function tU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tM=function(e){var t,n,r,s,i=e.selectedIds,a=e.handleError,c=e.refreshData,l=e.roleType,u=e.peopleIdentifiers,p=e.inviteIds,h=e.showProfiles,b=(0,S.v)().logContextEvent,g=(0,w.ZP)(),P=(0,N.HL)().clearModal,I=(0,N.HL)().setAddPeopleInviteWithAssetsConfirmationModal,j=(0,N.KJ)(!0),C=(0,(0,y.C)().getParentHierarchyForIdIfExists)(j),R=null==C?void 0:C.id,k=(0,A.ZP)("BUSINESS_ACCESS_EMPLOYEE_DETAIL_AD_ACCOUNTS"),L=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),U=(0,o.useLocation)(),M=(0,f.useDispatch)(),H=(0,F.F9)(),Z=H.showToast,q=H.showOneToast,Y=(0,E.F)().checkExperiment,V=Y("web_m10n_business_access_orbac_ga").anyEnabled,Q=Y("business_access_employees_api_v4_migration").anyEnabled,W=Y("business_access_assets_and_history_api_v4_migration").anyEnabled,J=Y("web_m10n_business_access_employee_redesign").anyEnabled,K=tL((0,O.Z)(z.b,!0,j),3),X=K[0],$=K[1],ee=K[2],et=tL((0,O.Z)(Q?function(e){return(0,tw.dF)(e,v.cU,"PEOPLE")}:ti.kH,!0,{id:j,limit:v.cU}),3),en=et[0],er=et[1],es=et[2],ei=tL((0,O.Z)(tx.F0,!0,{id:j,limit:v.cU}),3),eo=ei[0],ea=ei[1],ec=ei[2],el=tL((0,O.Z)(tx.Eg,!0,{id:j,limit:v.xX}),3),eu=el[0],ed=el[1],e_=el[2],ef=tL((0,O.Z)(ti.UQ,!1,j,i[0],0),4),em=ef[0],ep=ef[1],eh=ef[2],eb=ef[3],ey=tL((0,O.Z)(tS.cp,!0,{id:j,limit:W?v.xX:v.cU}),3),ev=ey[0],eg=ey[1],eA=ey[2];(0,_.useEffect)(function(){p&&p.length>0||eb(j,i[0],0)},[j,i[0],p]);var eS=tL((0,O.Z)(tS.eo,!1,{id:j,assetIds:[],limit:v.cU,type:v.tP.PROFILE}),4),ex=eS[0],eE=eS[1],eP=eS[2],ej=eS[3];(0,_.useEffect)(function(){!eA&&ev&&ej({id:j,assetIds:ev.data.data.map(function(e){return e.asset_id}),limit:v.cU,type:v.tP.PROFILE})},[j,ev,eA]),(0,_.useEffect)(function(){!eA&&ev&&ej({id:j,assetIds:ev.data.data.map(function(e){return e.asset_id}),limit:v.cU,type:v.tP.PROFILE})},[j,ev,eA]);var eO=tL((0,O.Z)(tS.cE,!0,tD({id:j,limit:W?v.xX:v.cU},W?{includeAssetSummary:!0}:{})),3),eC=eO[0],ew=eO[1],eT=eO[2],ez=tL((0,_.useState)(!1),2),eR=ez[0],eN=ez[1];if($||er||ea||ed||ep||ew||eg||eE)throw new d.zu("businessDetailsError=".concat($," peopleError=").concat(er," partnersError=").concat(ea," ")+"partnersV4Error=".concat(ed," personAssetsError=").concat(ep," adAccountsError=").concat(ew),(0,eI.Jl)(g));var eD=(null==en?void 0:en.data.data.filter(function(e){var t=e.id;return i.includes(t)}))||[],ek=null==eD?void 0:eD.map(function(e){return e.user}),eL=(0,B.MX)(l?[l]:null==eD?void 0:eD.map(function(e){var t=e.biz_roles,n=e.business_roles;return Q?n[0]:t[0]}),g),eB=em||[],eU=(null==eo?void 0:null===(t=eo.data)||void 0===t?void 0:t.data)||[],eM=(null==eu?void 0:null===(n=eu.data)||void 0===n?void 0:n.data)||[],eH=Q?eM:eU,eZ=(null==eC?void 0:null===(r=eC.data)||void 0===r?void 0:r.data)||[],eG=(null==ex?void 0:null===(s=ex.data)||void 0===s?void 0:s.data)||[],eF=1===eD.length?ek[0].full_name:eL,eq=1===eD.length?eL:void 0,eY=eD.length||i.length||p&&p.length||0,eV=new Set(eZ.map(function(e){return e.owner.id})),eQ=new Set(Object.keys(eG)),eW=eH.filter(function(e){return eV.has(e.user.id)||V&&h&&eQ.has(e.user.id)}),eJ=[{id:j,text:(null==X?void 0:X.full_name)||"",subtext:g._('Your business', '[m10n]businessAccess.resourceAssignment.yourBusinessText', 'Text to show in case the owner owns the business'),image:null==X?void 0:X.image_small_url,experience:V?{experienceId:504998,placementId:1000303}:null}].concat(tR(eW.map(function(e){var t=e.user,n=t.id,r=t.full_name,s=t.image_small_url;return{id:n,text:r,subtext:g._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),image:s,experience:V?{experienceId:504998,placementId:1000303}:null}}))),eK=1===eD.length?(0,D.jsx)(m.qE,{size:"md",src:ek[0].image_medium_url,name:ek[0].full_name}):(0,D.jsx)(m.xu,{width:32,height:32,color:"secondary",rounding:"circle",display:"flex",alignItems:"center",justifyContent:"center",children:(0,D.jsx)(m.xv,{weight:"bold",children:eY})}),eX=V&&h?Object.keys(eG).map(function(e){return{id:e,text:eG[e].asset.name,subtext:e,extendedSubtext:(0,D.jsx)(tv,{id:e,creator:eG[e].created_by.full_name,roles:j===eG[e].owner.id?[v.V3.OWNER]:v.Hg}),category:"profile-".concat(eG[e].owner.id),disabled:!!(null!=eB&&eB.find(function(t){return t.asset_id===e})),assignableRoles:v.Hg}}):[],e$=[].concat(tR(eZ.map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,i=e.owner,o=e.permissions,a=e.roles;return{id:n,text:r,subtext:n,extendedSubtext:(0,D.jsx)(tv,{id:n,creator:s,roles:W?o:a}),category:"ad-account-".concat(i.id),disabled:!!(null!=eB&&eB.find(function(e){return e.asset_id===n})),assignableRoles:(0,tg.u)(W?o:a)}})),tR(eX));return(0,D.jsx)(tn.Z,{modalTitle:V?(0,eI.BL)(g):(0,eI.Jl)(g),modalAccessibilityLabel:(0,eI.li)(g),buttonLabel:V?(0,eI.e$)(g):(0,eI.hu)(g),selectedOptionDetailsText:(0,eI.ms)(g),text:eF,subtext:eq,invitedPeopleIdentifiers:p&&p.length>0&&V&&u?u:[],image:eK,counterTextFunction:function(e){return(0,T.nk)(g.ngettext('{{count}} account selected', '{{count}} accounts selected', e, '[m10n]businessAccess.resourceAssignment.selectedAccounts', 'Selected accounts count.'),{count:e})},searchPlaceholder:V?g._('Business ad account name or ID', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'):g._('Search ad accounts', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectionPlaceholder:V?g._('Select a business to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an ad account to assign permissions message. Shows when no role resource is selected'):g._('Select an ad account to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an ad account to assign permissions message. Shows when no role resource is selected'),footerSecondaryContent:V?(0,D.jsx)(m.xv,{size:"200",color:"subtle",children:"Step 2 of 2"}):null,selectionOptions:e$,selectionCategories:eJ,loading:ee||es||ec||e_||eh||eT||eR||eP,cancelText:V?(0,B.nD)(g):(0,B.I9)(g),onDismiss:p&&p.length>0&&V?function(){var e=u&&u.length||0,t=eL.toLowerCase();Z(function(n){var r=n.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:r,text:(0,T.nk)(g.ngettext('{{numPeople}} {{role}} invitation sent!', '{{numPeople}} {{role}} invitations sent!', e, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of ad accounts for business is including in invite. numPeople: number of people invited role: type of role invited people were assigned'),{numPeople:e,role:t}).join("")})})}:null,onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var n,r,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,eN(!0),!(p&&p.length>0)){t.next=7;break}return t.next=5,(0,tS.ib)(j,Object.keys(e).map(function(t){return tk({},t,e[t])}),p,"PEOPLE",R);case 5:t.next=11;break;case 7:return n=Object.keys(e),t.next=10,(0,tS.oC)(j,n.map(function(t){return{assigneeIds:i,adAccountIds:[t],roles:e[t]}}),"PEOPLE",R);case 10:J&&M((0,e2.Fg)({employeeId:i[0],addedAdAccounts:eZ.filter(function(e){return n.includes(e.asset.id)}).map(function(t){return tD(tD({},t),{},{roles:e[t.asset.id].includes("ADMIN")?["ADMIN"]:e[t.asset.id]})})}));case 11:c(),P(),Object.keys(e).forEach(function(t){e[t].includes("PROFILE_PUBLISHER")||((0,x.dK)(U)?L({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:t}):(k({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:t}),b({event_type:8965,component:13640,aux_data:{business_id:j,ad_account_id:t}})))}),p&&p.length>0&&u&&V&&I({inviteIds:p,invitedPeopleIdentifiers:u}),p&&0!==p.length||q(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(0),a(),Z(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:n,text:(0,eI.dg)(t.t0.api_error_code,g)})}),(0,x.dK)(U)?L({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null===(r=t.t0.stack)||void 0===r?void 0:r.slice(0,4096))||t.t0.message}):(k({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"ad-accounts-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null===(s=t.t0.stack)||void 0===s?void 0:s.slice(0,4096))||t.t0.message}),b({event_type:8966,component:13640,aux_data:{business_id:j,error_class:JSON.stringify(t.t0).slice(0,64),error_message:(null===(o=t.t0.stack)||void 0===o?void 0:o.slice(0,4096))||t.t0.message}}));case 23:case"end":return t.stop()}},t,null,[[0,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){tz(i,r,s,o,a,"next",e)}function a(e){tz(i,r,s,o,a,"throw",e)}o(void 0)})})()}})};function tH(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function tZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tF=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.v)().logContextEvent,i=(0,o.useLocation)(),a=(0,w.ZP)(),c=(0,N.HL)().clearModal,l=(0,N.KJ)(),u=(0,N.KJ)(!0),f=l||u,m=(0,(0,y.C)().getParentHierarchyForIdIfExists)(f),p=null==m?void 0:m.id,h=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),b=(0,F.F9)(),g=b.showToast,P=b.showOneToast,I=(0,(0,E.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,j=tZ((0,O.Z)(tx.M9,!0,f,v.cU),3),C=j[0],z=j[1],R=j[2],k=tZ((0,O.Z)(tS.cE,!0,{id:f,limit:I?v.xX:v.cU,includeAssetSummary:!0}),3),L=k[0],B=k[1],U=k[2],M=tZ((0,_.useState)(!1),2),H=M[0],Z=M[1];if(z||B)throw new d.zu("partnersWithAssetsError=".concat(z," adAccountsError=").concat(B),(0,eI.Jl)(a));var q=null==L?void 0:L.data.data.find(function(e){return e.asset_id===t}),Y=(null==q?void 0:q.roles)||[],V=(null==q?void 0:q.asset.name)||"",Q=(null==q?void 0:q.asset_id)||"",W=(null==C?void 0:C.filter(function(e){var t;return(null===(t=e.created_by_business)||void 0===t?void 0:t.id)===f}).map(function(e){var n=e.user,r=n.id,s=n.username;return{id:r,text:n.full_name,subtext:s,image:n.image_small_url,disabled:!!e.assets.find(function(e){return e.asset_id===t}),assignableRoles:(0,tg.u)(Y)}}))||[];return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.Jl)(a),modalAccessibilityLabel:(0,eI.li)(a),buttonLabel:(0,eI.hu)(a),selectedOptionDetailsText:(0,eI.ms)(a),text:V,subtext:Q,counterTextFunction:function(e){return(0,T.nk)(a.ngettext('{{count}} partner selected', '{{count}} partners selected', e, '[m10n]businessAccess.principalAssignment.selectedPartners', 'Selected partners count.'),{count:e})},searchPlaceholder:a._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectionPlaceholder:a._('Select a partner to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a partner to assign permissions message. Shows when no role partner is selected'),selectionOptions:W,loading:R||U||H,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var l,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,Z(!0),o.next=4,(0,tS.oC)(f,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],roles:e[n]}}),"PARTNER",p);case 4:r(),c(),(0,x.dK)(i)?h({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:t}):s({event_type:8965,component:13640,aux_data:{business_id:f,ad_account_id:t}}),P(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(0),n(),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:(0,eI.dg)(o.t0.api_error_code,a,!0)})}),(0,x.dK)(i)?h({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:(null===(l=o.t0.stack)||void 0===l?void 0:l.slice(0,4096))||o.t0.message}):s({event_type:8966,component:13640,aux_data:{business_id:f,error_class:JSON.stringify(o.t0).slice(0,64),error_message:(null===(u=o.t0.stack)||void 0===u?void 0:u.slice(0,4096))||o.t0.message}});case 15:case"end":return o.stop()}},o,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function i(e){tH(s,n,r,i,a,"next",e)}function a(e){tH(s,n,r,i,a,"throw",e)}i(void 0)})})()}})},tq=n(823010);function tY(e){return(tY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tQ(e,t,n){var r;return(r=function(e,t){if("object"!==tY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===tY(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function tJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tK(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tX=function(e){var t,n=e.selectedId,r=e.handleError,s=e.refreshData,i=e.isPendingAoaa,a=e.assetId,c=(0,(0,E.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,l=(0,S.v)().logContextEvent,u=(0,o.useLocation)(),m=(0,w.ZP)(),p=(0,N.HL)().clearModal,h=(0,N.KJ)(),b=(0,N.KJ)(!0),g=h||b,P=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),I=(0,N.nU)(),j=(0,N.nU)(!0),C=I||j,z=(0,(0,y.C)().getParentHierarchyForIdIfExists)(g),R=null==z?void 0:z.id,k=(0,F.F9)(),L=k.showToast,B=k.showOneToast,U=(0,f.useSelector)((0,tq.PP)(C)),M=tJ((0,O.Z)(ti.kH,!0,{id:g,limit:v.cU}),3),H=M[0],Z=M[1],q=M[2],Y=tJ((0,O.Z)(i?function(){return[null,null,null]}:tS.BG,!0,{businessId:g,assetId:C||a,MAX_FETCH_LIMIT:v.cU}),3),V=Y[0],Q=Y[1],W=Y[2],J=tJ((0,O.Z)(tS.cE,!0,{id:g,limit:c?v.xX:v.cU,includeAssetSummary:!0}),3),K=J[0],X=J[1],$=J[2],ee=tJ((0,_.useState)(!1),2),et=ee[0],en=ee[1];if(X||Z||Q)throw new d.zu("adAccountsError=".concat(X," peopleError=").concat(Z," assetPeopleError=").concat(Q),(0,eI.Jl)(m));var er=null==K?void 0:K.data.data.find(function(e){return e.asset_id===n}),es=(null==er?void 0:er.roles)||[],ei=i?(null==U?void 0:U.name)||"":(null==er?void 0:er.asset.name)||"",eo=(null==er?void 0:er.asset_id)||"",ea=(null==H?void 0:null===(t=H.data.data)||void 0===t?void 0:t.map(function(e){var t=e.user,n=t.id,r=t.username;return{id:n,text:t.full_name,subtext:r,image:t.image_small_url,disabled:i?!!(null!=U&&U.permissions.find(function(e){return Object.keys(e)[0]===n})):!!(null!=V&&V.data.data.find(function(e){return e.id===n})),assignableRoles:i?v.j$:(0,tg.u)(es)}}))||[];return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.Jl)(m),modalAccessibilityLabel:(0,eI.li)(m),buttonLabel:(0,eI.hu)(m),selectedOptionDetailsText:(0,eI.ms)(m),text:ei,subtext:eo,counterTextFunction:function(e){return(0,T.nk)(m.ngettext('{{count}} employee selected', '{{count}} employees selected', e, '[m10n]businessAccess.principalAssignment.selectedEmployee', 'Selected employee count.'),{count:e})},searchPlaceholder:m._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectionPlaceholder:m._('Select an employee to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),selectionOptions:ea,loading:$||et||q||W,onSubmit:function(e){var t;(t=regeneratorRuntime.mark(function t(){var o,a,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,en(!0),!i){t.next=10;break}return o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(n),!0).forEach(function(t){tQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),U.permissions.forEach(function(e){var t=Object.keys(e)[0];o[t]=e[t]}),a=Object.keys(o).map(function(e){return tQ({},e,o[e])}),t.next=8,(0,ts.SA)({businessId:g,partnerId:U.client_business.id,requestId:C,businessHierarchyNodeId:R,businessIdToPermissions:a});case 8:t.next=12;break;case 10:return t.next=12,(0,tS.oC)(g,Object.keys(e).map(function(t){return{assigneeIds:[t],adAccountIds:[n],roles:e[t]}}),"PEOPLE",R);case 12:s(),p(),(0,x.dK)(u)?P({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:n}):l({event_type:8965,component:13640,aux_data:{business_id:g,ad_account_id:n}}),B(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(0),r(),L(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:n,text:(0,eI.dg)(t.t0.api_error_code,m)})}),(0,x.dK)(u)?P({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null===(c=t.t0.stack)||void 0===c?void 0:c.slice(0,4096))||t.t0.message,ad_account_id:n}):l({event_type:8966,component:13640,aux_data:{business_id:g,error_class:JSON.stringify(t.t0).slice(0,64),error_message:(null===(d=t.t0.stack)||void 0===d?void 0:d.slice(0,4096))||t.t0.message}});case 23:case"end":return t.stop()}},t,null,[[0,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){tW(i,r,s,o,a,"next",e)}function a(e){tW(i,r,s,o,a,"throw",e)}o(void 0)})})()}})},t$=n(6189),t0=function(e){var t=e.dataToRefresh,n=e.selectedIds,r=e.selectionType,s=e.assignmentType,i=e.inviteIds,o=e.roleType,a=e.peopleIdentifiers,c=e.showProfiles,l=(0,E.F)(),u=(0,w.ZP)(),d=(0,F.F9)().showToast,_=(0,f.useDispatch)(),m=(0,N.KJ)(),p=(0,N.KJ)(!0),h=m||p,b=(0,N.nU)(),y=(0,N.nU)(!0),g=b||y,A=(0,f.useSelector)(tE.t_),S=(0,N.HL)().clearModal,x=(0,tb.Z)(h,g),P=function(){h&&("PENDING_PEOPLE_LIST"===t&&_((0,tA.R)(A,"MEMBER",h)),"PEOPLE_LIST"===t&&_((0,er.JC)({businessId:h,detailId:g})),"PARTNER_LIST"===t&&_((0,en.F0)({businessId:h,detailId:g})),"PARTNER_INVITE"===t&&_((0,t$.H7)()),g&&("HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===t&&(_((0,eR.Q3)({businessId:h,detailId:g})),_((0,ee.yX)({businessId:h,detailId:g,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===t&&_((0,eR.yX)({businessId:h,detailId:g})),"HIERARCHY_EMPLOYEE_DETAILS_AD_ACCOUNTS"===t&&(null==x||x()),"PEOPLE"===t&&_((0,er.UQ)({businessId:h,detailId:g,includeAssetSummary:!0,assetPermissionType:0,experimentsClient:l})),"PARTNER"===t&&_((0,en.ek)({businessId:h,detailId:g,experimentsClient:l})),"AD_ACCOUNT_PEOPLE"===t&&_((0,ee.Q3)({businessId:h,detailId:g})),"AD_ACCOUNT_PARTNER"===t&&_((0,ee.yX)({businessId:h,detailId:g})),"AOAA_REQUEST_DETAIL_PAGE"===t&&_((0,tr.vm)({businessId:h,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[g]}))))},I=function(){d(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(u),type:"error"})}),S()};return r===v.c7.AD_ACCOUNT?"PEOPLE"===s?(0,D.jsx)(tM,{selectedIds:n,handleError:I,refreshData:P,roleType:o,inviteIds:i||[],peopleIdentifiers:a,showProfiles:c}):(0,D.jsx)(tC,{selectedId:n[0],handleError:I,refreshData:P,roleType:o,inviteId:i&&i[0]}):r===v.c7.PERSON?(0,D.jsx)(tX,{selectedId:n[0],handleError:I,refreshData:P,isPendingAoaa:"AOAA_REQUEST_DETAIL_PAGE"===t,assetId:n[0]}):(0,D.jsx)(tF,{selectedId:n[0],handleError:I,refreshData:P})};function t1(e){return(t1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t2(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function t3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t6(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t4=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=e.inviteId,i=(0,S.v)().logContextEvent,a=(0,w.ZP)(),c=(0,f.useDispatch)(),l=(0,N.KJ)(!0),u=(0,f.useSelector)(tE.t_),p=(0,N.HL)(),h=p.setAddPartnerInviteConfirmationModal,b=p.clearModal,y=(0,A.ZP)("BUSINESS_ACCESS_PARTNER_DETAIL_AD_ACCOUNTS"),g=(0,F.F9)(),x=g.showToast,P=g.showOneToast,I=(0,E.F)().checkExperiment,j=I("business_access_employees_api_v4_migration").anyEnabled,C=I("business_access_assets_and_history_api_v4_migration").anyEnabled,R=t3((0,O.Z)(tx.F0,!0,{id:l,limit:v.cU}),3),k=R[0],L=R[1],B=R[2],U=t3((0,O.Z)(tx.Eg,!0,{id:l,limit:v.xX}),3),M=U[0],H=U[1],Z=U[2],q=C?v.xX:v.cU,Y=t3((0,O.Z)(C?tx.SB:tx.ek,!1,l,t,q),4),V=Y[0],Q=Y[1],W=Y[2],J=Y[3];(0,_.useEffect)(function(){s||J(l,t)},[l,t,s]);var K=t3((0,O.Z)(tS.cE,!0,{id:l,limit:C?v.xX:v.cU,forPartner:!0,includeAssetSummary:!0}),3),X=K[0],$=K[1],ee=K[2],et=t3((0,O.Z)(z.b,!0,l),3),en=et[0],er=et[1],es=et[2],ei=(0,o.useRouteMatch)().path.includes(":userBizId/partners/pending"),eo=(0,eH.Z)("partnerInvite",null!=s?s:"",!!s,!0),ea=t3(s?eo:[void 0,void 0,void 0],3),ec=ea[0],el=ea[1],eu=ea[2],ed=t3((0,_.useState)(!1),2),e_=ed[0],ef=ed[1];if(L||H||Q||$||el||er)throw new d.zu("partnersError=".concat(L," partnersV4Error=").concat(H," partnerAssetsError=").concat(Q," ")+"adAccountsError=".concat($," inviteError=").concat(el||""),(0,eI.BL)(a));var em=j?M:k,ep=null==em?void 0:em.data.data.find(function(e){return e.id===t}),eh=null==V?void 0:V.data,eb=(null==X?void 0:X.data.data)||[],ey=(null==ep?void 0:ep.user.full_name)||(null==ec?void 0:ec.extended_user_info.full_name)||"",ev=a._('Partner', '[m10n]bizAccess.partners.role', 'Partners business role'),eg=(0,D.jsx)(m.qE,{size:"md",src:(null==ep?void 0:ep.user.image_medium_url)||(null==ec?void 0:ec.extended_user_info.image_small_url),name:ey}),eA=[{id:l,text:(null==en?void 0:en.full_name)||"",subtext:a._('Your business', '[m10n]businessAccess.resourceAssignment.yourBusinessText', 'Text to show in case the owner owns the business'),level:0},{id:"".concat(l,"-ad-accounts"),text:a._('Ad accounts', '[m10n]businessAccess.resourceAssignment.adAccounts', 'Text to show to group ad accounts'),level:1}],eS=eb.filter(function(e){return!e.client_business}).map(function(e){var t=e.asset,n=t.id,r=t.name,s=e.created_by.full_name,i=e.permissions,o=e.roles;return{id:n,text:r,subtext:n,extendedSubtext:(0,D.jsx)(tv,{id:n,creator:s,roles:C?i:o}),disabled:!!(null!=eh&&eh.find(function(e){return e.asset_id===n})),assignableRoles:(0,tg.u)(C?i:o),category:"".concat(l,"-ad-accounts"),level:1}});return eS.push({id:"".concat(l,"-profile"),text:a._('Profile', '[m10n]businessAccess.resourceAssignment.profiles', 'Text to show to select a business profile permission settings'),disabled:!1,assignableRoles:["PROFILE_PUBLISHER"],category:l,level:0}),(0,D.jsx)(tn.Z,{modalTitle:(0,eI.BL)(a),modalAccessibilityLabel:(0,eI.li)(a),buttonLabel:(0,eI.hu)(a),selectedOptionDetailsText:(0,eI.ms)(a),text:ey,subtext:ev,image:eg,cancelText:s?a._('Skip for now', '[m10n]bizAccess.invite.adAccounts.skip', 'Text to skip requesting ad account step'):a._('Cancel', '[m10n]bizAccess.invite.adAccounts.cancel', 'Text to cancel requesting ad account'),onDismiss:s?function(){h({selectedId:t,role:v.uE.PARTNER,inviteId:s||""})}:null,footerSecondaryContent:s?(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:a._('Step 2 of 2', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,counterTextFunction:function(e){return(0,T.nk)(a.ngettext('{{count}} asset selected', '{{count}} assets selected', e, '[m10n]businessAccess.resourceAssignment.selectedAssets', 'Selected assets count. count:number of assets selected'),{count:e})},searchPlaceholder:a._('Search ad accounts', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectionPlaceholder:a._('Select a profile or ad account to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAssetAccessToMessage', 'Select a profile or ad account to assign permissions message. Shown when no role resource is selected'),selectionOptions:eS,selectionCategories:eA,hasSelectionTreeCategories:!0,loading:B||Z||W||ee||e_||eu||es,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var d,_,f;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,d=Object.keys(e).reduce(function(t,n){var r=n.match(/\d+/g);return t[r?r[0]:""]=e[n],t},{}),ef(!0),!s){o.next=7;break}return o.next=6,(0,tS.ib)(l,Object.keys(d).map(function(e){var t,n,r;return t={},n=e,r=d[e],(n=function(e){var t=function(e,t){if("object"!==t1(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==t1(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t1(t)?t:String(t)}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}),[s],"PARTNER");case 6:ei&&c((0,tA.R)(u,"PARTNER",l));case 7:r(),Object.keys(eb).forEach(function(e){y({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"assets-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e}),i({event_type:8965,component:13640,aux_data:{business_id:l,ad_account_id:e}})}),s?h({selectedId:t,role:v.uE.PARTNER,inviteId:s}):(b(),P(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})})),o.next=18;break;case 12:o.prev=12,o.t0=o.catch(0),n(),x(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:a._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the asset assignment has failed.')})}),y({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"assets-to-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(o.t0).slice(0,64),errorMessage:(null===(_=o.t0.stack)||void 0===_?void 0:_.slice(0,4096))||o.t0.message}),i({event_type:8966,component:13640,aux_data:{business_id:l,error_class:JSON.stringify(o.t0).slice(0,64),error_message:(null===(f=o.t0.stack)||void 0===f?void 0:f.slice(0,4096))||o.t0.message}});case 18:case"end":return o.stop()}},o,null,[[0,12]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function i(e){t2(s,n,r,i,a,"next",e)}function a(e){t2(s,n,r,i,a,"throw",e)}i(void 0)})})()}})},t8=function(e){var t=(0,w.ZP)(),n=e.selectedIds,r=e.inviteId,s=e.dataToRefresh,i=(0,F.F9)().showToast,o=(0,f.useDispatch)(),a=(0,N.KJ)(),c=(0,N.HL)().clearModal;return(0,D.jsx)(t4,{selectedId:n[0],handleError:function(){i(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,B.sQ)(t),type:"error"})}),c()},refreshData:function(){a&&"PARTNER_INVITE"===s&&o((0,t$.H7)())},inviteId:r})},t9=n(177695),t5=n(896282);function t7(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nn=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.v)().logContextEvent,i=(0,w.ZP)(),a=(0,o.useLocation)(),c=(0,N.KJ)(!0),l=(0,N.nU)(!0),u=(0,N.HL)().clearModal,m=(0,(0,y.C)().getParentHierarchyForIdIfExists)(c),p=null==m?void 0:m.id,h=(0,f.useSelector)((0,eu.Tj)(l)).owner,b=(0,A.ZP)("BUSINESS_ACCESS_PROFILE_DETAIL_PARTNERS"),g=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),E=(0,F.F9)(),P=E.showToast,I=E.showOneToast,j=i._('{{name}} profile permissions', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected partner for profile permission sharing. name: Name of selected partner'),C=ne((0,O.Z)(tx.M9,!0,c,v.xX,!0),3),T=C[0],z=C[1],R=C[2],k=ne((0,_.useState)(!1),2),L=k[0],B=k[1];if(z)throw new d.zu("partnersWithAssetsError=".concat(z),(0,eI.sv)(i));var U=null==h?void 0:h.full_name,M=null==h?void 0:h.username,H=(null==T?void 0:T.filter(function(e){var t;return(null===(t=e.created_by_business)||void 0===t?void 0:t.id)===c}).map(function(e){var n=e.user;return{id:n.id,text:n.full_name,image:n.image_small_url,disabled:!!e.assets.find(function(e){return e.asset_id===t}),assignableRoles:v.Hg}}))||[];return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.sv)(i),modalAccessibilityLabel:(0,eI.uV)(i),buttonLabel:(0,eI.Ab)(i),selectedOptionDetailsText:j,text:U,subtext:M,searchPlaceholder:i._('Search businesses', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectionPlaceholder:i._('Select a business to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select a partner to assign permissions message. Shows when no role person is selected'),selectionOptions:H,loading:R||L,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var l,d,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,B(!0),o.next=4,(0,tS.oC)(c,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],roles:e[n]}}),"PARTNER",p);case 4:r(),u(),I(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),(0,x.dK)(a)?g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}):(b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}),s({event_type:8965,component:13852,aux_data:{business_id:c,profile_id:t}})),o.next=17;break;case 10:o.prev=10,o.t0=o.catch(0),n(),P(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,eI.dg)(o.t0.api_error_code,i,!0),type:"error"})}),l=o.t0,o.t0 instanceof Error||(l=Error(l)),(0,x.dK)(a)?g({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t,errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null===(d=l.stack)||void 0===d?void 0:d.slice(0,4096))||l.message}):(b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partners-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(l).slice(0,64),errorMessage:(null===(_=l.stack)||void 0===_?void 0:_.slice(0,4096))||l.message}),s({event_type:8966,component:13852,aux_data:{business_id:c}}));case 17:case"end":return o.stop()}},o,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function i(e){t7(s,n,r,i,a,"next",e)}function a(e){t7(s,n,r,i,a,"throw",e)}i(void 0)})})()}})};function nr(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var no=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,S.v)().logContextEvent,i=(0,w.ZP)(),a=(0,N.KJ)(!0),c=(0,N.nU)(!0),l=(0,o.useLocation)(),u=(0,N.HL)().clearModal,m=(0,(0,y.C)().getParentHierarchyForIdIfExists)(a),p=null==m?void 0:m.id,h=(0,f.useSelector)((0,eu.Tj)(c)).owner,b=(0,F.F9)(),g=b.showToast,E=b.showOneToast,P=(0,A.ZP)("BUSINESS_ACCESS_PROFILE_DETAIL_EMPLOYEES"),I=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),j=i._('{{name}} profile permissions', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected employee for profile sharing. name: Name of selected employee'),C=ns((0,O.Z)(ti.kH,!0,{id:a,limit:v.cU}),3),T=C[0],z=C[1],R=C[2],k=ns((0,O.Z)(tS.BG,!0,{businessId:a,assetId:c,MAX_FETCH_LIMIT:v.cU}),3),L=k[0],B=k[1],U=k[2],M=ns((0,O.Z)(tS.eo,!0,{id:a,assetIds:[t],limit:v.cU,type:v.tP.PROFILE}),3),H=M[0],Z=M[1],q=M[2],Y=ns((0,_.useState)(!1),2),V=Y[0],Q=Y[1];if(Z||z||B)throw new d.zu("profilesResponseError=".concat(Z," peopleError=").concat(z," assetPeopleError=").concat(B),(0,eI.sv)(i));var W=null==h?void 0:h.full_name,J=null==h?void 0:h.username;if(!h){var K,X,$,ee=(null==H?void 0:H.data.data)||[];W=null===(X=ee[t])||void 0===X?void 0:X.owner.full_name,J=(null===($=ee[t])||void 0===$?void 0:$.owner.username)+" • Partner"}var et=(null==T?void 0:null===(K=T.data.data)||void 0===K?void 0:K.map(function(e){var t=e.user,n=t.id;return{id:n,text:t.full_name,image:t.image_small_url,disabled:!!(null!=L&&L.data.data.find(function(e){return e.id===n})),assignableRoles:v.Hg}}))||[];return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.sv)(i),modalAccessibilityLabel:(0,eI.uV)(i),buttonLabel:(0,eI.Ab)(i),selectedOptionDetailsText:j,text:W,subtext:J,searchPlaceholder:i._('Search name', '[m10n]businessAccess.principalAssignment.filterPrincipalListText', 'Filter principal list text field'),selectionPlaceholder:i._('Select an employee to assign permissions', '[m10n]businessAccess.principalAssignment.grantAccessToMessage', 'Select an employee to assign permissions message. Shows when no role person is selected'),selectionOptions:et,loading:q||V||R||U,onSubmit:function(e){var o;(o=regeneratorRuntime.mark(function o(){var c,d,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,Q(!0),o.next=4,(0,tS.oC)(a,Object.keys(e).map(function(n){return{assigneeIds:[n],adAccountIds:[t],roles:e[n]}}),"PEOPLE",p);case 4:r(),u(),E(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),(0,x.dK)(l)?I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}):(P({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:t}),s({event_type:8965,component:13852,aux_data:{business_id:a,profile_id:t}})),o.next=17;break;case 10:o.prev=10,o.t0=o.catch(0),n(),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,eI.dg)(o.t0.api_error_code,i),type:"error"})}),c=o.t0,o.t0 instanceof Error||(c=Error(c)),(0,x.dK)(l)?I({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(c).slice(0,64),errorMessage:(null===(d=c.stack)||void 0===d?void 0:d.slice(0,4096))||c.message,profile_id:t}):(P({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"people-to-profile-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(c).slice(0,64),errorMessage:(null===(_=c.stack)||void 0===_?void 0:_.slice(0,4096))||c.message}),s({event_type:8966,component:13852,aux_data:{business_id:a}}));case 17:case"end":return o.stop()}},o,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var s=o.apply(e,t);function i(e){nr(s,n,r,i,a,"next",e)}function a(e){nr(s,n,r,i,a,"throw",e)}i(void 0)})})()}})};function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==na(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==na(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===na(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nu(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function nd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nf=function(e){var t=e.selectedId,n=e.handleError,r=e.refreshData,s=(0,(0,E.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,i=(0,S.v)().logContextEvent,a=(0,w.ZP)(),c=(0,N.KJ)(!0),l=(0,N.HL)().clearModal,u=(0,(0,y.C)().getParentHierarchyForIdIfExists)(c),f=null==u?void 0:u.id,p=(0,F.F9)(),h=p.showToast,b=p.showOneToast,g=(0,A.ZP)("BUSINESS_ACCESS_EMPLOYEE_DETAIL_PROFILES"),P=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),I=(0,o.useLocation)(),j=a._('{{name}} profile permissions for {{employeeName}}', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected employee for profile sharing'),C=nd((0,O.Z)(ti.kH,!0,{id:c,limit:v.cU}),3),z=C[0],R=C[1],k=C[2],L=nd((0,O.Z)(ti.mZ,!0,{businessId:c,personId:t,limit:v.cU,assetPermissionType:0,includeAssetSummary:!1}),3),B=L[0],U=L[1],M=L[2],H=nd((0,O.Z)(tS.cp,!0,{id:c,limit:s?v.xX:v.cU,includeAssetSummary:!0}),3),Z=H[0],q=H[1],Y=H[2],V=nd((0,_.useState)(!1),2),Q=V[0],W=V[1],J=null==z?void 0:z.data.data.find(function(e){return e.id===t}),K=(null==J?void 0:J.user.full_name)||"",X=(null==J?void 0:J.user.email)||"",$=(0,D.jsx)(m.qE,{size:"md",src:null==J?void 0:J.user.image_medium_url,name:(null==J?void 0:J.user.full_name)||""}),ee=nd((0,O.Z)(tS.eo,!1,{id:c,assetIds:[],limit:v.cU,type:v.tP.PROFILE}),4),et=ee[0],en=ee[1],er=ee[2],es=ee[3];if((0,_.useEffect)(function(){!Y&&Z&&es({id:c,assetIds:Z.data.data.map(function(e){return e.asset_id}),limit:v.cU,type:v.tP.PROFILE})},[c,Z,Y]),q||R||en||U)throw new d.zu("profilesIdError=".concat(q," peopleError=").concat(R," profilesError=").concat(en," personAssetsError=").concat(U),(0,eI.sv)(a));var ei=Q||Y||er||k||M,eo=(null==et?void 0:et.data.data)||[],ea=(null==B?void 0:B.data.data)||[],ec=Object.values(eo).map(function(e){var t=e.owner,n=t.id;return{id:n,text:t.full_name,subtext:t.username,image:t.image_small_url,disabled:!!(null!=ea&&ea.find(function(e){return e.asset_id===n})),assignableRoles:v.Hg}});return(0,D.jsx)(tn.Z,{modalTitle:(0,eI.sv)(a),modalAccessibilityLabel:(0,eI.uV)(a),buttonLabel:(0,eI.Ab)(a),selectedOptionDetailsText:j,selectedOptionDetailsGetter:function(e){return{name:e.selectedOptionDetails.text,employeeName:K}},text:K,subtext:X,image:$,counterTextFunction:function(e){return(0,T.nk)(a.ngettext('{{count}} profile selected', '{{count}} profiles selected', e, '[m10n]businessAccess.resourceAssignment.selectedProfiles', 'Selected profiles count.'),{count:e})},searchPlaceholder:a._('Search businesses', '[m10n]businessAccess.resourceAssignment.filterResourceListText', 'Filter resource list text field'),selectionPlaceholder:a._('Select a profile to assign permissions', '[m10n]businessAccess.resourceAssignment.grantAccessToMessage', 'Select an a profile to assign permissions message. Shows when no role resource is selected'),selectionOptions:ec,loading:ei,onSubmit:function(e){var s;(s=regeneratorRuntime.mark(function s(){var o,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,W(!0),s.next=4,(0,tS.oC)(c,Object.keys(e).map(function(n){return{assigneeIds:[t],adAccountIds:[n],roles:e[n]}}),"PEOPLE",f);case 4:r(Object.keys(e).map(function(t){return nl(nl({},eo[t]),{},{roles:e[t]})})),l(),(0,x.dK)(I)?P({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:t}):(g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"}),i({event_type:8965,component:13852,aux_data:{business_id:c}})),b(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),s.next=16;break;case 11:s.prev=11,s.t0=s.catch(0),n(),h(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,eI.dg)(s.t0.api_error_code,a),type:"error"})}),(0,x.dK)(I)?P({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(s.t0).slice(0,64),errorMessage:(null===(o=s.t0.stack)||void 0===o?void 0:o.slice(0,4096))||s.t0.message,employee_id:t}):(g({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"profiles-to-people-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(s.t0).slice(0,64),errorMessage:(null===(u=s.t0.stack)||void 0===u?void 0:u.slice(0,4096))||s.t0.message}),i({event_type:8966,component:13852,aux_data:{business_id:c}}));case 16:case"end":return s.stop()}},s,null,[[0,11]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var i=s.apply(e,t);function o(e){nu(i,n,r,o,a,"next",e)}function a(e){nu(i,n,r,o,a,"throw",e)}o(void 0)})})()}})},nm=n(121326),np=function(e){var t=e.text,n=e.name,r=e.avatar,s=e.id,i=e.headingAboveSubtext,o=e.avatarSize,a=e.textSize,c=(0,w.ZP)(),l=(0,B.aV)((0,u.Z)(),s,n,c);return(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(m.qE,{size:o||"lg",src:r,name:l}),(0,D.jsx)(m.xu,{marginTop:2,marginBottom:2,marginStart:2,display:"flex",direction:"column",justifyContent:"around",children:void 0!==i&&i?(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.X6,{size:"400",children:l})}),(0,D.jsx)(m.xv,{size:"100",children:t})]}):(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xv,{size:"100",children:t}),(0,D.jsx)(m.X6,{size:a||"400",children:l})]})})]})},nh=n(978206);function nb(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function ny(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ng=function(e){var t,n,r,s,i,a,c=e.selectedId,l=e.handleError,u=e.refreshData,f=(0,(0,E.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,p=!!(0,o.useRouteMatch)().params.businessHierarchyId,h=(0,S.v)().logContextEvent,b=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),g=(0,w.ZP)(),x=(0,N.KJ)(!0),P=(0,N.nU)(!0),I=(0,N.HL)().clearModal,j=(0,(0,y.C)().getParentHierarchyForIdIfExists)(x),C=null==j?void 0:j.id,T=(0,F.F9)(),z=T.showToast,R=T.showOneToast,k=ny((0,_.useState)([]),2),L=k[0],M=k[1],H=ny((0,_.useState)(!1),2),Z=H[0],q=H[1],Y=ny((0,O.Z)(tS.eo,!0,{id:x,assetIds:[c],limit:v.cU,type:v.tP.PROFILE}),3),V=Y[0],Q=Y[1],W=Y[2],J=(null==V?void 0:V.data.data)||[],K=(null===(t=J[c])||void 0===t?void 0:null===(n=t.owner)||void 0===n?void 0:n.username)||"",X=(null===(r=J[c])||void 0===r?void 0:null===(s=r.owner)||void 0===s?void 0:s.image_small_url)||"",$=(null===(i=J[c])||void 0===i?void 0:null===(a=i.owner)||void 0===a?void 0:a.full_name)||"",ee=[];if(W)return(0,D.jsx)(nh.Z,{});var et=g._('Assign profile permissions', '[m10n]businessAccess.principalAssignment.accessForText', 'Shows the name of the the selected partner or person.');if(Q)throw new d.zu("profileInfoResponseError=".concat(Q),et);return(0,D.jsxs)(U.Z,{accessibilityLabel:g._('Assign profile permissions with partner modal', '[m10n]bizAccess.editAdAccountRoles.modal', 'accessibility label for the modal used to edit ad account assignments'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"save-edits-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:g._('Assign profile', '[m10n]bizAccess.editAdAccountRoles.sumbitLabel', 'Label for the submit button on the assign profile permissions modal'),disabled:!Z||0===L.length,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tS.EB)(P,L,L,c,x,"PARTNER",void 0,C);case 3:u(),I(),R(function(e){var t=e.hideToast;return(0,D.jsx)(ty.Z,{onHide:t})}),p?b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"single-partner-to-profile-assignment-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:P}):h({event_type:8965,component:13852,aux_data:{business_id:x}}),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),l(),z(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(g),type:"error"})}),p?b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"single-partner-to-profile-assignment-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message}):h({event_type:8966,component:13852,aux_data:{business_id:x}}),I();case 15:case"end":return e.stop()}},e,null,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){nb(i,r,s,o,a,"next",e)}function a(e){nb(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),size:"sm",title:et,children:[f&&p&&(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),!p&&(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(np,{text:K,id:P,avatar:X,name:$,headingAboveSubtext:!0})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(nm.Z,{assignableRoles:v.Hg,initialRoles:ee,onChange:function(e){e.every(function(e){return ee.indexOf(e)})&&q(!1),q(!0),M(e),(0,eN.Z)(h,{event_type:8964,component:13641,aux_data:{business_id:x,field_name:"roles"}})}})})]})},nA=function(e){var t=(0,w.ZP)(),n=e.selectedIds,r=e.selectionType,s=e.dataToRefresh,i=e.assignmentType,o=e.refreshData,a=(0,F.F9)().showToast,c=(0,f.useDispatch)(),l=(0,N.KJ)(!0),u=(0,N.nU)(!0),d=(0,N.HL)().clearModal,_=(0,t9.Z)(l,u),m=(0,t5.Z)(l),p=(0,E.F)(),h=p.checkExperiment,b=h("business_access_employees_api_v4_migration").anyEnabled,y=h("web_m10n_business_access_employee_redesign").anyEnabled,g=function(e){l&&("PROFILE_PEOPLE"===s&&(r===v.Hl.PROFILE?y&&e?c((0,e2.Ni)({employeeId:u,addedProfiles:e})):c((0,er.fR)({businessId:l,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:p})):c((0,es.iS)({businessId:l,detailId:u}))),"PROFILE_PARTNERS"===s&&c((0,es.XA)({businessId:l,detailId:u})),"PARTNER_PROFILE"===s&&c((0,en.JL)({businessId:l,detailId:u,inEmployeeApiMigration:b,experimentsClient:p})),"HIERARCHY_EMPLOYEE_DETAILS_PROFILES"===s&&(null==_||_()),"HIERARCHY_PARTNER_PROFILE"===s&&(null==m||m()))},A=function(){a(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,B.sQ)(t),type:"error"})}),d()};return r===v.Hl.PROFILE?"PARTNER"===i?(0,D.jsx)(ng,{selectedId:n[0],handleError:A,refreshData:null!=o?o:g}):(0,D.jsx)(nf,{selectedId:n[0],handleError:A,refreshData:o?function(){return o()}:g}):r===v.Hl.PERSON?(0,D.jsx)(no,{selectedId:n[0],handleError:A,refreshData:null!=o?o:g}):(0,D.jsx)(nn,{selectedId:n[0],handleError:A,refreshData:null!=o?o:g})},nS=function(e){return e._('Request profile access', '[m10n]businessAccess.principalAssignment.requestAccessForText', 'Modal title for requesting profile access from a partner.')},nx=function(e){return e._('Request profile access from partner modal', '[m10n]bizAccess.requestProfileAccess.modal', 'accessibility label for the modal used to request profile access')},nE=function(e){return e._('Request ad account access', '[m10n]bizAccess.request.adAccounts.title', 'Text to confirm that partnership request has been sent to business')},nP=function(e){return e._('Request Ad Accounts modal', '[m10n]bizAccess.request.adAccounts.modal', 'Accessibility label for a request ad accounts modal')},nI=function(e){return e._('Back', '[m10n]bizAccess.confirmAssetAccessRequest.modal.back.button.text', 'text for button to go back to the previous modal')},nj=function(e){return e._('Maximum of 10 ad accounts has been reached', '[m10n]bizAccess.adAccounts.choose.include', 'Text that warns the user that the maximum number of ad accounts in a single request has been reached')},nO=function(e){return e._('Ad account ID', '[m10n]bizAccess.adAccounts.id', 'Text that is on the top of column of ad account ids')},nC=function(e){return e._('Ad account', '[m10n]bizAccess.requestAdAccountGeneral.Modal', 'Label for a button to add a new ad account')},nw=n(391364);function nT(e){return(nT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nz(e,t,n){var r;return(r=function(e,t){if("object"!==nT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===nT(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nR(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var nN=function(e){var t,n,r=e.partner,s=e.assetRequest,i=e.adAccountsRequested,o=(0,w.ZP)(),a=(0,f.useDispatch)(),c=(0,N.HL)(),l=c.clearModal,u=c.setRequestAdAccountsGeneralModal,d=(0,F.F9)().showToast,_=(0,N.KJ)(!0),p=(0,(0,E.F)().checkExperiment)("web_m10n_business_manager_ui_improvements").anyEnabled,h="AD_ACCOUNT"===s,b=h?"BUSINESS_ACCESS_AD_ACCOUNTS":"BUSINESS_ACCESS_PROFILES",g=(0,A.ZP)(b),S=h&&(!i||!!i&&i.length<1),x=(0,(0,y.C)().getParentHierarchyForIdIfExists)(_),P=null==x?void 0:x.id,I=(0,te.e6)(o,p),j=(null==i?void 0:i.map(function(e){var t=e.accessList.includes(v.gO.ADMIN)?[v.gO.ADMIN].map(I):e.accessList.map(I).join((0,B.bH)(o));return{id:e.id,permissions:t}}))||[],O=function(){l(),a({type:"CLEAR_ERROR"})},z=(0,D.jsx)(m.xu,{marginTop:1,marginBottom:1,children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,D.jsx)(m.X6,{size:"500",accessibilityLevel:1,children:o._('Confirm request', '[m10n]bizAccess.confirmAssetAccessRequest.modal.heading', 'heading for the modal used to confirm asset access request')}),(0,D.jsx)(m.hU,{accessibilityLabel:(0,B.I9)(o),icon:"cancel",iconColor:"darkGray",size:"sm",onClick:O})]})}),R=(t=regeneratorRuntime.mark(function e(){var t,n,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==i?void 0:i.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return nz({},e.id,e.accessList)}))||[],n=[nz({},r.id,["PROFILE_PUBLISHER"])],c=h&&i?t:n,e.prev=3,e.next=6,(0,tS.jC)(_,r.id,c,P);case 6:l(),a((0,nw.Mm)(["PENDING"],_,!0)),h&&i?i.forEach(function(e){g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:s,ad_account_id:e.id})}):g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:s,profile_id:r.id}),d(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:o._('Your request was successful', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestSuccessful.text', 'Text to tell the user the request was sent successfully')})}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),l(),d(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(o),type:"error"})}),g({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"confirm-asset-access-request-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"request-button",asset_type:s,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(u=e.t0.stack)||void 0===u?void 0:u.slice(0,4096))||e.t0.message});case 17:case"end":return e.stop()}},e,null,[[3,12]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){nR(i,r,s,o,a,"next",e)}function a(e){nR(i,r,s,o,a,"throw",e)}o(void 0)})},function(){return n.apply(this,arguments)}),k=(0,D.jsx)(m.xu,{as:"footer",marginStart:2,children:(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",children:[(0,D.jsx)(m.xu,{children:h&&(0,D.jsx)(m.iP,{onTap:O,children:(0,D.jsx)(m.xv,{children:(0,B.I9)(o)})})}),(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[h?(0,D.jsx)(m.zx,{size:"lg",text:nI(o),onClick:function(){return u({partner:r,adAccountsRequested:i})}}):(0,D.jsx)(m.zx,{size:"lg",text:(0,B.I9)(o),onClick:O}),(0,D.jsx)(m.xu,{marginStart:2,children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:o._('Request', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestAccess.button', 'text for button requesting asset access'),onClick:function(){R()},disabled:S,dataTestId:"request-asset-access-button"})})]})]})}),L=(0,D.jsx)(m.aV,{type:"unordered",label:(0,D.jsx)(m.xv,{size:"200",children:o._('Requested ad accounts:', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestedAdAccounts.text', 'text for requested ad accounts')}),children:j.map(function(e){return(0,D.jsx)(m.aV.Item,{text:(0,D.jsx)(m.xv,{children:(0,D.jsxs)(m.kC,{direction:"column",gap:1,children:[(0,D.jsx)(m.xv,{children:(0,T.nk)(o._('Ad account ID: {{accountId}}', '[m10n]bizAccess.confirmAssetAccessRequest.modal.adAccountId', 'Text edisplaying ad account id. accountId: account Id'),{accountId:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:e.id},"2")})},"0"),(0,D.jsx)(m.xv,{children:(0,T.nk)(o._('Permissions: {{requestedPermissions}}', '[m10n]bizAccess.confirmAssetAccessRequest.modal.requestedAccountPermissions', 'Text displaying requested ad account permissions. requestedPermissions: requested account permissions'),{requestedPermissions:(0,D.jsx)(m.xv,{weight:"bold",overflow:"breakWord",inline:!0,children:e.permissions},"3")})},"1")]})})},e.id)})});return(0,D.jsx)(C.ZP,{accessibilityModalLabel:o._('Confirm request modal', '[m10n]bizAccess.confirmAssetAccessRequest.modal.accessibilityLabel', 'accessibility label for the modal used to confirm asset access request'),onDismiss:O,size:"sm",heading:z,footer:k,children:(0,D.jsxs)(m.xu,{marginStart:6,marginEnd:6,"data-test-id":"confirm-asset-access-request",children:[(0,D.jsx)(m.xu,{width:"100%",marginBottom:4,children:(0,D.jsxs)(m.kC,{gap:3,alignItems:"center",children:[(0,D.jsx)(m.qE,{size:"lg",name:r.name,src:r.image}),(0,D.jsx)(m.xv,{children:(0,T.nk)(o._('You will be able to view the status of your requests on the {{partnerName}}\u2019s partner page', '[m10n]bizAccess.confirmAssetAccessRequest.modal.whereToViewStatus', 'Text explaining where to view asset request status. partnerName: bolded text partner name'),{partnerName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:r.name},"1")})})]})}),h&&(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.kC,{direction:"column",children:L})})]})})},nD=n(968121),nk=n(442860),nL=function(e){var t=e.onChange,n=e.isAoaaSelected,r=e.errorMessage,s=(0,w.ZP)();return(0,D.jsxs)(m.FX,{id:"ad-account-type-chooser",legend:s._('Ad Account Type Chooser', '[m10n]bizAccess.adAccount.choose.adAccountType.legend', 'Legend of radio group button'),legendDisplay:"hidden",children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xu,{"data-test-id":"advertiser-owned-ad-account-button",children:(0,D.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,D.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,D.jsx)(m.FX.RadioButton,{id:"advertiser-owned-ad-account",checked:!n,onChange:function(){return t(v.Z4.ADVERTISER_OWNED_AD_ACCOUNT)},value:"ADVERTISER_OWNED_AD_ACCOUNT"}),(0,D.jsx)(m.__,{htmlFor:"partner-invite",children:(0,D.jsx)(m.xu,{paddingX:2,paddingY:1,children:(0,D.jsx)(m.xv,{children:s._('Create for my business', '[m10n]]bizAccess.adAccount.choose.adAccountType.description', 'Description for type of ad account ownership selected')})})})]})})})}),(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xu,{"data-test-id":"agency-owned-ad-account-button",children:(0,D.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,D.jsx)(m.xu,{"data-test-id":"request-partner-button",children:(0,D.jsxs)(m.kC,{alignItems:"start",justifyContent:"start",children:[(0,D.jsx)(m.FX.RadioButton,{id:"agency-owned-ad-account",checked:n,onChange:function(){return t(v.Z4.AGENCY_OWNED_AD_ACCOUNT)},value:"AGENCY_OWNED_AD_ACCOUNT"}),(0,D.jsx)(m.__,{htmlFor:"request-partner-button",children:(0,D.jsx)(m.xu,{paddingX:2,paddingY:1,children:(0,D.jsx)(m.xv,{children:s._('Create for a partner\'s business', '[m10n]]bizAccess.adAccount.choose.adAccountType.description', 'Description for type of ad account ownership selected')})})})]})})})})}),r&&(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.xv,{color:"error",size:"100",children:(0,D.jsx)("span",{children:r})})})]})};function nB(e){return(nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nH(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nZ=function(){var e=(0,S.v)().logContextEvent,t=(0,E.F)().checkExperiment,n=(0,w.ZP)(),r=(0,o.useLocation)(),s=t("web_m10n_business_hierarchy_beta").anyEnabled,i=t("web_m10n_business_manager_ui_improvements_asset_requests").anyEnabled,a=(0,N.KJ)(!0),c=(0,N.nU)(!0),l=(0,f.useDispatch)(),u=(0,A.ZP)((0,A.QK)("AD_ACCOUNTS")),d=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),p=(0,nk.Z)(a),h=(0,(0,y.C)().getParentHierarchyForIdIfExists)(a),b=null==h?void 0:h.id,g=t("web_business_access_aoaa").anyEnabled,P=nM((0,_.useState)(!1),2),I=P[0],j=P[1],C=nM((0,O.Z)(z.b,!0,a),3),R=C[0],k=C[1],L=C[2],M=nM((0,O.Z)(tS.xZ,!0),3),H=M[0],Z=M[2],G=(H||[]).map(function(e){var t=e.code;return{label:e.name,value:t}}),F=nM((0,O.Z)(function(e){return(0,tw.dF)(e,v.cU,"PARTNER")},!0,{id:a,limit:v.cU,partnerType:"EXTERNAL"}),3),q=F[0],Y=F[1],V=F[2],Q=((null==q?void 0:q.data.data)||[]).map(function(e){var t=e.id,n=e.user;return{label:null==n?void 0:n.full_name,value:t,image_small_url:null==n?void 0:n.image_small_url}}),W=nM((0,_.useState)(""),2),J=W[0],K=W[1],X=(0,N.HL)(),$=X.setCreateAdAccountConfirmationModal,et=X.setAOAAPermissionAssignmentModal,en=(0,f.useSelector)(function(e){var t;return null!==(t=e.businessAccess.adAccounts)&&void 0!==t?t:{}}),er=en.error,es=en.loading,ei=nM((0,_.useState)(a),1)[0],eo=nM((0,_.useState)(""),2),ea=eo[0],ec=eo[1],el=nM((0,_.useState)(i?"":"US"),2),eu=el[0],ed=el[1],e_=n._('Create ad account modal', '[m10n]bizAccess.createAdAccount.modal', 'accessibility label for the modal used to create ad account'),ef=i?n._('Create new ad account', '[m10n]bizAccess.createAdAccount.new.title', 'Title for the modal used to create a new ad account'):n._('Create an ad account', '[m10n]bizAccess.createAdAccount.title', 'Title for the modal used to create an ad account');if(es||L||Z||V)return(0,D.jsx)(U.Z,{accessibilityLabel:e_,title:ef,size:"sm",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var em=er||k||Y,ep=em&&(null!=em&&em.code?em.message:(0,B.sQ)(n)),eh=i&&(0===ea.length||0===eu.length),eb=I&&(!J||0===ea.length||0===G.length);return(0,D.jsxs)(U.Z,{accessibilityLabel:e_,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"create-ad-account-submit-button",children:(0,D.jsx)(m.zx,{color:"red",disabled:eh||eb,text:I?n._('Next', '[m10n]bizAccess.createAdAccount.nextLabel', 'Label for the button prompting the next step in the creation of an agency owned ad account'):n._('Create', '[m10n]bizAccess.createAdAccount.submitLabel', 'Label for the button confirming the creation of an ad account'),onClick:function(){var t=R||{};if(g&&I){var n=Q.find(function(e){return e.value===J});et({partnerBusinessInfo:{image_small_url:null==n?void 0:n.image_small_url,full_name:n.label,id:J},ownerInfo:t,accountInfo:{name:ea,country:eu}});return}l((0,ee.Br)({businessId:a,detailId:c,ownerBusinessId:ei||a||"",agencyBusinessId:ei&&ei!==a?a:null,accountName:ea,country:eu,tosId:null,businessHierarchyNodeId:b,onSuccess:function(n){$({accountInfo:n,ownerInfo:t,refreshData:p}),(0,x.dK)(r)?d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"create-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:n.id,ad_account_name:ea,ad_account_country:eu}):(u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:n.id,ad_account_name:ea,ad_account_country:eu}),e({event_type:8965,component:13638,aux_data:{business_id:a,ad_account_id:n.id}}))},onFailure:function(t){var n,s,i;(0,x.dK)(r)?d({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"create-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t).slice(0,64),errorMessage:(null===(n=t.stack)||void 0===n?void 0:n.slice(0,4096))||t.message}):(u({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t).slice(0,64),errorMessage:(null===(s=t.stack)||void 0===s?void 0:s.slice(0,4096))||t.message}),e({event_type:8966,component:13638,aux_data:{business_id:a,error_class:JSON.stringify(t).slice(0,64),error_message:(null===(i=t.stack)||void 0===i?void 0:i.slice(0,4096))||t.message}}))}}))},size:"lg"})}),title:ef,size:"sm",children:[s&&(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.nv,{errorMessage:ep,helperText:i?n._('Use a descriptive name for search purposes', '[m10n]bizAccess.createAdAccount.accountNameHelperText.new', 'Helper text for a text field in the account creation flow'):n._('We recommend using a descriptive, recognizable name', '[m10n]bizAccess.createAdAccount.accountNameHelperText', 'Helper text for a text field in the account creation flow'),id:"accountName",label:n._('Ad account name', '[m10n]bizAccess.createAdAccount.accountNameLabel', 'Label for a text field in the account creation flow'),name:"accountName",onChange:function(t){ec(t.value),(0,eN.Z)(e,{event_type:8964,component:13638,aux_data:{business_id:a,field_name:"accountName"}})},placeholder:n._('Account name', '[m10n]bizAccess.createAdAccount.accountNamePlaceholder', 'Placeholder for the account name field in the account creation flow'),size:"lg",type:"text",value:ea,maxLength:{characterCount:64,errorAccessibilityLabel:n._('Ad account may not exceed 64 characters', '[m10n]bizAccess.createAdAccount.accountNameMaxLength', 'error accessibility label if ad account name input exceeds 64 characters')}})}),(0,D.jsx)(m.xu,{marginBottom:4,display:"flex",children:(0,D.jsx)(m.xu,{flex:"grow",marginStart:0,width:0,children:(0,D.jsx)(m.EI,{id:"country",name:"country",label:n._('Country', '[m10n]bizAccess.createAdAccount.countryLabel', 'Label for a country dropdown'),helperText:i?n._('Select the country where your ads will appear', '[m10n]bizAccess.createAdAccount.countrySelectList.helperText', 'Helper text for country select list field in the account creation flow'):"",placeholder:i?n._('Select', '[m10n]bizAccess.createAdAccount.countrySelectList.placeholder', 'Placeholder for country select list field in the account creation flow'):"",onChange:function(t){ed(t.value),(0,eN.Z)(e,{event_type:8964,component:13638,aux_data:{business_id:a,field_name:"country"}})},size:"lg",value:eu,errorMessage:0===G.length?n._('Oops! An error occurred and the list of available countries did not load. We recommend disabling ad-blocker or checking your internet connection.', '[m10n]bizAccess.createAdAccount.countriesError', 'error message saying available countries could not be loaded for ad account creation, and we recommend disabling ad blockers or checking internet connection'):void 0,children:G.map(function(e){return(0,D.jsx)(m.EI.Option,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==nB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nB(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),e.label)})})})}),g&&Q.length>0&&(0,D.jsx)(nL,{onChange:function(e){j(e===v.Z4.AGENCY_OWNED_AD_ACCOUNT)},isAoaaSelected:I}),I&&(0,D.jsxs)(m.xu,{paddingY:4,children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.J0,{iconAccessibilityLabel:"Info",message:n._('As the creator of an ad account, you will own it and be able to limit partner permissions', '[m10n]bizAccess.createAdAccount.partnerBusinessName.callout', 'Callout that describes an agency owned ad account'),type:"info"})}),(0,D.jsx)(m.xu,{"data-test-id":"partner-business-name-combo-box",children:(0,D.jsx)(m.BC,{id:"partner-business-name",label:n._('Partner\'s business name', '[m10n]bizAccess.createAdAccount.partnerBusinessNameLabel', 'Label for a partner business name dropdown'),accessibilityClearButtonLabel:n._('clear partner selection', '[m10n]bizAccess.createAdAccount.partnerClearLabel', 'accessibility label for clearing partner selection '),placeholder:n._('Select a partner', '[m10n]bizAccess.createAdAccount.partnerBusinessName.Placeholder', 'Placeholder for a partner business name dropdown'),noResultText:n._('No partner results for your selection', '[m10n]bizAccess.createAdAccount.noResultsText', 'text for combo box if no partner results show up for selection'),zIndex:nD.b7,onClear:function(){K("")},onChange:function(){K("")},onSelect:function(t){K(t.item.value),(0,eN.Z)(e,{event_type:8964,component:13638,aux_data:{business_id:a,field_name:"partnerBusinessId"}})},size:"lg",options:Q.map(function(e){return{label:e.label,value:e.value}})})})]}),(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(n._('By creating this account, you represent that you are authorized to do so, and you agree to the {{ advertisingAgreement }}.', '[m10n]bizAccess.createAdAccount.disclaimer', 'Legal disclaimer. advertisingAgreement: Link to the Pinterest Advertising Agreement'),{advertisingAgreement:(0,D.jsx)(m.xv,{inline:!0,children:(0,D.jsx)(m.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",target:"blank",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"always",children:n._('Pinterest Advertising Agreement', '[m10n]bizAccess.createAdAccount.disclaimerAgreement', 'Linked text description for the Pinterest advertising agreement')})})})})})]})},nG=function(e){var t=e.content,n=e.subcontent,r=e.face;return(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:8,children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.qE,{size:"lg",src:null==r?void 0:r.src,name:(null==r?void 0:r.name)||""})}),(0,D.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,D.jsx)(m.xv,{children:t})})]})}),n?(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginBottom:8,children:(0,D.jsx)(m.xv,{children:n})})}):""]})},nF=function(e){var t=e.ownerInfo,n=e.accountInfo,r=e.refreshData,s=(0,S.v)().logContextEvent,i=(0,w.ZP)(),o=(0,E.F)().checkExperiment,a=(0,N.KJ)(),c=o("web_m10n_business_hierarchy_beta").anyEnabled,l=(0,N.HL)().setAssignAdAccountsModal;return(0,_.useEffect)(function(){null==r||r()},[r]),(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(i),cancelText:(0,eI.Ty)(i),primaryAction:(0,D.jsx)(m.zx,{fullWidth:!0,text:i._('Assign people', '[m10n]bizAccess.createAdAccount.confirmation.assign', 'Label for a button that shows up for newly created ad account'),color:"red",onClick:function(){l({selectedIds:[n.id],selectionType:v.c7.PERSON,dataToRefresh:"AD_ACCOUNT_PEOPLE",assignmentType:"PEOPLE"}),s({event_type:8965,component:13639,aux_data:{business_id:a}})},size:"lg"}),size:"sm",title:(0,eI.Hp)(i),children:[c&&(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(nG,{content:(0,T.nk)(i._('{{ adAccountName }} was successfully created for {{ businessName }}.', '[m10n]bizAccess.createAdAccount.confirmation.content', 'Content for a modal confirming that an ad account (adAccountName) has been created under the business (businessName)'),{adAccountName:n.name||"",businessName:t.full_name||""}),subcontent:"",face:{name:t.full_name||"",src:t.image_medium_url}})]})},nq=n(829407),nY=n(856027);function nV(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function nQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nW=function(e){var t,n=e.businessAccount,r=(0,w.ZP)(),s=(0,N.KJ)(!0),i=(0,A.ZP)((0,A.QK)("DASHBOARD")),o=(0,N.HL)().clearModal,a=(0,F.F9)().showToast,c=(0,y.C)().switchAccount;(0,nq.Z)(function(){i({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_CREATE_BUSINESS_HIERARCHY_MODAL",component_id:"create-business-hierarchy-modal",business_id:s})});var l=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nQ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1],f=r._('Create business hierarchy modal', '[m10n]bizAccess.createBusinessHierarchy.modal', 'accessibility label for the modal used to create business hierarchy'),p=r._('Create business hierarchy', '[m10n]bizAccess.createBusinessHierarchy.title', 'Title for the modal used to create a business hierarchy');return(0,D.jsx)(U.Z,{accessibilityLabel:f,size:"sm",hideCancelAction:!0,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"create-bisiness-hierarchy-submit-button",children:(0,D.jsx)(m.zx,{color:"red",disabled:0===u.length||(0,B.Zn)(u),text:r._('Create', '[m10n]bizAccess.createBusinessHierarchy.submitLabel', 'Label for the button confirming the creation of a business hierarchy'),accessibilityLabel:r._('Create business hierarchy', '[m10n]bizAccess.createBusinessHierarchy.submitLabel.a11y', 'a11y Label for the button confirming the creation of a business hierarchy'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"create-business-hierarchy-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:s}),e.prev=1,e.next=4,(0,nY.FD)({name:u});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:n=(t=void 0===(t=e.t0.data)?{business_hierarchy_id:""}:t).business_hierarchy_id,a(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:r._('Business hierarchy successfully created.', '[m10n]bizAccess.createBusinessHierarchy.modal.successToast', 'Toast prompting business hierarchy has been created successfully.')})}),c(n,h.Oz.BUSINESS_HIERARCHY),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),a(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:r._('Failed to create business hierarchy.', '[m10n]bizAccess.createBusinessHierarchy.modal.failToast', 'Toast prompting business hierarchy has failed to be created.'),type:"error"})});case 18:o();case 19:case"end":return e.stop()}},e,null,[[1,15]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){nV(i,r,s,o,a,"next",e)}function a(e){nV(i,r,s,o,a,"throw",e)}o(void 0)})})()},size:"lg"})}),title:p,children:(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsxs)(m.kC,{direction:"column",gap:4,height:"100%",children:[(0,D.jsxs)(m.xv,{children:[r._('Creating a business hierarchy will let you view and manage your child businesses in one place. ', '[m10n]bizAccess.createBusinessHierarchy.infoText', 'information about business hiearchies'),(0,D.jsx)(m.rU,{accessibilityLabel:r._('Learn more about creating business hierarchy', '\'[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore.ally', 'link to learn more about creating business hierarchy'),display:"inline",href:"https://help.pinterest.com/en/business/article/get-a-business-account",target:"blank",children:r._('Learn more', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore', 'text for link to learn more')})]}),(0,D.jsx)(m.J0,{type:"infoBare",message:(0,T.nk)(r._('{{businessAccountName}} will be added as a child business within your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.slimBanner', 'text in callout to say that the business will become a child in the business hierarchy after creation businessAccountName: name of business creating the hierarchy'),{businessAccountName:n.user.full_name}).join("")}),(0,D.jsx)(m.nv,{helperText:r._('This will be the name of the parent business in your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.nameHelperText', 'Helper text for a text field in the business hierarchy creation flow'),id:"businessHierarchyName",onChange:function(e){d(e.value)},placeholder:r._('Name your hierarchy', '[m10n]bizAccess.createBusinessHierarchy.namePlaceholder', 'Placeholder for the name field in the business hierarchy creation flow'),size:"lg",type:"text",value:u,maxLength:{characterCount:100,errorAccessibilityLabel:r._('You may not exceed 100 characters for business hierarchy name', '[m10n]bizAccess.createBusinessHierarchy.maxLength.a11y', 'a11y for exceeding character count in business hierarchy name.')},errorMessage:u.length>=100?r._('You may not exceed 100 characters', '[m10n]bizAccess.createBusinessHierarchy.maxLength', 'error message for exceeding max length'):(0,B.Zn)(u)?r._('Special characters are not allowed', '[m10n]businessAccess.editBusinesDetails.modal.specialCharacterError', 'error message for when user tries to name a business hiearchy with special characters'):null})]})})})};function nJ(e){return function(e){if(Array.isArray(e))return nX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nK(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nK(e,t){if(e){if("string"==typeof e)return nX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nX(e,t)}}function nX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n$(e){var t,n=e.onSuccess,r=e.onDismiss,s=(0,f.useSelector)(ea.FS),i=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||nK(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],c=(0,w.ZP)(),l=(0,N.KJ)(),u=(0,E.F)().checkExperiment,d=u("web_m10n_business_access_asset_groups_ga").anyEnabled,p=u("web_m10n_business_manager_ui_improvements").anyEnabled,h=(0,f.useDispatch)(),b=(0,F.F9)().showToast,g=s.employees.length,A=s.partners.length,S=nJ(new Set(s.employees.flatMap(function(e){return e.permissions}))),x=nJ(new Set(s.partners.flatMap(function(e){return e.permissions}))),P=nJ(new Set(S.concat(x))),I=s.child_profile_ids.length,j=s.child_ad_account_ids.length,O=(0,(0,y.C)().getParentHierarchyForIdIfExists)(l),C=null==O?void 0:O.id,z=(0,T.nk)(c.ngettext('{{numEmployees}} employee', '{{numEmployees}} employees', g, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of employees in an asset group. numEmployees: number of employees in asset group'),{numEmployees:g}).join(""),R=(0,T.nk)(c.ngettext('{{numPartners}} partner', '{{numPartners}} partners', A, '[m10n]businessAccess.assetGroups.deleteConfirmation.numPartners', 'Text describing the number of partners in an asset group. numPartners: number of partners in asset group'),{numPartners:A}).join(""),k=d?[z,R].join((0,B.qD)(c)):z,L={calloutText:d?c._('Once you delete an asset group, you will need to reassign permissions for employees and partners to access assets', '[m10n]businessAccess.assetGroups.deleteConfirmation.calloutText', 'Text for delete asset group confirmation callout'):c._('Once you delete an asset group, you will need to reassign permissions for employees to access assets', '[m10n]businessAccess.assetGroups.deleteConfirmation.alpha.calloutText', 'Text for delete asset group confirmation callout'),calloutA11yLabel:c._('Warning about deleting an asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation.calloutA11yLabel', 'Accessibility label for delete asset group callout'),title:(0,T.nk)(c._('Deleting {{ groupName }} ({{ groupId }}) will result in the following:', '[m10n]businessAccess.assetGroups.deleteConfirmation.title', 'title of delete asset group modal text, groupName: name of asset group, groupId: id of asset group'),{groupName:s.name,groupId:s.id}),adAccountsText:(0,T.nk)(c.ngettext('\u2022 {{ usersAssigned }} will lose access to {{ numAdAccounts }} ad account with {{ permissions }} permissions', '\u2022 {{ usersAssigned }} will lose access to {{ numAdAccounts }} ad accounts with {{ permissions }} permissions', j, '[m10n]businessAccess.assetGroups.deleteConfirmation.adAccountsText', 'bullet showing who will lose access to the deleted asset group ad accounts, usersAssigned: employees and partners assigned, numAdAccounts: number of ad accounts, permissions: ad account permissions'),{usersAssigned:k,numAdAccounts:j,permissions:(0,B.If)(P.map((0,te.e6)(c,p)),c)}).join(""),profilesText:(0,T.nk)(c.ngettext('\u2022 {{ usersAssigned }} will lose access to {{ numProfiles }} profile with Publisher permissions', '\u2022 {{ usersAssigned }} will lose access to {{ numProfiles }} profiles with Publisher permissions', I, '[m10n]businessAccess.assetGroups.deleteConfirmation.profilesText', 'bullet showing who will lose access to the deleted asset group profiles, usersAssigned: employees and partners assigned, numProfiles: number of profiles'),{usersAssigned:k,numProfiles:I}).join(""),checkboxLabel:c._('Check this box to confirm', '[m10n]businessAccess.assetGroups.deleteConfirmation.checkboxLabel', 'Label of confirmation checkbox'),cancelButtonText:c._('Cancel', '[m10n]businessAccess.assetGroups.deleteConfirmation.cancel', 'Cancel button text'),deleteButtonText:c._('Delete', '[m10n]businessAccess.assetGroups.deleteConfirmation.delete', 'Delete button text')};return(0,D.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,D.jsxs)(m.kC,{maxWidth:600,direction:"column",gap:4,children:[(0,D.jsx)(m.UW,{iconAccessibilityLabel:L.calloutA11yLabel,message:L.calloutText,type:"warning"}),(0,D.jsx)(m.xv,{children:L.title}),(0,D.jsx)(m.xu,{marginStart:2,children:(0,D.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,D.jsx)(m.xv,{children:L.adAccountsText}),(0,D.jsx)(m.xv,{children:L.profilesText})]})}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xu,{"data-test-id":"delete-asset-group-confirmation-box",children:(0,D.jsx)(m.XZ,{checked:o,id:"checkbox",label:L.checkboxLabel,onChange:function(e){return a(e.checked)}})})}),(0,D.jsx)(m.xu,{marginTop:8,children:(0,D.jsxs)(m.kC,{justifyContent:"end",children:[(0,D.jsx)(m.xu,{marginEnd:2,children:(0,D.jsx)(m.zx,{text:L.cancelButtonText,onClick:r,size:"lg"})}),(0,D.jsx)(m.xu,{"data-test-id":"delete-asset-group-button",children:(0,D.jsx)(m.zx,{text:L.deleteButtonText,onClick:function(){s&&h((0,et.RE)({businessId:l,assetGroupId:s.id,businessHierarchyNodeId:C})),n(),b(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,T.nk)(c._('Asset group {{name}} has been deleted', '[m10n]businessAccess.assetGroups.deleted.toast', 'text for toast shown when an asset group is deleted. name: asset group name'),{name:s.name}).join("")})})},disabled:!o,size:"lg"})})]})})]})})}var n0=function(e){var t=e.onSuccess,n=(0,N.HL)().clearModal,r=(0,N.KJ)(),s=(0,w.ZP)(),i=(0,A.ZP)("BUSINESS_ACCESS_ASSET_GROUPS"),o=(0,f.useDispatch)();(0,_.useEffect)(function(){o((0,et.dQ)({businessId:r,limit:100},{userType:"PEOPLE",updateDataOnly:!0})),o((0,et.dQ)({businessId:r,limit:100},{userType:"PARTNER",updateDataOnly:!0}))},[r]);var a=(0,f.useSelector)(ea.qy),c=(0,f.useSelector)(ea.fW),l=function(e){i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"asset-groups-delete",element:"BUSINESS_ACCESS_BUTTON",business_id:r,elementId:e})},u=function(){t(),n(),l("delete-asset-group-confirmation")},d={heading:s._('Delete asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation.heading', 'Title of delete asset groups modal'),a11yLabel:s._('Delete asset group', '[m10n]businessAccess.assetGroups.deleteConfirmation', 'accessibility label of modal for delete asset group modal')};return(0,D.jsx)(C.ZP,{onDismiss:function(){u()},accessibilityModalLabel:d.a11yLabel,heading:d.heading,size:"sm",children:(0,D.jsx)(m.xu,{padding:4,children:a||c?(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(s),show:!0}):(0,D.jsx)(n$,{onSuccess:u,onDismiss:function(){n(),l("delete-asset-group-confirmation-dismissed")}})})})};function n1(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function n2(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){n1(i,r,s,o,a,"next",e)}function a(e){n1(i,r,s,o,a,"throw",e)}o(void 0)})}}function n3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n6(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var n4=function(e){var t,n,r,s,i,a,c,l,u,d=e.dataToRefresh,p=e.resourceId,h=e.principalId,b=e.assignmentType,g=e.rolesForAoaa,P=e.clientBusinessId,I=(0,E.F)(),j=I.checkExperiment,C=j("web_m10n_business_hierarchy_beta").anyEnabled,R=j("business_access_assets_and_history_api_v4_migration").anyEnabled,k=(0,S.v)().logContextEvent,L=(0,A.ZP)((0,A.o1)(d)),M=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),H=(0,o.useLocation)(),Z=(0,w.ZP)(),q=(0,N.KJ)(),Y=(0,N.KJ)(!0),V=q||Y,Q=(0,N.nU)(),W=(0,N.nU)(!0),J=Q||W,K=(0,F.F9)().showToast,X=(0,f.useDispatch)(),$=(0,N.HL)(),et=$.setRemoveAdAccountAccessModal,es=$.clearModal,ei=(0,(0,y.C)().getParentHierarchyForIdIfExists)(V),eo=null==ei?void 0:ei.id,ea=n3((0,_.useState)([]),2),ec=ea[0],el=ea[1],eu=(t=n2(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[null,null,null]);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),ed="AOAA_REQUEST_DETAIL_PAGE"===d,e_=(0,f.useSelector)((0,tq.PP)(J)),ef=e_.permissions,em=e_.client_business,ep=ef&&ef.find(function(e){return Object.keys(e).includes(h)})[h],eh=n3((0,_.useState)(!1),2),eb=eh[0],ey=eh[1],ev=n3((0,O.Z)(z.b,!0,h),3),eg=ev[0],eA=ev[1],eS=ev[2],ex=n3((0,O.Z)(ed?eu:tS.G2,!0,{assetId:p,businessId:V,resourceType:"AD_ACCOUNT",includeAssetSummary:!0}),3),eE=ex[0],eP=ex[1],eI=ex[2],ej="PARTNER"===b?tx.h9:ti.GL,eO=n3((0,O.Z)(g||ed?eu:ej,!0,"PARTNER"===b?{businessId:V,assetId:p,partnerId:h}:{businessId:V,assetId:p,personId:h}),3),eC=eO[0],ew=eO[1],eT=eO[2],ez=null==eC?void 0:null===(n=eC.data)||void 0===n?void 0:n.data,eD=ed?ep:g||(null==ez?void 0:ez.roles)||[],ek=ed?v.j$:(0,tg.u)(R?(null==eE?void 0:null===(r=eE.data)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.permissions)||[]:(null==eE?void 0:null===(i=eE.data)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.roles)||[]);if(eT||eS||eI)return(0,D.jsx)(nh.Z,{});var eL=ew||eA||eP;if(eL){var eB=(null==eL?void 0:eL.message)||(0,B.sQ)(Z);return K(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:eB})}),es(),null}return(0,D.jsxs)(U.Z,{accessibilityLabel:Z._('Edit ad account roles modal', '[m10n]bizAccess.editAdAccountRoles.modal', 'accessibility label for the modal used to edit ad account assignments'),footerSecondaryContent:!(ed&&"PARTNER"===b)&&(0,D.jsx)(m.xu,{"data-test-id":"remove-ad-account-access-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"transparent",text:Z._('Remove', '[m10n]bizAccess.editAdAccountRoles.removeLabel', 'Label for a button that initiates removing a person\'s permissions to an account'),onClick:function(){et({resourceId:p,principalId:h,dataToRefresh:d,assignmentType:b})}})}),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"save-edits-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:Z._('Save edits', '[m10n]bizAccess.editAdAccountRoles.sumbitLabel', 'Label for the submit button on the account role editing modal'),disabled:!eb||0===ec.length,onClick:function(){n2(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ed){e.next=7;break}return ef[ef.findIndex(function(e){return Object.keys(e).includes(h)})][h]=ec,e.next=5,(0,ts.SA)({businessId:V,partnerId:em.id,requestId:J,businessIdToPermissions:ef});case 5:e.next=9;break;case 7:return e.next=9,(0,tS.EB)(h,ec,ec,p,V,b,P,eo);case 9:K(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:Z._('Permissions updated.', '[m10n]adAccountAssignment.edit.success.toast', 'Success toast prompting user that the ad account role assignment has been successful.')})}),"PEOPLE"===d&&X((0,er.UQ)({businessId:V,detailId:J,includeAssetSummary:!0,experimentsClient:I})),"PARTNER"===d&&X((0,en.ek)({businessId:V,detailId:J,experimentsClient:I})),"AD_ACCOUNT_PEOPLE"===d&&X((0,ee.Q3)({businessId:V,detailId:J})),"AD_ACCOUNT_PARTNER"===d&&X((0,ee.yX)({businessId:V,detailId:J,updateDataOnly:!!P})),"AOAA_REQUEST_DETAIL_PAGE"===d&&X((0,tr.vm)({businessId:V,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[J]})),"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===d&&(X((0,eR.Q3)({businessId:V,detailId:J})),X((0,ee.yX)({businessId:V,detailId:J,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===d&&X((0,eR.yX)({businessId:V,detailId:J})),(0,x.dK)(H)?M({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:p}):(k({event_type:8965,component:13641,aux_data:{business_id:V,ad_account_id:p}}),L({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"})),es(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),K(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(Z),type:"error"})}),(0,x.dK)(H)?M({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,ad_account_id:p}):k({event_type:8966,component:13641,aux_data:{business_id:V,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}}),es();case 26:case"end":return e.stop()}},e,null,[[0,21]])}))()}})}),size:"sm",title:Z._('Edit permissions', '[m10n]businessAccess.principalAssignment.accessForText', 'Shows the name of the the selected partner or person.'),children:[C&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",marginBottom:8,children:[(0,D.jsx)(m.qE,{size:"lg",name:(null==eg?void 0:eg.full_name)||"",src:(null==eg?void 0:eg.image_large_url)||""}),(0,D.jsxs)(m.xu,{paddingX:2,children:[(0,D.jsx)(m.xv,{weight:"bold",size:"300",children:(null==eg?void 0:eg.full_name)||""}),(0,D.jsx)(m.xv,{children:(0,T.nk)(Z._('Ad account: {{ adAccountName }}', '[m10n]businessAccess.editAdAccountRoles.adAccount.name', 'The ad account name which the user is editing on. adAccountName: name of the ad account'),{adAccountName:(null==eE?void 0:null===(c=eE.data)||void 0===c?void 0:null===(l=c.data)||void 0===l?void 0:null===(u=l.asset)||void 0===u?void 0:u.name)||""})})]})]}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(nm.Z,{assignableRoles:ek,initialRoles:eD,onChange:function(e){e.every(function(e){return eD.indexOf(e)})&&ey(!1),ey(!0),el(e),(0,eN.Z)(k,{event_type:8964,component:13641,aux_data:{business_id:V,field_name:"roles"}})},isAoaaAssignmentModal:!!g||!!P})})]})};function n8(e){return(n8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==n8(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==n8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n8(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n7(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rn=function(e){var t,n,r=e.businessAccount,s=(0,N.HL)().clearModal,i=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),o=(0,y.C)().fetchData,a=(0,w.ZP)(),c=re((0,_.useState)(r.name),2),l=c[0],u=c[1],d=re((0,_.useState)(!1),2),f=d[0],p=d[1],h=(0,F.F9)().showToast;(0,nq.Z)(function(){i({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_EDIT_BUSINESS_DETAILS_MODAL",business_id:r.id})});var b=function(){h(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:a._('Business hierarchy successfully updated.', '[m10n]businessAccess.editBusinesDetails.modal.update.toast.successful', 'Toast prompting business hierarchy account has been updated successfully.')})})},g=function(){h(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:a._('Business hierarchy failed to update.', '[m10n]businessAccess.editBusinesDetails.modal.update.toast.fail', 'Toast prompting business hierarchy account has failed to update.'),type:"error"})})},S=function(){s()},x=(t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-business-details-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"save-button",business_id:r.id}),p(!0),t=n5(n5({},r),{},{name:l.trim()}),e.prev=3,e.next=6,(0,nY.wH)(t);case 6:return b(),e.next=9,o();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),g();case 14:return e.prev=14,p(!1),e.finish(14);case 17:S();case 18:case"end":return e.stop()}},e,null,[[3,11,14,17]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){n7(i,r,s,o,a,"next",e)}function a(e){n7(i,r,s,o,a,"throw",e)}o(void 0)})},function(){return n.apply(this,arguments)});return(0,D.jsx)(m.xu,{"data-test-id":"edit-business-details-modal",children:(0,D.jsx)(U.Z,{size:600,hideCancelAction:!0,onDismiss:S,accessibilityLabel:a._('Edit business details title', '[m10n]businessAccess.editBusinesDetails.modal.heading.a11y', 'A11y heading text for the edit business details modal'),title:a._('Edit details', '[m10n]businessAccess.editBusinesDetails.modal.heading', 'Heading text for the edit business details modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"edit-business-details-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",onClick:function(){x()},disabled:!l.trim()||l.trim()===r.name||(0,B.Zn)(l)||f,accessibilityLabel:a._('Save business details changes', '[m10n]businessAccess.editBusinesDetails.modal.cta', 'CTA Button to save business details'),text:a._('Save', '[m10n]businessAccess.editBusinesDetails.modal.cta', 'CTA Button to save business details')})}),children:(0,D.jsxs)(m.kC,{justifyContent:"start",alignItems:"center",children:[(0,D.jsx)(eJ.qE,{size:"md",name:r.name,src:r.img_medium_url}),(0,D.jsx)(m.xu,{marginStart:2,width:"100%",marginEnd:2,height:90,paddingY:5,children:(0,D.jsx)(m.nv,{id:"edit-business-details-name-text",placeholder:a._('Name your business', '[m10n]businessAccess.editBusinesDetails.modal.name.textfield.placeholder', 'Placeholder for name your business text field.'),onChange:function(e){u(e.value)},value:l,errorMessage:(0,B.Zn)(l)?a._('Special characters are not allowed', '[m10n]businessAccess.editBusinesDetails.modal.specialCharacterError', 'error message for when user tries to name a business hiearchy with special characters'):void 0})})]})})})},rr=function(e){var t=(0,w.ZP)(),n=e.empty,r=(0,F.F9)().showToast,s=(0,N.HL)().clearModal;return(0,_.useEffect)(function(){r(function(e){var r=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:r,text:n?(0,B.BC)(t):(0,B.sQ)(t),type:"error"})}),s()}),null},rs=n(623432),ri=n(239894);function ro(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rl=function(e){var t,n,r,s,i=e.selectedId,a=e.onRefresh,c=e.businessId,l=e.isBusinessAccess,u=(0,o.useRouteMatch)().params.businessHierarchyId,d=(0,S.v)().logContextEvent,p=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),h=(0,o.useLocation)(),b=(0,w.ZP)(),g=(0,F.F9)().showToast,P=(0,N.KJ)(!0),I=c||P,j=(0,E.F)().checkExperiment,C=(0,N.HL)(),T=C.setRemovePersonModal,R=C.clearModal,k=(0,(0,y.C)().getParentHierarchyForIdIfExists)(I),L=null==k?void 0:k.id,M=ra((0,O.Z)(z.b,!0,i),3),H=M[0],Z=M[1],q=M[2],Y=ra((0,eH.Z)("people",i,!0,!0,I),4),V=Y[0],Q=Y[1],W=Y[2],J=Y[3],K=(0,rs.Z)(I),X=j("business_access_employees_api_v4_migration").anyEnabled,$=j("web_m10n_business_hierarchy_beta").anyEnabled,ee=j("web_m10n_business_access_employee_redesign").anyEnabled,et=(0,E.F)().checkExperiment("ba_mfa_enabled").anyEnabled,en=(0,f.useSelector)(ri.Wb).find(function(e){return e.id===i}),er=!!u&&!l,es=X?null==en?void 0:null===(t=en.business_roles)||void 0===t?void 0:t[0]:null==en?void 0:null===(n=en.biz_roles)||void 0===n?void 0:n[0],ei=X?null==V?void 0:null===(r=V.business_roles)||void 0===r?void 0:r[0]:null==V?void 0:null===(s=V.biz_roles)||void 0===s?void 0:s[0],eo=er?es:ei,ea=ra((0,_.useState)("EMPLOYEE"),2),ec=ea[0],el=ea[1],eu=(0,f.useDispatch)();(0,_.useEffect)(function(){eo&&el(eo)},[eo]);var ed=b._('Edit role modal', '[m10n]bizAccess.editPersonRole.label', 'Label for a modal to edit an employee\'s access to a business'),e_=b._('Edit role', '[m10n]bizAccess.editRole.title', 'Title for a modal to edit an employee\'s access to a business');if(Z||Q)return(0,D.jsx)(U.Z,{accessibilityLabel:ed,title:e_,size:"sm",children:(0,D.jsx)(rr,{empty:!0})});if(q||W)return(0,D.jsx)(U.Z,{accessibilityLabel:ed,title:e_,size:"sm",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(b),show:!0})});var ef={constant:"EMPLOYEE",title:b._('Employee', '[m10n]bizAccess.choose.employeeRole', 'employee role'),description:b._('Employees can work on assigned ad accounts and profiles', '[m10n]bizAccess.editPerson.employeeRole.description', 'description of employee role')},em={constant:"BIZ_ADMIN",title:b._('Manager', '[m10n]bizAccess.choose.adminRole', 'admin role'),description:et?b._('Managers can add and delete employees and partners, create ad accounts, assign and revoke permissions for employees and partners and enforce two-factor authentication', '[m10n]bizAccess.editPerson.managerRole.mfaDescription', 'description of manager role'):b._('Managers can add and remove employees and partners from businesses, create ad accounts and assign themselves to ad accounts and profiles ', '[m10n]bizAccess.editPerson.managerRole.Description', 'description of manager role')};return(0,D.jsxs)(U.Z,{accessibilityLabel:ed,footerSecondaryContent:(0,D.jsx)(m.xu,{"data-test-id":"edit-person-role-remove-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:b._('Remove', '[m10n]bizAccess.people.remove', 'remove employee from business'),color:"gray",onClick:function(){T({selectedId:i})}})}),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"edit-person-role-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,accessibilityLabel:b._('Save edits', '[m10n]bizAccess.people.update', 'save edits made'),text:b._('Save edits', '[m10n]bizAccess.people.update', 'save edits made'),color:ec&&ec!==eo?"red":"gray",onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ti.p6)(ec,i,I,L);case 3:J(),$&&(a?a():ee?eu((0,e2.e7)({employeeId:i,role:ec})):er&&(null==K||K())),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,eE.Z)(b._('Successfully updated role for {{name}} to {{role}}. ', '[m10n]bizAccess.people.update.toast', 'message confirming that update action was taken'),{name:(null==H?void 0:H.full_name)||"",role:(0,te.B)(b)(ec)})})}),(0,x.dK)(h)?p({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-person-role-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:i}):d({event_type:8965,component:13635,aux_data:{business_id:I}}),R(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(0,x.dK)(h)?p({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"edit-person-role-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,employee_id:i}):d({event_type:8966,component:13635,aux_data:{business_id:I,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}}),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(b),type:"error"})});case 14:case"end":return e.stop()}},e,null,[[0,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){ro(i,r,s,o,a,"next",e)}function a(e){ro(i,r,s,o,a,"throw",e)}o(void 0)})})()},disabled:!ec||ec===eo})}),title:e_,size:"sm",children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(np,{text:b._('Editing role for', '[m10n]businessAccess.editPersonRole.personLabel', 'Label shown above the selected employee\'s name'),avatar:(null==H?void 0:H.image_large_url)||"",name:(null==H?void 0:H.full_name)||""})}),(0,D.jsx)(e1,{currentRole:ec,withBadge:!0,onChange:function(e){el(e),(0,eN.Z)(d,{event_type:8964,component:13635,aux_data:{business_id:I,field_name:"role"}})},regularRoleEntry:ef,adminRoleEntry:em})]})};function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rd=function(e){var t,n=(0,w.ZP)(),r=e.inviteId,s=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("partnerInvite",r,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=s[0],o=s[1],a=s[2],c=(0,F.F9)().showToast,l=(0,(0,E.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled;if((0,_.useEffect)(function(){o&&c(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(n),type:"error"})})},[o]),a)return(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),size:"sm",title:(0,eI.Hp)(n),children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var u=(null==i?void 0:i.assets)||[],d=u.filter(function(e){return"AD_ACCOUNT"===e.type}).length,f=u.filter(function(e){return"PROFILE"===e.type}).length;return(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),cancelText:(0,eI.Fd)(n),size:"sm",title:(0,eI.Hp)(n),children:[l&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(nG,{content:(0,eI.Uo)((null==i?void 0:i.extended_user_info.full_name)||"",d,f>0,n),face:{src:(null==i?void 0:i.extended_user_info.image_small_url)||"",name:(null==i?void 0:i.extended_user_info.full_name)||""}})]})},r_=function(e){var t=(0,S.v)().logContextEvent,n=(0,w.ZP)(),r=e.inviteIds,s=e.role,i=e.isPendingTabActive,o=(0,N.KJ)(),a={name:"",src:"https://s.pinimg.com/images/user/default_60.png"},c=(0,N.HL)().setAssignAdAccountsModal,l=(0,f.useSelector)(tE.ai);if(1===r.length){var u,d,_=l[r[0]];_&&_.extended_user_info&&(a={name:(null===(u=_.extended_user_info)||void 0===u?void 0:u.full_name)||"",src:null===(d=_.extended_user_info)||void 0===d?void 0:d.image_small_url})}return(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),cancelText:(0,eI.Ty)(n),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:n._('Assign assets', '[m10n]bizAccess.invite.confirmation.assign', 'Label for a button that shows up for newly sent people invites'),color:"red",onClick:function(){c({selectedIds:[],inviteIds:r,selectionType:v.c7.AD_ACCOUNT,dataToRefresh:i?"PENDING_PEOPLE_LIST":"PEOPLE_LIST",assignmentType:"PEOPLE",roleType:s}),t({event_type:8965,component:13633,aux_data:{business_id:o}})}})}),size:"sm",title:(0,eI.Hp)(n),children:(0,D.jsx)(nG,{content:(0,T.nk)("EMPLOYEE"===s?n.ngettext('{{ number }} employee invitation was successfully sent.', '{{ number }} employee invitations were successfully sent.', r.length, '[m10n]bizAccess.invitePeople.employeesSuccessMessage', 'Content in an employee invite confirmation dialog'):n.ngettext('{{ number }} manager invitation was successfully sent.', '{{ number }} manager invitations were successfully sent.', r.length, '[m10n]bizAccess.invitePeople.adminsSuccessMessage', 'Content in an manager invite confirmation dialog'),{number:r.length}),face:a})})};function rf(e){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(e){if("string"==typeof e)return rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rp(e,t)}}function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rh=function(e){var t=e.fullName,n=e.numAdAccounts,r=e.image,s=e.hasProfile,i=e.isPartnerBusiness,o=(0,w.ZP)();return(0,D.jsxs)(m.xu,{marginBottom:6,children:[(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:2,children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(eJ.qE,{size:"sm",src:r,name:t||""})}),(0,D.jsx)(m.xu,{flex:"grow",marginStart:4,children:(0,D.jsx)(m.xv,{size:"400",weight:"bold",children:t})})]})}),(0,D.jsxs)(m.xu,{marginStart:12,children:[i&&(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginBottom:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(o._('\u2022 {{fullName}} as a partner', '[m10n]bizAccess.invite.confirmationModal.business.partnerBusiness', 'Text describing if assets in invite belong to partner business. fullName: name of partner business with assets included in invite'),{fullName:t}).join("")})}),s&&(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginBottom:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(o._('\u2022 {{fullName}}\'s profile', '[m10n]bizAccess.invite.confirmationModal.business.profileInvite', 'Text describing if profile for business is included in invite. fullName:name of business with profile included in invite'),{fullName:t}).join("")})}),n>0&&(0,D.jsx)(m.xu,{display:"flex",alignItems:"center",marginBottom:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(o.ngettext('\u2022 {{numAdAccounts}} ad account', '\u2022 {{numAdAccounts}} ad accounts', n, '[m10n]bizAccess.invite.confirmationModal.business.numAdAccountsInvite', 'Text describing the number of ad accounts for business is including in invite. numAdAccounts: number of ad accounts that belong to a business included in invite'),{numAdAccounts:n})})})]})]})},rb=function(e){var t,n,r=(0,w.ZP)(),s=e.inviteIds,i=e.invitedPeopleIdentifiers,o=(0,N.KJ)(),a=(0,E.F)().checkExperiment,c=a("web_m10n_business_access_error_handling").anyEnabled,l=a("web_m10n_business_hierarchy_beta").anyEnabled,u=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("memberInvite",s[0],!0,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||rm(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],p=u[1],h=u[2],b=r._('Permissions Assigned', '[m10n]bizAccess.invite.confirmationModal.title', 'Title for a invite confirmation modal');if(c&&p)throw new d.zu(p,b);if(h||p)return null;for(var y=(null==f?void 0:f.assets)||[],v=Object.assign.apply(Object,[{}].concat(function(e){if(Array.isArray(e))return rp(e)}(n=y.map(function(e){return e.owner}).map(function(e){var t,n,r;return t={},(r=function(e,t){if("object"!==rf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rf(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n=e.id,"string"),((n="symbol"===rf(r)?r:String(r))in t))?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||rm(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),g=0,A=Object.keys(v);g<A.length;g++)!function(){var e=A[g];v[e].numAdAccounts=y.filter(function(t){return"AD_ACCOUNT"===t.type&&t.owner.id===e}).length,v[e].hasProfileRequest=y.filter(function(t){return"PROFILE"===t.type&&t.owner.id===e}).length>0,v[e].isPartnerBusiness=e!==o}();return(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(r),cancelText:"Done",size:"sm",title:b,footerSecondaryContent:(0,D.jsx)(m.xv,{size:"200",color:"subtle",children:r._('Your invite will expire after 14 days', '[m10n]bizAccess.invite.confirmationModal.expiry', 'Text explaining the invite will expire after 14 days time')}),children:[l&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(r._('You\'ve assigned permissions to {{invitedPeopleIdentifiersTruncated}}', '[m10n]bizAccess.invite.confirmationModal.subTitle', 'Subtitle informing user who was invited. invitedPeopleIdentifiersTruncated: The usernames and emails of people invited, truncated if more than 2 people were invited.'),{invitedPeopleIdentifiersTruncated:(0,eI.LK)(i,r)}).join("")})}),(0,D.jsx)(_.Fragment,{children:Object.keys(v).map(function(e){return(0,D.jsx)(m.xu,{children:(0,D.jsx)(rh,{fullName:v[e].full_name,numAdAccounts:v[e].numAdAccounts||0,image:v[e].image_url||"https://s.pinimg.com/images/user/default_60.png",hasProfile:v[e].hasProfileRequest,isPartnerBusiness:v[e].isPartnerBusiness})},e)})})]})},ry=function(e){var t=e.onChange,n=e.partnershipType,r=e.errorMessage,s=(0,w.ZP)();return(0,D.jsxs)(m.FX,{id:"partner-type-chooser",legend:s._('Partner Type Chooser', '[m10n]bizAccess.partner.choose.invite.legend', 'Legend of radio group button'),legendDisplay:"hidden",children:[(0,D.jsx)(m.xu,{margin:1,paddingY:1,children:(0,D.jsx)(m.xu,{"data-test-id":"partner-button-PARTNER-INVITE",children:(0,D.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,D.jsxs)(m.xu,{display:"flex",alignItems:"start",paddingY:1,children:[(0,D.jsx)(m.FX.RadioButton,{id:"partner-invite",checked:"PARTNER_INVITE"===n,onChange:function(){return t("PARTNER_INVITE")},value:"PARTNER_INVITE"}),(0,D.jsxs)(m.__,{htmlFor:"partner-invite",children:[(0,D.jsx)(m.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{marginTop:2}},children:(0,D.jsx)(m.xv,{weight:"bold",children:s._('Invite this partner to access your ad accounts and tools', '[m10n]bizAccess.partner.choose.invite.title', 'CTA of radio button selected when user wants to share it\'s assets')})}),(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.xv,{color:"subtle",children:s._('Recommended for brands who want to add their agencies and share their business\' assets with them', '[m10n]bizAccess.partner.choose.invite.description', 'Descrition that details who should invite businesses, not request assets access')})})]})]})})})}),(0,D.jsx)(m.xu,{margin:1,paddingY:1,children:(0,D.jsx)(m.xu,{"data-test-id":"partner-button-PARTNER-REQUEST",children:(0,D.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,D.jsx)(m.xu,{"data-test-id":"request-partner-button",children:(0,D.jsxs)(m.xu,{display:"flex",alignItems:"start",paddingY:1,children:[(0,D.jsx)(m.FX.RadioButton,{id:"partner-request",checked:"PARTNER_REQUEST"===n,onChange:function(){return t("PARTNER_REQUEST")},value:"PARTNER_REQUEST"}),(0,D.jsxs)(m.__,{htmlFor:"partner-request",children:[(0,D.jsx)(m.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{marginTop:2}},children:(0,D.jsx)(m.xv,{weight:"bold",children:s._('Request access to this partner\'s ad accounts and tools', '[m10n]bizAccess.partner.choose.request.title', 'CTA of radio button selected when user wants to get access to partner\'s assets')})}),(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.xv,{color:"subtle",children:s._('Recommended for agencies and external partners who need access to their partner\'s ad accounts and tools', '[m10n]bizAccess.partner.choose.request.description', 'Descrition that details who should select to request access to businesses\' assets')})})]})]})})})})}),r&&(0,D.jsx)(m.xu,{marginTop:2,children:(0,D.jsx)(m.xv,{color:"error",size:"100",children:(0,D.jsx)("span",{children:r})})})]})},rv=n(982045);function rg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rS=function(e){var t=e.partnershipType,n=e.pageForLogger,r=(0,w.ZP)(),s=(0,f.useDispatch)(),i=rg((0,_.useState)(""),2),a=i[0],c=i[1],l=rg((0,_.useState)(t),2),u=l[0],d=l[1],p=rg((0,_.useState)(""),2),h=p[0],y=p[1],g=v.uE.PARTNER,S=(0,N.KJ)(!0),x=(0,A.ZP)(n||(0,A.QK)("PARTNERS")),P=(0,N.HL)(),I=P.setAddPartnerInviteConfirmationModal,j=P.setAssignAdAccountsModal,O=P.setAssignAssetsModal,C=P.setRequestAdAccountsModal,T=(0,b.d9)().selectedHierarchyId,z=(0,f.useSelector)(function(e){var t;return null!==(t=e.businessAccess.partners)&&void 0!==t?t:{}}).isLoading,R=(0,f.useSelector)(rv.m5),k=rg((0,_.useState)(""),2),L=k[0],M=k[1],H=(0,E.F)().checkExperiment,Z=H("web_m10n_business_access_orbac_ga").anyEnabled,G=H("web_m10n_business_hierarchy_beta").anyEnabled,F=(0,o.useRouteMatch)().path.includes(":userBizId/partners/pending"),q=(0,f.useSelector)(tE.t_),Y=r._('Choose partnership type modal', '[m10n]bizAccess.business.assignPartner.modal', 'accessibility label for the modal used to add a partner to a business account'),V=r._('Choose how to add your partner', '[m10n]bizAccess.business.assignPartner.title', 'heading for the modal used to add a partner to a business account'),Q=r._('To add a partner, you will need to provide their business ID. The business ID is located below the partner\'s name on the Business Access page.', '[m10n]bizAccess.addPartner.businessID.description', 'Describe the Business ID usage to establish a partnership');return z||R?(0,D.jsx)(U.Z,{accessibilityLabel:Y,title:V,size:"md",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(r),show:!0})}):(0,D.jsxs)(U.Z,{accessibilityLabel:Y,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"add-partner-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:r._('Add partner', '[m10n]bizAccess.addPartner.sumbitLabel', 'Label for the submit button on the Add Partner modal'),onClick:function(){"PARTNER_INVITE"===u?s((0,en.Yj)({partnerId:a,role:g,businessHierarchyNodeId:T,onSuccess:function(e){x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",business_id:S,partner_request_id:e}),s((0,tA.R)(q,"PARTNER",S,!F)),Z?Z?O({selectedIds:[a],dataToRefresh:"PARTNER_INVITE",inviteId:e}):I({selectedId:a,role:g,inviteId:e}):j({selectedIds:[a],selectionType:v.c7.AD_ACCOUNT,dataToRefresh:"PARTNER_INVITE",assignmentType:"PARTNER",roleType:g,inviteIds:[e]})},onFailure:function(e){var t,n=(0,eI.ZB)(r,e);x({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-invite",errorClass:null!==(t=e.code)&&void 0!==t?t:e.api_error_code,errorMessage:n,business_id:S}),M(n)},businessId:S})):"PARTNER_REQUEST"===u?s((0,en.PN)({partnerId:a,role:g,onSuccess:function(e,t){x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-request",business_id:S,partner_request_id:t}),s((0,tA.R)(q,"PARTNER",S,!F)),C({requestId:t,partnerId:e})},onFailure:function(e){var t=(0,eI.ZB)(r,e);x({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"invite-request-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"add-partner-submit-button-request",errorClass:e.code,errorMessage:t,business_id:S}),M(t)},businessId:S})):y(r._('Please select to invite the partner to access your ad accounts or request access to partner\'s ad accounts.', '[m10n]bizAccess.addPartner.partnership.select.missing', 'Error message shown below the Business ID field when user skips a selection step'))}})}),size:"md",title:V,footerSecondaryContent:(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:Z?r._('Step 1 of 3', '[m10n]bizAccess.addPartner.modal.steps.first', 'Label to identify the current step, first, on add a partner flow'):r._('Step 1 of 2', '[m10n]bizAccess.addPartner.modal.steps.first', 'Label to identify the current step, first, on add a partner flow')}),children:[G&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{children:Q})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.__,{htmlFor:"partnerId",children:(0,D.jsx)(m.xv,{size:"300",children:r._('Partner business ID', '[m10n]bizAccess.addPartner.partnerIdLabel', 'Label for the Business ID field in the modal used to add a partner to a business')})})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xu,{"data-test-id":"search-biz-partner-id-input",children:(0,D.jsx)(m.nv,{id:"partnerId",value:a,onChange:function(e){c((e.value||"").replace(/[^\d]/g,""))},errorMessage:L,type:"text",size:"lg"})})}),(0,D.jsx)(ry,{onChange:function(e){d(e),y("")},partnershipType:u,errorMessage:h})]})},rx=function(e){return[{getText:function(){return(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.X6,{size:"600",accessibilityLevel:1,children:e._('Introducing Business Access', '[m10n]bizAccess.onboarding.step1.title', 'Title for the first page of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('A new, improved way for businesses to seamlessly manage access to ad accounts.', '[m10n]bizAccess.onboarding.step1.p1', 'Content for the first page of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('Your existing access permissions have migrated to a new format that allows you to manage people, partners and ad accounts from a single, centralized management system.', '[m10n]bizAccess.onboarding.step1.p2', 'Content for the first page of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of Business Access', '[m10n].bizAccess.onboarding.altText.intro', 'Alt text for an image of Business Access')},src:"https://s.pinimg.com/webapp/tour-step1-hero@3x-5dc0ba8f.png",height:497,width:450}},{getText:function(){return(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.X6,{size:"600",accessibilityLevel:1,children:e._('Seamlessly add team members', '[m10n]bizAccess.onboarding.step2.title', 'Title for the page 2 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.X6,{size:"400",accessibilityLevel:2,children:e._('Choose business managers', '[m10n]bizAccess.onboarding.step2.title1', 'Content for the page 2 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('Business managers can add and remove employees, partners and create ad accounts', '[m10n]bizAccess.onboarding.step2.p1', 'Content for the page 2 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.X6,{size:"400",accessibilityLevel:2,children:e._('Add employees', '[m10n]bizAccess.onboarding.step2.title2', 'Content for the page 2 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('Employees can work on assigned ad accounts', '[m10n]bizAccess.onboarding.step2.p2', 'Content for the page 2 of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of employees', '[m10n].bizAccess.onboarding.altText.employees', 'Alt text for an image of Business Access employees')},src:"https://s.pinimg.com/webapp/tour-step2-hero@3x-cab6f155.png",height:460,width:323}},{getText:function(){return(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.X6,{size:"600",accessibilityLevel:1,children:e._('Easy collaboration with partners', '[m10n]bizAccess.onboarding.step3.title', 'Title for the page 3 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.X6,{size:"400",accessibilityLevel:2,children:e._('Brands', '[m10n]bizAccess.onboarding.step3.title1', 'Content for the page 3 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('Add your agency as a partner and then share access to relevant ad accounts', '[m10n]bizAccess.onboarding.step3.p1', 'Content for the page 3 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.X6,{size:"400",accessibilityLevel:2,children:e._('Agencies', '[m10n]bizAccess.onboarding.step3.title2', 'Content for the page 3 of the onboarding flow')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(m.xv,{size:"300",children:e._('After a brand adds your agency as a partner, assign your employees access to ad accounts', '[m10n]bizAccess.onboarding.step3.p2', 'Content for the page 3 of the onboarding flow')})})]})},image:{alt:function(){return e._('Example of partners', '[m10n].bizAccess.onboarding.altText.partners', 'Alt text for an image of Business Access partners')},src:"https://s.pinimg.com/webapp/tour-step3-hero@3x-8c8fea6a.png",height:335,width:214}}]};function rE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rP=function(e){var t,n=e.onComplete,r=e.onDismiss,s=(0,w.ZP)(),i=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],c=(0,N.HL)().clearModal,l=function(){r(),c()},u=s._('Skip', '[m10n]bizAccess.onboarding.skip', 'Label for button to skip the onboarding flow'),d=rx(s)[o-1],f=d.image,p=d.getText,h=(0,D.jsx)(m.kC,{alignItems:"stretch",justifyContent:"end",children:(0,D.jsx)(m.hU,{accessibilityLabel:u,icon:"cancel",iconColor:"gray",size:"sm",onClick:l})}),b=(0,D.jsxs)(m.xu,{display:"flex",marginStart:8,justifyContent:"between",alignItems:"center",children:[(0,D.jsx)(m.xv,{size:"300",color:"subtle",children:(0,T.nk)(s.ngettext('{{ index }} of {{ total }}', '{{ index }} of {{ total }}', o, '[m10n]bizAccess.onboarding.count', 'Short text showing the current page number out of the total number of pages in a modal'),{index:o,total:rx(s).length})}),(0,D.jsx)(m.xu,{display:"flex",marginStart:2,children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:o===rx(s).length?s._('Got it', '[m10n]bizAccess.onboarding.complete', 'Label for the button to complete the onboarding flow and return to the product'):s._('Next', '[m10n]bizAccess.onboarding.next', 'Label for the button to go to the next step in the onboarding flow'),onClick:function(){o===rx(s).length?(n(),c()):a(o+1)}})})]});return(0,D.jsx)(C.ZP,{accessibilityModalLabel:s._('Business Access product tour modal', '[m10n]bizAccess.onboarding.accessibilityLabel', 'Accessibility label for the onboarding modal'),onDismiss:l,size:"lg",children:(0,D.jsxs)(m.kC,{alignItems:"stretch",minHeight:500,children:[(0,D.jsx)(m.xu,{minWidth:333,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#FBFBFB"}},children:(0,D.jsx)("img",{alt:f.alt(),src:f.src,height:f.height,width:f.width})}),(0,D.jsxs)(m.xu,{flex:"grow",margin:8,display:"flex",direction:"column",justifyContent:"between",children:[h,(0,D.jsx)(m.xu,{marginStart:8,marginEnd:8,children:p()}),(0,D.jsx)(m.xu,{marginTop:8,children:b})]})]})})};function rI(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function rj(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){rI(i,r,s,o,a,"next",e)}function a(e){rI(i,r,s,o,a,"throw",e)}o(void 0)})}}function rO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rw=function(e){var t,n,r,s,i,a,c,l=e.dataToRefresh,u=e.resourceId,d=e.principalId,_=e.assignmentType,p=(0,E.F)(),h=p.checkExperiment,b=h("business_access_assets_and_history_api_v4_migration").anyEnabled,g=h("web_m10n_business_access_employee_redesign").anyEnabled,P=(0,S.v)().logContextEvent,I=(0,A.ZP)((0,A.o1)(l)),j=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),C=(0,o.useLocation)(),R=(0,w.ZP)(),k=(0,N.KJ)(),L=(0,N.KJ)(!0),M=k||L,H=(0,N.nU)(),Z=(0,N.nU)(!0),q=H||Z,Y=(0,N.HL)().clearModal,V=(0,(0,y.C)().getParentHierarchyForIdIfExists)(M),Q=null==V?void 0:V.id,W=(0,F.F9)().showToast,J=(0,f.useDispatch)(),K=rO((0,O.Z)(z.b,!0,d),3),X=K[0],$=K[1],et=K[2],es="AOAA_REQUEST_DETAIL_PAGE"===l,ei=(t=rj(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[null,null,null]);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),eo=(0,f.useSelector)((0,tq.PP)(q)),ea=eo.name,ec=eo.permissions,el=eo.client_business,eu=rO((0,O.Z)(es?ei:tS.pI,!0,{businessId:M,assetIds:[u],resourceType:"AD_ACCOUNT"}),3),ed=eu[0],e_=eu[1],ef=eu[2],em=null!==(s=Object.values(null!==(n=null==ed?void 0:null===(r=ed.data)||void 0===r?void 0:r.data)&&void 0!==n?n:{})[0])&&void 0!==s?s:{},ep="PARTNER"===_?tx.h9:ti.GL,eh=rO((0,O.Z)(es?ei:ep,!0,"PARTNER"===_?{businessId:M,assetId:u,partnerId:d}:{businessId:M,assetId:u,personId:d}),3),eb=eh[0],ey=eh[1],ev=eh[2],eg=null!==(i=null==eb?void 0:null===(a=eb.data)||void 0===a?void 0:a.data)&&void 0!==i?i:{},eA=b?em:eg;if(ev||et||ef)return(0,D.jsx)(nh.Z,{});var eS=ey||$||e_;if(eS){var ex=(null==eS?void 0:eS.message)||(0,B.sQ)(R);return W(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{type:"error",duration:v.QE,onHide:t,text:ex})}),Y(),null}return(0,D.jsxs)(U.Z,{accessibilityLabel:R._('Remove ad account roles modal', '[m10n]bizAccess.removeAdAccountRoles.modal', 'accessibility label for the modal used to remove ad account assignment'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-from-ad-accounts-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,color:"red",text:R._('Remove', '[m10n]businessAccess.removeAdAccountAccess.submit', 'Label for the submit button on the modal to remove a person from an ad account'),onClick:function(){rj(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!es){e.next=6;break}return e.next=4,(0,ts.SA)({businessId:M,partnerId:el.id,requestId:q,businessIdToPermissions:ec.filter(function(e){return!Object.keys(e).includes(d)})});case 4:case 9:e.next=13;break;case 6:if("PARTNER"!==_){e.next=11;break}return e.next=9,(0,tx.OA)({businessId:M,partnerId:d,assetId:u,businessHierarchyNodeId:Q});case 11:return e.next=13,(0,ti.bP)({businessId:M,memberId:d,assetId:u,businessHierarchyNodeId:Q});case 13:W(function(e){var t,n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(R._('Access to {{adAccountName}} has been removed.', '[m10n]adAccountAssignment.removeAssignment.success.toast', 'Toast prompting user that the assigned ad account has been removed. {adAccountName} is an interpolated variable.'),{adAccountName:(null==eA?void 0:null===(t=eA.asset)||void 0===t?void 0:t.name)||""}).join("")})}),"PEOPLE"===l&&(g?J((0,e2.V_)({adAccountId:u,employeeId:q})):J((0,er.UQ)({businessId:M,detailId:q,includeAssetSummary:!0,assetPermissionType:0,experimentsClient:p}))),"PARTNER"===l&&J((0,en.ek)({businessId:M,detailId:q,experimentsClient:p})),"AD_ACCOUNT_PEOPLE"===l&&J((0,ee.Q3)({businessId:M,detailId:q})),"AD_ACCOUNT_PARTNER"===l&&J((0,ee.yX)({businessId:M,detailId:q})),"AOAA_REQUEST_DETAIL_PAGE"===l&&J((0,tr.vm)({businessId:M,updateDataOnly:!1,updateDetailPageVisibleData:!0,requestIds:[q]})),"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES"===l&&(J((0,eR.Q3)({businessId:M,detailId:q})),J((0,ee.yX)({businessId:M,detailId:q,updateDataOnly:!0}))),"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS"===l&&J((0,eR.yX)({businessId:M,detailId:q})),(0,x.dK)(C)?j({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:u}):(P({event_type:8965,component:13642,aux_data:{business_id:M,ad_account_id:u}}),I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button"})),Y(),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(0),W(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(R),type:"error"})}),(0,x.dK)(C)?j({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-ad-account-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,ad_account_id:u}):P({event_type:8966,component:13642,aux_data:{business_id:M,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}}),Y();case 30:case"end":return e.stop()}},e,null,[[0,25]])}))()}})}),title:R._('Remove ad account access', '[m10n]bizAccess.removeAdAccountAccess.title', 'Title of the modal to remove a person from an ad account'),size:"sm",children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsxs)(m.xu,{display:"flex",alignItems:"center",marginBottom:4,children:[(0,D.jsx)(m.qE,{size:"lg",name:(null==X?void 0:X.full_name)||"",src:(null==X?void 0:X.image_large_url)||""}),(0,D.jsx)(m.xu,{paddingX:2,children:(0,D.jsx)(m.kC,{children:(0,D.jsx)(m.xv,{inline:!0,children:(0,T.nk)(R._('{{ entityName }} will no longer have access to the ad account: {{ adAccount}}', '[m10n]businessAccess.removeAdAccountAccess.content', 'Text in the modal to remove an Entity from an ad account. entityName: name of the business or employee, adAccount: name of  the ad account'),{entityName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:(null==X?void 0:X.full_name)||""},"1"),adAccount:es?ea:(null==eA?void 0:null===(c=eA.asset)||void 0===c?void 0:c.name)||""})},"0")})})]})]})},rT=n(669402),rz=n(62492),rR=n(367974);function rN(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var rD=function(e,t,n,r,s){var i=(0,F.F9)().showToast,o=(0,N.HL)().clearModal,a=(0,f.useDispatch)();return"AD_ACCOUNT"===n?{primaryButtonText:e._('Revoke access', '[m10].bizAccess.share.tag.removeAdAccount.submit', 'Primary button of remove ad account from tag modal'),headerText:e._('Revoke access to Pinterest tag', '[m10].bizAccess.share.tag.removeAdAccount.header', 'Header of remove ad account from asset group modal'),entityCardText:(0,T.nk)(e._('Revoke access to {{tagName}} (Tag ID: {{tagId}}) from {{adAccountName}} (Ad account ID: {{adAccountId}})', '[m10].bizAccess.share.tag.removeAdAccount.content', 'text telling the user which ad account is being removed from which tagtagName: name of the tag revoking accesstagId: id of the tag revoking accessadAccountName: name of the ad account being removedadAccountId: id of the ad account being removed'),{tagName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:r.name},"".concat(r.id,"label")),tagId:r.id,adAccountName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:s.name},"".concat(s.id,"label")),adAccountId:s.id}),warnText:e._('Once access is revoked:', '[m10].bizAccess.share.tag.removeAdAccount.warning', 'warning of remove ad account from tag modal'),summary:(0,D.jsx)(_.Fragment,{children:(0,D.jsxs)(m.aV,{type:"unordered",spacing:"regular",children:[(0,D.jsx)(m.aV.Item,{text:e._('Ad accounts will no longer be able to apply the tag to their ad campaigns', '[m10].bizAccess.share.tag.removeAdAccount.list.apply', 'list item explaining ad accounts wont be able to apply the tag anymore')},"ad-accounts-no-longer-available"),(0,D.jsx)(m.aV.Item,{text:e._('Campaigns only using this Pinterest tag will be paused', '[m10].bizAccess.share.tag.removeAdAccount.list.use', 'list item explaining campaigns using the shared tag will be paused')},"campaigns-only-using-pinterest"),(0,D.jsx)(m.aV.Item,{text:e._('Event data will no longer be shared, but historical data will be available', '[m10].bizAccess.share.tag.removeAdAccount.list.noshared', 'list item explaining event data will no longer be shared, but historical data will')},"event-no-longer-shared")]})}),onSubmit:function(){var n;(n=regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,s.id){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,rz.oZ)({businessId:t,tagId:s.tagId,leaderTagId:r.id});case 5:a((0,rT.oZ)({sharedTagId:s.tagId,adAccountId:s.id})),i(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(e._('Access to {{tagName}} (Tag ID: {{tagId}}) has been revoked', '[m10].bizAccess.share.tag.removeAdAccount.toast', 'toast telling the user which tag revoked access tagName: name of the tag revoking access tagId: id of the tag revoking access'),{tagName:r.name,tagId:r.id}).join("")})}),o(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),i(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,type:"error",onHide:n,text:(0,B.sQ)(e)})});case 13:case"end":return n.stop()}},n,null,[[0,10]])}),function(){var e=this,t=arguments;return new Promise(function(r,s){var i=n.apply(e,t);function o(e){rN(i,r,s,o,a,"next",e)}function a(e){rN(i,r,s,o,a,"throw",e)}o(void 0)})})()}}:{primaryButtonText:"",headerText:"",entityCardText:"",warnText:"",summary:null,onSubmit:function(){}}},rk=function(e){var t=e.assetOrMemberType,n=e.toRemove,r=(0,w.ZP)(),s=(0,f.useSelector)(rR.iX),i=rD(r,(0,N.KJ)(),t,s,n),o=i.primaryButtonText,a=i.headerText,c=i.entityCardText,l=i.warnText,u=i.onSubmit,d=i.summary;return(0,D.jsx)(U.Z,{accessibilityLabel:r._('modal for removing an ad account from share tag', '[m10n].bizAccess.share.tag.modalAccessibilityLabel', 'accessibility label for modal that removes an asset from a Pinterest tag'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"tag-delete-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:o,onClick:function(){return u()}})}),title:a,size:"sm",cancelText:(0,B.I9)(r),onDismiss:function(){},children:(0,D.jsxs)(m.xu,{marginBottom:8,children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{size:"300",children:c})}),(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.J0,{type:"warningBare",iconAccessibilityLabel:"warning",message:(0,D.jsx)(m.xv,{weight:"bold",children:l},"warn-text")})}),(0,D.jsx)(m.xu,{children:d})]})})};function rL(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function rB(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){rL(i,r,s,o,a,"next",e)}function a(e){rL(i,r,s,o,a,"throw",e)}o(void 0)})}}var rU=function(e,t,n,r,s,i){var o,a,c,l,u=(0,F.F9)().showToast,d=(0,N.HL)().clearModal,_=(0,E.F)().checkExperiment("web_m10n_business_access_asset_groups_ga").anyEnabled;function m(t){u(function(n){var r=n.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:r,text:t.message||(0,B.sQ)(e),type:"error"})})}var p=(0,f.useDispatch)();switch(r){case"PROFILE":return{primaryButtonText:e._('Remove Profile', '[m10].bizAccess.assetGroup.removeProfile.submit', 'Primary button of remove profile from asset group modal'),headerText:e._('Remove Profile', '[m10].bizAccess.assetGroup.removeProfile.header, header for profile column', 'Header of remove profile from asset group modal'),entityCardText:(0,T.nk)(e._('Removing {{profileName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeProfile.content', 'text telling the user which profile is being removed from which asset group profileName: name of the profile being removed assetGroupName: name of asset group'),{assetGroupName:s.name,profileName:i.profileName}).join(""),warnText:_?e._('Employees and partners will lose access to this profile if they do not have permissions for this profile outside of this asset group. You can always add this profile later.', '[m10].bizAccess.assetGroup.removeProfile.warning', 'warning of remove profile from asset group modal'):e._('Employees will lose access to this profile if they do not have permissions for this profile outside of this asset group. You can always add this profile later.', '[m10].bizAccess.assetGroup.removeProfile.alpha.warning', 'warning of remove profile from asset group modal'),selectAvatar:i.profileAvatar||"",onSubmit:function(){rB(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.profileId){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,ei.nk)({businessId:t,assetGroupId:s.id,assetsToRemove:[i.profileId],businessHierarchyNodeId:n});case 5:p((0,et.NQ)({businessId:t,resourceType:"PROFILE"},{assetsToRemove:[i.profileId]})),u(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(e._('{{profileName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedProfile.toast', 'toast telling the user which profile was removed from which asset group profileName: name of the profile being removed assetGroupName: name of asset group'),{assetGroupName:s.name,profileName:i.profileName}).join("")})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),m(r.t0);case 12:d();case 13:case"end":return r.stop()}},r,null,[[2,9]])}))()}};case"AD_ACCOUNT":return{primaryButtonText:e._('Remove ad account', '[m10].bizAccess.assetGroup.removeAdAccount.submit', 'Primary button of remove ad account from asset group modal'),headerText:e._('Remove ad account', '[m10].bizAccess.assetGroup.removeAdAccount.header', 'Header of remove ad account from asset group modal'),entityCardText:(0,T.nk)(e._('Removing {{adAccountName}} from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeAdAccount.content', 'text telling the user which ad account is being removed from which asset group adAccountName: name of the ad account being removed assetGroupName: name of asset group'),{assetGroupName:s.name,adAccountName:i.name}).join(""),warnText:_?e._('Employees and partners will lose access to this ad account if they do not have permissions for this ad account outside of this asset group. You can always add this ad account later.', '[m10].bizAccess.assetGroup.removeAdAccount.warning', 'warning of remove ad account from asset group modal'):e._('Employees will lose access to this ad account if they do not have permissions for this ad account outside of this asset group. You can always add this ad account later.', '[m10].bizAccess.assetGroup.removeAdAccount.alpha.warning', 'warning of remove ad account from asset group modal'),selectAvatar:"",onSubmit:function(){rB(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.id){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,ei.nk)({assetGroupId:s.id,businessId:t,assetsToRemove:[i.id],businessHierarchyNodeId:n});case 5:p((0,et.NQ)({businessId:t,resourceType:"AD_ACCOUNT"},{assetsToRemove:[i.id]})),u(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(e._('{{adAccountName}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeAdAccount.toast', 'toast telling the user which profile was removed from which asset group adAccountName: name of the ad account being removed assetGroupName: name of asset group'),{assetGroupName:s.name,adAccountName:i.name}).join("")})}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),m(r.t0);case 12:d();case 13:case"end":return r.stop()}},r,null,[[2,9]])}))()}};case"PEOPLE":return{primaryButtonText:e._('Remove employee', '[m10].bizAccess.assetGroup.removeEmployee.submit', 'Primary button of remove employee from asset group modal'),headerText:e._('Remove employee', '[m10].bizAccess.assetGroup.removeEmployee.header, header for employee column', 'Header of remove employee from asset group modal'),entityCardText:(0,T.nk)(e._('Removing {{employeeName}} ({{employeeEmail}}) from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removeEmployee.content', 'text telling the user which employee is being removed from which asset group employeeName: name of the employee being removed assetGroupName: name of asset group, employeeEmail: email of the employee'),{assetGroupName:s.name,employeeName:null===(o=i.user)||void 0===o?void 0:o.full_name,employeeEmail:null===(a=i.user)||void 0===a?void 0:a.email}).join(""),warnText:e._('Once this employee is removed, they will lose access to all assets within this asset group unless they had pre-existing access to the asset', '[m10].bizAccess.assetGroup.removeEmployee.warning', 'warning of remove employee from asset group modal'),selectAvatar:i.user&&i.user.image_small_url?i.user.image_small_url:"",onSubmit:function(){rB(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i.id&&i.user)){r.next=12;break}return r.prev=1,r.next=4,(0,ei.AJ)({assetGroupId:s.id,businessId:t,employeeId:i.id,businessHierarchyNodeId:n});case 4:p((0,et.dQ)({businessId:t},{userType:"PEOPLE"})),u(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,thumbnail:{avatar:(0,D.jsx)(eJ.qE,{size:"sm",name:i.user.full_name,src:i.user.image_small_url})},text:(0,T.nk)(e._('{{employeeName}} {{employeeEmail}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedEmployee.toast', 'toast telling the user which employee was removed from which asset group employeeName: name of the employee being removed assetGroupName: name of asset group, employeeEmail: email of the employee'),{assetGroupName:s.name,employeeName:i.user.full_name,employeeEmail:i.user.email}).join("")})}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),m(r.t0);case 11:d();case 12:case"end":return r.stop()}},r,null,[[1,8]])}))()}};case"PARTNER":return{primaryButtonText:e._('Remove partner', '[m10].bizAccess.assetGroup.removePartner.submit', 'Primary button of remove partner from asset group modal'),headerText:e._('Remove partner', '[m10].bizAccess.assetGroup.removePartner.header, header for partner column', 'Header of remove partner from asset group modal'),entityCardText:(0,T.nk)(e._('Removing {{partnerName}} ({{partnerEmail}}) from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removePartner.content', 'text telling the user which partner is being removed from which asset group partnerName: name of the partner being removed assetGroupName: name of asset group, partnerEmail: email of the partner'),{assetGroupName:s.name,partnerName:null===(c=i.user)||void 0===c?void 0:c.full_name,partnerEmail:null===(l=i.user)||void 0===l?void 0:l.email}).join(""),warnText:e._('Once this partner is removed, they will lose access to all assets within this asset group unless they had pre-existing access to the asset', '[m10].bizAccess.assetGroup.removePartner.warning', 'warning of remove partner from asset group modal'),selectAvatar:i.user&&i.user.image_small_url?i.user.image_small_url:"",onSubmit:function(){rB(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i.id&&i.user)){r.next=12;break}return r.prev=1,r.next=4,(0,ei.ld)({assetGroupId:s.id,businessId:t,partnerId:i.id,businessHierarchyNodeId:n});case 4:p((0,et.dQ)({businessId:t},{userType:"PARTNER"})),u(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,thumbnail:{avatar:(0,D.jsx)(eJ.qE,{size:"sm",name:i.user.full_name,src:i.user.image_small_url})},text:(0,T.nk)(e._('{{partnerName}} {{partnerEmail}} has been removed from {{assetGroupName}}', '[m10].bizAccess.assetGroup.removedEmployee.toast', 'toast telling the user which employee was removed from which asset group partnerName: name of the employee being removed assetGroupName: name of asset group, partnerEmail: email of the employee'),{assetGroupName:s.name,partnerName:i.user.full_name,partnerEmail:i.user.email}).join("")})}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),m(r.t0);case 11:d();case 12:case"end":return r.stop()}},r,null,[[1,8]])}))()}};default:return{primaryButtonText:"",headerText:"",entityCardText:"",warnText:"",selectAvatar:"",onSubmit:function(){}}}},rM=function(e){var t=e.assetOrMemberType,n=e.toRemove,r=(0,w.ZP)(),s=(0,f.useSelector)(ea.FS),i=(0,N.KJ)(),o=(0,(0,y.C)().getParentHierarchyForIdIfExists)(i),a=rU(r,i,null==o?void 0:o.id,t,s,n),c=a.primaryButtonText,l=a.headerText,u=a.entityCardText,d=a.warnText,_=a.selectAvatar,p=a.onSubmit;return(0,D.jsx)(U.Z,{accessibilityLabel:r._('modal for removing an ad account, profile, partner, or employee to an asset group', '[m10n].bizAccess.assetGroupRemoveAsset.modalAccessibilityLabel', 'accessibility label for modal that removes an asset or user from an asset group'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"assetGroup-delete-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:c,onClick:function(){return p()}})}),title:l,size:"sm",cancelText:(0,B.I9)(r),onDismiss:function(){},children:(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:4,children:_?(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(eJ.qE,{size:"lg",src:_,name:""}),(0,D.jsx)(m.xu,{marginTop:2,marginBottom:2,marginStart:2,display:"flex",direction:"column",justifyContent:"around",children:(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xv,{size:"300",children:u})})})]}):(0,D.jsx)(m.xv,{size:"300",children:u})}),(0,D.jsx)(m.J0,{type:"warningBare",iconAccessibilityLabel:"warning",message:d})]})})};function rH(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var rZ=function(){var e,t=(0,w.ZP)(),n=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),r=(0,F.F9)().showToast,s=(0,N.HL)().clearModal,i=(0,(0,E.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,a=(0,o.useRouteMatch)().params.businessHierarchyId,c=(0,y.C)(),l=c.businessHierarchies,u=c.fetchData,d=l.find(function(e){return e.id===a}),_=(0,N.MC)();return i&&d&&_?(0,D.jsx)(U.Z,{accessibilityLabel:t._('Remove child business modal', '[m10n]bizAccess.removeChildBusinessModal.a11yLabel', 'Accessibility label for the remove child business modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-child-business-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:t._('Remove business', '[m10n]bizAccess.removeChildBusiness.primaryActionButton', 'Button confirming removal of child business'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,nY.$N)({hierarchyId:null!=a?a:"",childHierarchyId:_.user.id});case 3:return r(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,T.nk)(t._('{{name}} has been removed from your business hierarchy', '[m10n]bizAccess.childBusiness.delete.toast', 'message confirming that child business was deletedname: name of business removing from hierarchy'),{name:_.user.full_name}).join("")})}),n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-child-business",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-child-business-confirmation-button",business_id:_.user.id}),e.next=7,u();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-child-business",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-child-business-confirmation-button",business_id:_.user.id,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(i=e.t0.stack)||void 0===i?void 0:i.slice(0,4096))||e.t0.message}),r(function(e){var n=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(0,B.sQ)(t),type:"error"})});case 13:s();case 14:case"end":return e.stop()}},e,null,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){rH(i,r,s,o,a,"next",e)}function a(e){rH(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),title:t._('Remove business', '[m10n]bizAccess.removeChildBusiness.title', 'Title for the remove child business modal'),size:"sm",children:(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(eJ.qE,{size:"lg",src:d.img_medium_url,name:null!==(e=d.name)&&void 0!==e?e:""}),(0,D.jsx)(m.xu,{marginBottom:4,marginStart:3,display:"flex",direction:"column",justifyContent:"around",children:(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(t._('Remove {{ childBusinessName }} from {{ businessHierarchyName }}\'s business hierarchy', '[m10n]businessAccess.childBusiness.callout.businessId', 'Remove child business confirmation text. childBusinessName: name of the child business, businessHierarchyName: name of the business hierarchy'),{childBusinessName:_.user.full_name,businessHierarchyName:d.name})})})})]})})}):null};function rG(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var rF=function(){var e,t,n=(0,f.useDispatch)(),r=(0,w.ZP)(),s=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),i=(0,F.F9)().showToast,a=(0,N.HL)().clearModal,c=(0,(0,E.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,l=(0,o.useRouteMatch)().params.businessHierarchyId,u=(0,y.C)().businessHierarchies.find(function(e){return e.id===l}),d=(0,N.Sx)(),_=(0,f.useSelector)(ed.Aj);return c&&u&&d?(0,D.jsx)(m.xu,{"data-test-id":"remove-organization-manager-modal",children:(0,D.jsx)(U.Z,{accessibilityLabel:r._('Remove organization manager modal', '[m10n]bizAccess.removeOrganizationManager.modal', 'Accessibility label for the remove organization manager modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-organization-manager-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:r._('Remove manager', '[m10n]bizAccess.removeOrganizationManager.primaryActionButton', 'Button confirming removal of organization manager'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.length>1)){e.next=13;break}return e.prev=1,e.next=4,(0,nY.Ay)({hierarchyId:null!=l?l:"",managerId:d.user.id});case 4:i(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,T.nk)(r._('{{name}} has been removed from your business hierarchy', '[m10n]bizAccess.organizationManager.delete.toast', 'message confirming that organization manager was deletedname: name of the manager removed from hierarchy'),{name:d.user.full_name}).join("")})}),n((0,eR.iS)({hierarchyId:null!=l?l:""})),s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-organization-manager-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",organization_manager_id:d.user.id}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(r),type:"error"})}),s({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-organization-manager-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",organization_manager_id:d.user.id,errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message});case 13:a();case 14:case"end":return e.stop()}},e,null,[[1,9]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){rG(i,r,s,o,a,"next",e)}function a(e){rG(i,r,s,o,a,"throw",e)}o(void 0)})})()},disabled:_.length<2})}),title:r._('Remove manager', '[m10n]bizAccess.removeOrganizationManager.title', 'Title for the remove organization manager modal'),size:"sm",children:(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(eJ.qE,{size:"lg",src:null!==(e=d.user.image_medium_url)&&void 0!==e?e:"",name:null!==(t=d.user.full_name)&&void 0!==t?t:""}),(0,D.jsx)(m.xu,{marginBottom:4,marginStart:3,display:"flex",direction:"column",justifyContent:"around",children:(0,D.jsx)(m.xv,{size:"300",inline:!0,children:(0,T.nk)(r._('Removing {{ managerName }} ({{ managerEmail }}) from {{ businessHierarchyName }}\'s business hierarchy', '[m10n]businessAccess.removeOrganizationManager.content', 'Remove organization manager confirmation text. managerName: name of the organization manager, managerEmail: email of the organization manager, businessHierarchyName: name of the business hierarchy'),{managerName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:d.user.full_name},"1"),managerEmail:d.user.email,businessHierarchyName:u.name})},"0")})]})})})}):null},rq=function(e){var t=e.text,n=(0,w.ZP)();return(0,D.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#FCF6F2"}},display:"flex",padding:3,rounding:2,children:[(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:2,children:(0,D.jsx)(m.qb,{accessibilityLabel:n._('Warning', '[m10n]bizAccess.removePartner.warningIcon', 'Accessibility label for warning icon'),type:"warning"})}),(0,D.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,D.jsx)(m.xv,{align:"start",overflow:"normal",size:"200",children:t})})]})},rY=function(e){var t=e.onHide,n=e.name,r=(0,w.ZP)();return(0,D.jsx)(G.ZP,{duration:1e4,dismissButton:{onDismiss:t},onHide:t,text:(0,eE.Z)(r._('{{name}} removed. Changes may take several hours to process. Members will retain their existing permissions until removal is processed.', '[m10n] businessAccess.memberRemoved.successToast', 'message confirming that member was deleted, name: name of business being removed'),{name:n}),type:"success"})},rV=n(215026);function rQ(e){return(rQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rW(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rX(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r$=function(e){var t,n,r,s=e.businessId,i=e.partnerId,a=e.refreshData,c=(0,S.v)().logContextEvent,l=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),u=(0,o.useLocation)(),d=(0,w.ZP)(),p=rK((0,O.Z)(tx.w8,!0,s,i),3),h=p[0],b=p[2],P=rK((0,O.Z)(tx.c4,!0,{businessId:s,partnerId:i,includeAssetSummary:!0}),3),I=P[0],j=P[2],C=rK((0,O.Z)(tx.Eg,!0,{id:s,partnerId:i,includeAssetSummary:!0}),3),z=C[0],R=C[2],k=rK((0,O.Z)(tx.Bq,!0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rJ(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==rQ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rQ(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({businessId:s,partnerId:i},v.vk)),3),L=k[0],M=k[2],H=(0,E.F)().checkExperiment,Z=H("web_m10n_business_access_orbac_www").anyEnabled,q=(0,rV.Z)(!0),Y=H("web_m10n_business_hierarchy_beta").anyEnabled,V=H("business_access_employees_api_v4_migration").anyEnabled,Q=H("business_access_assets_and_history_api_v4_migration").anyEnabled,W=(L||{data:{}}).data.total_data_count,J=void 0===W?0:W,K=null!==(t=null==h?void 0:h.data)&&void 0!==t?t:{},X=K.active_campaigns_count,$=void 0===X?0:X,ee=K.shared_ad_accounts_count,et=null!==(n=null==I?void 0:null===(r=I.data)||void 0===r?void 0:r.data)&&void 0!==n?n:{},er=et.biz_roles,es=et.user,ei=(es=void 0===es?{}:es).full_name,eo=es.image_medium_url,ea=et.assets_summary,ec=(ea=void 0===ea?{}:ea).profiles,el=null==z?void 0:z.data.data.find(function(e){return e.id===i}),eu=null!=el?el:{},ed=eu.business_roles,e_=eu.user,ef=(e_=void 0===e_?{}:e_).full_name,em=e_.image_medium_url,ep=eu.assets_summary,eh=(ep=void 0===ep?{}:ep).profiles,eb=ep.ad_accounts,ey=Q?(void 0===eb?[]:eb).length:void 0===ee?0:ee,ev=(0,N.nU)(),eg=(0,N.HL)().clearModal,eA=(0,(0,y.C)().getParentHierarchyForIdIfExists)(s),eS=null==eA?void 0:eA.id,ex=(0,f.useDispatch)(),eP=(0,F.F9)(),eI=eP.showToast,ej=eP.showOneToast,eO=(0,o.useHistory)(),eC=rK((0,_.useState)(!1),2),ew=eC[0],eT=eC[1],ez=rK((0,_.useState)(!1),2),eR=ez[0],eD=ez[1],ek=rK((0,_.useState)(!1),2),eL=ek[0],eB=ek[1],eU=rK((0,_.useState)(!1),2),eM=eU[0],eH=eU[1],eZ=eL&&(0===$||ew)&&(0===ey||eR),eG=V?ed:er,eF=V?void 0===ef?"":ef:void 0===ei?"":ei,eq=V?eh:ec,eY=!!(eq&&eq.find(function(e){return e.id===s})),eV=(0,T.nk)(d.ngettext('{{adAccountsCount}} ad account', '{{adAccountsCount}} ad accounts', ey, '[m10n]bizAccess.removePartner.adAccountstext', 'text to be used inside sentence to represent the number of ad accounts. adAccountsCount: number of shared ad accounts'),{adAccountsCount:ey}).join(""),eQ=(0,T.nk)(d.ngettext('{{assetGroupsCount}} asset group', '{{assetGroupsCount}} asset groups', J, '[m10n]bizAccess.removePartner.assetGroupsCount', 'text to be used inside sentence to represent the number of ad accounts. assetGroupsCount: number of shared ad accounts'),{assetGroupsCount:J}).join(""),eW=(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(rq,{text:q?d._('Once you remove a partner, you will need to resend an invite to grant access to your business', '[m10n]bizAccess.removePartner.assetGroupsGa.warningText', 'Warning explaining what happens once you remove a partner'):d._('Once you remove a partner, you will need to reassign permissions to add them again', '[m10n]bizAccess.removePartner.warningText', 'Warning explaining what happens once you remove a partner')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:(0,eE.Z)(d._('Removing {{fullName}} will result in the following:', '[m10n]bizAccess.removePartner.checkboxHeader', 'Header explaining what the effects of removing a partner. fullName: name of business partner being removed'),{fullName:eF})})}),!Q&&0!==$&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d.ngettext('\u2022 {{fullName}} will lose access to {{activeCampaignsCount}} active campaign', '\u2022 {{fullName}} will lose access to {{activeCampaignsCount}} active campaigns', $, '[m10n]bizAccess.removePartner.loseActiveCampaignText', 'Text explaining removing a partner will result in loss of campaign access. activeCampaignsCount: number of active campaigns fullName: name of business partner being removed'),{fullName:eF,activeCampaignsCount:$})})}),0!==ey&&J<=0&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d._('\u2022 {{fullName}} will lose access to {{adAccountsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCountText: number of shared ad accounts. fullName: name of business partner being removed'),{fullName:eF,adAccountsCountText:eV})})}),0!==J&&ey<=0&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d._('\u2022 {{fullName}} will lose access to {{assetGroupsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAssetGrouppAccessText', 'Text explaining removing a partner will result in loss of asset group access. assetGroupsCountText: number of shared asset groups. fullName: name of business partner being removed'),{fullName:eF,assetGroupsCountText:eQ})})}),0!==J&&0!==ey&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d._('\u2022 {{fullName}} will lose access to {{adAccountsCountText}}, {{assetGroupsCountText}} and associated tools', '[m10n]bizAccess.removePartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account and asset group access. adAccountsCountText: number of shared ad accounts. assetGroupsCountText: number of shared asset groups fullName: name of business partner being removed'),{fullName:eF,assetGroupsCountText:eQ,adAccountsCountText:eV})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d._('\u2022 {{fullName}} employees will lose access to all shared accounts', '[m10n]bizAccess.removePartner.sharedAccountAccessText', 'Text explaining removing a partner will result in loss of shared account access. fullName: name of business partner being removed'),{fullName:eF})})}),eY&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,eE.Z)(d._('\u2022 {{fullName}} and its employees will lose access to your profile', '[m10n]bizAccess.removePartner.profileAccessText', 'Text explaining removing a partner will result in loss of profile access. fullName: name of business partner being removed'),{fullName:eF})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,D.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,D.jsx)(m.XZ,{checked:eM,id:"confirmRemovePartnerCheckbox",onChange:function(e){e.checked,eH(!eM),(0,eN.Z)(c,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"confirmRemovePartnerCheckbox"}})},label:d._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business')})})})]}),eJ=(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(rq,{text:d._('Removing a Partner is a permanent action and cannot be undone.', '[m10n]bizAccess.removePartner.warningText', 'Warning stating action taken can not be undone')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:d._('Please check all boxes to continue', '[m10n]bizAccess.removePartner.checkboxHeader', 'Header asking for confirmation to below checkboxes')})}),!Q&&0!==$&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,D.jsx)(m.XZ,{checked:ew,id:"activeCampaignsCheckbox",onChange:function(){eT(!ew),(0,eN.Z)(c,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"activeCampaignsCheckbox"}})},label:(0,eE.Z)(d.ngettext('{{fullName}} will lose access to {{activeCampaignsCount}} active campaign', '{{fullName}} will lose access to {{activeCampaignsCount}} active campaigns', $, '[m10n]bizAccess.removePartner.checkbox', 'Checkbox for the remove partner modal'),{fullName:eF,activeCampaignsCount:$})})}),0!==ey&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,D.jsx)(m.XZ,{checked:eR,id:"adAccountsCheckbox",onChange:function(){eD(!eR),(0,eN.Z)(c,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"adAccountsCheckbox"}})},label:(0,eE.Z)(d.ngettext('{{fullName}} will lose access to {{adAccountsCount}} shared ad account and associated tools', '{{fullName}} will lose access to {{adAccountsCount}} shared ad accounts and associated tools', ey, '[m10n]bizAccess.removePartner.checkbox', 'Checkbox for the remove partner modal'),{fullName:eF,adAccountsCount:ey})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,D.jsx)(m.xu,{"data-test-id":"all-assigned-accounts-checkbox",children:(0,D.jsx)(m.XZ,{checked:eL,id:"allAssignedCheckbox",onChange:function(e){e.checked,eB(!eL),(0,eN.Z)(c,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"allAssignedCheckbox"}})},label:(0,eE.Z)(d._('{{fullName}} employees will lose access to all assigned accounts', '[m10n]bizAccess.removePartner.checkbox', 'Checkbox for the remove partner modal'),{fullName:eF})})})})]});return j||R||b||M?null:(0,D.jsxs)(U.Z,{accessibilityLabel:d._('Remove partner modal', '[m10n]bizAccess.removePartnerModal.a11yLabel', 'Accessibility label for the remove partner modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-partner-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",disabled:Z?!eM:!eZ,text:d._('Remove', '[m10n]bizAccess.removePartner.primaryActionButton', 'Button confirming removal of partner business'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!V){e.next=6;break}return e.next=4,(0,tx.K7)({role:eG[0],partnerId:i,businessId:s,businessHierarchyNodeId:eS,partner_type:"INTERNAL"});case 4:e.next=8;break;case 6:return e.next=8,(0,tx.Cj)({role:eG[0],partnerId:i,businessId:s,businessHierarchyNodeId:eS});case 8:a?a():s&&ex((0,en.Eg)({businessId:s,inEmployeeApiMigration:V})),ej(function(e){var t=e.hideToast;return(0,D.jsx)(rY,{onHide:t,name:eF||""})}),(0,x.dK)(u)?l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:i}):c({event_type:8965,component:13646,aux_data:{business_id:s}}),eg(),ev===i&&eO.replace((0,g.Z)(v.Q6.PARTNERS,s)),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),eg(),eI(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(d),type:"error"})}),(0,x.dK)(u)?l({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,partner_id:i}):c({event_type:8966,component:13646,aux_data:{business_id:s,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}});case 20:case"end":return e.stop()}},e,null,[[0,15]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){rW(i,r,s,o,a,"next",e)}function a(e){rW(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),title:d._('Remove partner', '[m10n]bizAccess.removePartner.title', 'Title for the remove partner modal'),size:"sm",children:[Y&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:5,children:(0,D.jsx)(np,{text:d._('Removing from business', '[m10n]bizAccess.removePartner.subHeaderTitle', 'Subheader title for removing the business'),avatar:V?em:eo,name:eF})}),Z?eW:eJ]})};function r0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r2="EMPLOYEE",r3=function(e){var t,n,r,s,i,a=e.selectedId,c=e.onRefresh,l=e.businessId,u=(0,S.v)().logContextEvent,d=(0,w.ZP)(),p=(0,f.useDispatch)(),h=(0,F.F9)().showOneToast,b=(0,N.KJ)(),x=(0,N.KJ)(!0),P=l||b||x,I=(0,N.nU)(),j=(0,N.nU)(!0),C=I||j,R=(0,o.useHistory)(),k=r0((0,O.Z)(z.b,!0,a),3),L=k[0],M=k[1],H=k[2],Z=r0((0,O.Z)(z.b,!0,P),3),G=Z[0],q=Z[1],Y=Z[2],V=r0((0,eH.Z)("people",a),3),Q=V[0],W=V[1],J=V[2],K=(0,rs.Z)(P),X=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),$=(0,E.F)().checkExperiment,ee=$("web_m10n_business_access_orbac_www").anyEnabled,et=(0,rV.Z)(!0),en=$("business_access_employees_api_v4_migration").anyEnabled,es=$("web_m10n_business_access_employee_redesign").anyEnabled,ei=r0((0,_.useState)(!et),2),eo=ei[0],ea=ei[1],ec=(0,N.HL)(),el=ec.clearModal,eu=ec.setSelectedEmployeeId,ed=ec.setSelectedDetail,e_=(0,(0,y.C)().getParentHierarchyForIdIfExists)(P),ef=null==e_?void 0:e_.id,em=!!(0,o.useRouteMatch)().params.businessHierarchyId,ep=!!(null!=Q&&null!==(t=Q.business_roles)&&void 0!==t&&t[0]),eh=(null==Q?void 0:null===(n=Q.biz_roles)||void 0===n?void 0:n[0])||(null==Q?void 0:null===(r=Q.business_roles)||void 0===r?void 0:r[0])||r2,eb=(0,f.useSelector)(ri.Wb).find(function(e){return e.id===a}),ey=(null==eb?void 0:null===(s=eb.biz_roles)||void 0===s?void 0:s[0])||(null==eb?void 0:null===(i=eb.business_roles)||void 0===i?void 0:i[0])||r2,ev=em?ey:eh,eg=d._('Remove employee modal', '[m10n]bizAccess.business.removeEmployee.modal', 'accessibility label for the modal used to remove a employee from a business'),eA=d._('Remove employee', '[m10n]bizAccess.employees.removeTitle', 'title of the modal to remove an employee from the business');if(M||q||W)return(0,D.jsx)(U.Z,{accessibilityLabel:eg,title:eA,size:"sm",children:(0,D.jsx)(rr,{empty:!0})});if(H||Y||J)return(0,D.jsx)(U.Z,{accessibilityLabel:eg,title:eA,size:"sm",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(d),show:!0})});var eS=function(){L&&h(function(e){var t=e.hideToast;return(0,D.jsx)(rY,{onHide:t,name:L.full_name})}),em?X({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-person-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",employee_id:a}):u({event_type:8965,component:13634,aux_data:{business_id:P}}),el(),c?c():em?(eu(),p(K)):es?(R.push((0,g.Z)(v.Q6.PEOPLE,P)),ed({detailId:""}),p((0,e2.P6)({employeeId:a}))):C===a?R.replace((0,g.Z)("PEOPLE",P)):p(en||ep?er.JC:er.kH)},ex=function(e){var t,n;em?X({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-person-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e).slice(0,64),errorMessage:(null===(t=e.stack)||void 0===t?void 0:t.slice(0,4096))||e.message,employee_id:a}):u({event_type:8966,component:13634,aux_data:{business_id:P,error_class:JSON.stringify(e).slice(0,64),error_message:(null===(n=e.stack)||void 0===n?void 0:n.slice(0,4096))||e.message}})};return(0,D.jsxs)(U.Z,{accessibilityLabel:eg,title:eA,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-person-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:d._('Remove', '[m10n]businessAccess.removePerson.remove.button', 'Label for the button to Remove employee'),color:"red",onClick:function(){p((0,er.Fx)({businessId:P,detailId:C,removeId:a,assignedRole:ev,businessHierarchyNodeId:ef,onSuccess:eS,onFailure:ex,usePeopleV4Endpoint:en||ep,disablePeopleV4EndpointCall:!!c}))},disabled:!eo})}),size:"sm",children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(np,{text:d._('Removing from business', '[m10n]businessAccess.removePerson.personLabel', 'Label shown above the selected person\'s name'),avatar:(null==L?void 0:L.image_large_url)||"",name:(null==L?void 0:L.full_name)||""})}),et&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.J0,{type:"warning",iconAccessibilityLabel:"Info",message:d._('Once you remove an employee, you will need to send an invite and assign permissions to add them again', '[m10n]businessAccess.removeAdAccountRoles.banner', 'Banner shown when removing a person from a business')})}),!et&&(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.xv,{weight:"bold",children:d._('This action cannot be undone', '[m10n]businessAccess.removeAdAccountRoles.warning', 'Warning shown when removing a person\'s access to an ad account')})}),(0,D.jsx)(m.xv,{children:ee?(0,T.nk)(d._('Removing this employee from {{ businessName }} will remove them from the business, all assigned ad accounts and all assigned profiles', '[m10n]businessAccess.removeEmployee.content', 'Text in the modal to remove an employee from a business'),{businessName:(null==G?void 0:G.full_name)||""}):(0,T.nk)(d._('Removing this employee from {{ businessName }} will remove them from the business and all assigned ad accounts', '[m10n]businessAccess.removeEmployee.content', 'Text in the modal to remove an employee from a business'),{businessName:(null==G?void 0:G.full_name)||""})})]}),et&&(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsx)(m.xv,{weight:"bold",children:(0,T.nk)(d._('Removing {{employeeName}} from {{ businessName }} will result in the following:', '[m10n]businessAccess.removeEmployee.content', 'Text in the modal to remove an employee from a business. employeeName: employee name, businessName: business name'),{businessName:(null==G?void 0:G.full_name)||"",employeeName:null==L?void 0:L.full_name})})}),(0,D.jsx)(m.xu,{paddingX:2,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(d._('\u2022 {{employeeName}} will lose access to assigned ad accounts, profiles and asset groups', '[m10n]businessAccess.removeEmployee.item', 'Text in the modal to remove an employee from a business. employeeName: employee name'),{employeeName:null==L?void 0:L.full_name})})}),(0,D.jsx)(m.xu,{"data-test-id":"remove-person-confirmation-checkbox",marginTop:5,children:(0,D.jsx)(m.XZ,{checked:eo,id:"confirmRemoveEmployeeCheckbox",onChange:function(e){ea(e.checked)},label:d._('Check this box to confirm', '[m10n]bizAccess.removeEmployee.checkbox', 'Button confirming removal of employee')})})]})]})};function r6(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var r4=function(e){var t,n,r=(0,S.v)().logContextEvent,s=(0,E.F)(),i=s.checkExperiment,a=(0,w.ZP)(),c=(0,o.useLocation)(),l=(0,N.KJ)(!0),u=(0,N.nU)(!0),d=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),_=(0,f.useDispatch)(),p=(0,N.HL)().clearModal,h=(0,(0,y.C)().getParentHierarchyForIdIfExists)(l),b=null==h?void 0:h.id,g=(0,F.F9)().showToast,P=i("web_m10n_business_hierarchy_beta").anyEnabled,I=i("business_access_employees_api_v4_migration").anyEnabled,j=i("web_m10n_business_access_employee_redesign").anyEnabled,O=(0,t5.Z)(l),C=(0,f.useSelector)((0,eu.Tj)(e.profileId)),z=(0,f.useSelector)((0,ec.BK)(e.profileId)),R=(0,N.Un)(),k="";return k=j&&e.profileName?e.profileName:(null==C?void 0:null===(t=C.asset)||void 0===t?void 0:t.name)||(null==z?void 0:null===(n=z.user)||void 0===n?void 0:n.full_name)||(null==R?void 0:R.asset.name)||"",(0,D.jsxs)(U.Z,{accessibilityLabel:a._('Remove profile access', '[m10n]businessAccess.removePermissions', '[m10n]Modal to remove the user permisisons'),title:a._('Remove profile access', '[m10n]businessAccess.removePermissions', '[m10n]Modal to remove the user permisisons'),size:"sm",primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-profile-permissions-button",children:(0,D.jsx)(m.zx,{size:"lg",text:a._('Remove Access', '[m10n]businessAccess.removePermissions.button', '[m10n]Button to remove the user permisisons'),color:"red",onClick:function(){var t;(t=regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.selectionType!==v.Hl.PERSON){t.next=7;break}return t.next=4,(0,ti.bP)({businessId:l,memberId:e.userData.id,assetId:e.profileId,businessHierarchyNodeId:b});case 4:"PEOPLE"===e.dataToRefresh?j?_((0,e2.NW)({employeeId:u,profileId:e.profileId})):_((0,er.fR)({businessId:l,detailId:u,assetPermissionType:0,includeAssetSummary:!0,experimentsClient:s})):"PROFILE_PEOPLE"===e.dataToRefresh&&_((0,es.iS)({businessId:l,detailId:u})),t.next=11;break;case 7:if(e.selectionType!==v.Hl.PARTNER){t.next=11;break}return t.next=10,(0,tx.OA)({businessId:l,partnerId:e.userData.id,assetId:e.profileId,businessHierarchyNodeId:b});case 10:"PARTNER_PROFILE"===e.dataToRefresh?_((0,en.JL)({businessId:l,detailId:u,inEmployeeApiMigration:I,experimentsClient:s})):"HIERARCHY_PARTNER_PROFILE"===e.dataToRefresh?null==O||O():_((0,es.XA)({businessId:l,detailId:u}));case 11:null===(n=e.refreshData)||void 0===n||n.call(e,{}),p(),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:a._('Profile permissions removed.', '[m10n]businessAccess.profileAssignment.remove.success.toast', 'Success toast prompting user that the profile role removal has been successful.')})}),(0,x.dK)(c)?d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-profile-permissions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:e.profileId}):r({event_type:8965,component:13852,aux_data:{business_id:l,profile_id:e.profileId}}),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(0),p(),g(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:a._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.'),type:"error"})}),(0,x.dK)(c)?d({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-profile-permissions-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(t.t0).slice(0,64),errorMessage:(null===(i=t.t0.stack)||void 0===i?void 0:i.slice(0,4096))||t.t0.message,profile_id:e.profileId}):r({event_type:8966,component:13852,aux_data:{business_id:l}});case 22:case"end":return t.stop()}},t,null,[[0,17]])}),function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){r6(i,r,s,o,a,"next",e)}function a(e){r6(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),children:[P&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(m.qE,{size:"lg",name:e.userData.full_name,src:e.userData.image_small_url}),(0,D.jsx)(m.xu,{marginBottom:4,marginStart:3,display:"flex",direction:"column",justifyContent:"around",children:(0,D.jsx)(m.xv,{size:"300",inline:!0,children:e.selectionType===v.Hl.PERSON?(0,T.nk)(a._('{{ employeeName }} will no longer have access to {{ profileName }}\'s profile', '[m10n]businessAccess.removeProfilePermission.employee.content', 'Remove employee from accessing the profile. employeeName: name of the employee, profileName: name of the profile'),{employeeName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:e.userData.full_name},"1"),profileName:k}):e.userData.full_name},"0")})]})}),e.selectionType===v.Hl.PARTNER&&(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xv,{children:a._('Do you want to remove permissions for this partner to work on your business profile?', '[m10n]businessAccess.removePermissions', '[m10n]Confirmation text on modal')})}),(0,D.jsx)(m.xv,{weight:"bold",children:a._('This action cannot be undone.', '[m10n]businessAccess.removePermissions', '[m10n]Confirmation text on modal')})]})]})};function r8(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function r9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r5(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r7=function(e){var t,n,r,s,i,a,c,l,d,p=e.assetId,h=e.refreshData,y=(0,E.F)(),P=(0,S.v)().logContextEvent,I=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),j=(0,w.ZP)(),C=(0,u.Z)(),R=(0,f.useDispatch)(),k=(0,N.KJ)(),L=(0,N.KJ)(!0),M=k||L,H=(0,N.nU)(),Z=(0,N.nU)(!0),q=H||Z,Y=r9((0,O.Z)(z.b,!0,M),3),V=Y[0],Q=Y[2],W=(0,rV.Z)(!0),J=r9((0,O.Z)(tS.G2,!0,{businessId:M,assetId:p,resourceType:"AD_ACCOUNT",includeAssetSummary:!0}),3),K=J[0],X=J[2],$=r9((0,O.Z)(ti.kF,!0,{businessId:M,assetId:p}),3),et=$[0],er=$[2],es=(0,f.useSelector)(ea.A0),ei=(0,f.useSelector)(ea.HW),eo=null!==(t=null==et?void 0:et.total_data_count)&&void 0!==t?t:0,ec=null==K?void 0:null===(n=K.data)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(s=r.owner)||void 0===s?void 0:s.id,el=null!==(i=null==V?void 0:V.full_name)&&void 0!==i?i:"",eu=null!==(a=null==K?void 0:null===(c=K.data)||void 0===c?void 0:null===(l=c.data)||void 0===l?void 0:null===(d=l.asset)||void 0===d?void 0:d.name)&&void 0!==a?a:"",ed=(0,N.HL)().clearModal,e_=(0,F.F9)().showToast,ef=(0,b.d9)().selectedHierarchyId,em=(0,o.useRouteMatch)().path,ep=(0,o.useLocation)(),eh=(0,o.useHistory)(),eb=r9((0,_.useState)(!1),2),ey=eb[0],ev=eb[1];(0,_.useEffect)(function(){W&&R((0,ee.fc)({businessId:M,detailId:q,updateDataOnly:!0}))},[R,M,q,W]);var eg=W&&ei;return X||er||Q||eg?null:(0,D.jsxs)(U.Z,{accessibilityLabel:j._('Remove shared ad account modal', '[m10n]bizAccess.removeSharedAdAccount.a11yLabel', 'Accessibility label for the remove shared ad account modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-shared-ad-account-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",disabled:!ey,text:j._('Remove', '[m10n]bizAccess.removeSharedAdAccount.primaryActionButton', 'Button confirming removal of shared ad account'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tx.OA)({businessId:M,assetId:p,partnerId:ec,businessHierarchyNodeId:ef,partner_type:"EXTERNAL"});case 3:null==h||h({}),em.includes(":userBizId/shared")?R((0,en.CM)({businessId:M,detailId:q,experimentsClient:y})):em.includes(":userBizId/ad-accounts")&&R((0,ee.cE)({businessId:M})),e_(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,T.nk)(j._('Access to {{adAccountName}} has been removed.', '[m10n]sharedAdAccountAssignment.removeAssignment.success.toast', 'Toast prompting user that the assigned ad account has been removed. {adAccountName} is an interpolated variable.adAccountName: ad accout name'),{adAccountName:eu}).join("")})}),(0,x.dK)(ep)?I({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",asset_id:p}):P({event_type:8965,component:14171,aux_data:{business_id:M}}),ed(),em.includes(":userBizId/ad-accounts/:detailId/details")&&eh.replace((0,g.Z)(v.Q6.AD_ACCOUNTS,M)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),ed(),e_(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(j),type:"error"})}),(0,x.dK)(ep)?I({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,asset_id:p}):P({event_type:8966,component:14171,aux_data:{business_id:M,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}});case 16:case"end":return e.stop()}},e,null,[[0,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){r8(i,r,s,o,a,"next",e)}function a(e){r8(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),title:W?j._('Remove ad account', '[m10n]bizAccess.removeSharedAdAccount.title', 'Title for the remove shared ad account modal'):j._('Remove access to ad account', '[m10n]bizAccess.removeSharedAdAccount.title', 'Title for the remove shared ad account modal'),size:"sm",children:[(0,D.jsxs)(m.xu,{marginBottom:5,children:[(0,D.jsx)(m.X6,{size:"400",children:(0,B.aV)(C,"",eu,j)}),(0,D.jsx)(m.xv,{size:"100",children:(0,eE.Z)(j._('ID: {{assetId}}', '[m10n]bizAccess.removeSharedAdAccount.sutitle.id', 'The ad account id. assetId: ad account name'),{assetId:p})})]}),(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(rq,{text:j._('Once you remove this ad account, you will need to request permissions to gain access again', '[m10n]bizAccess.removeSharedAdAccount.warningText', 'Warning explaining what happens once you remove access to a shared ad account')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:(0,T.nk)(j._('Removing {{adAccountName}} will result in the following:', '[m10n]bizAccess.removeSharedAdAccount.checkboxHeader', 'Header explaining what the effects of removing access to shared ad account. adAccountName: ad account name'),{adAccountName:eu})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:eo>0?(0,T.nk)(j.ngettext('\u2022 {{businessFullName}} and {{numberEmployees}} employee will lose access to this ad account', '\u2022 {{businessFullName}} and {{numberEmployees}} employees will lose access to this ad account', eo, '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCount: number of shared ad accounts. businessFullName: name of business removing its own access.numberEmployees: number of employees with access to that ad account'),{businessFullName:(0,B.aV)(C,"",el,j),numberEmployees:eo}):(0,T.nk)(j._('\u2022 {{businessFullName}} will lose access to this ad account', '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. businessFullName: name of business removing its own access.'),{businessFullName:(0,B.aV)(C,"",el,j),numberEmployees:eo})})}),W&&Object.keys(es).length>0&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(j._('\u2022 {{assetGroups}} will no longer include this shared ad account', '[m10n]bizAccess.removeSharedPartner.assetGroupLoseAdAccountText', 'Text explaining removing an ad account will result in ad account not beign included in asset group. assetGroups: name of asset groups losing access to this ad account.'),{assetGroups:Object.keys(es).map(function(e){return es[e].name}).join(", ")})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:7,children:(0,D.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,D.jsx)(m.XZ,{checked:ey,id:"confirmRemoveAdAccountCheckbox",onChange:function(e){e.checked,ev(!ey),(0,eN.Z)(P,{event_type:8964,component:14171,aux_data:{business_id:M,field_name:"confirmRemoveAdAccountCheckbox"}})},label:j._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business')})})}),(0,D.jsx)(m.iz,{})]})]})};function se(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sr=function(e){var t,n,r,s=e.businessId,i=e.partnerId,a=e.refreshData,c=(0,S.v)().logContextEvent,l=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),u=(0,o.useLocation)(),d=(0,w.ZP)(),p=st((0,O.Z)(tx.Eg,!0,{id:s,searchBy:"BUSINESS_ID",searchTerm:i,includeAssetSummary:!0}),3),h=p[0],b=p[2],P=st((0,O.Z)(z.b,!0,s),3),I=P[0],j=P[2],C=null!==(n=null==h?void 0:null===(r=h.data)||void 0===r?void 0:r.data[0])&&void 0!==n?n:{},R=C.business_roles,k=C.user,L=(k=void 0===k?{}:k).full_name,M=void 0===L?"":L,H=k.image_medium_url,Z=C.assets_summary,q=(Z=void 0===Z?{}:Z).profiles,Y=(null!=I?I:{}).full_name,V=void 0===Y?"":Y,Q=!!(q&&q.find(function(e){return e.id===i})),W=(null==h?void 0:null===(t=h.data)||void 0===t?void 0:t.data[0].assets_summary.ad_accounts.length)||0,J=(0,N.nU)(),K=(0,N.HL)().clearModal,X=(0,(0,y.C)().getParentHierarchyForIdIfExists)(s),$=null==X?void 0:X.id,ee=(0,f.useDispatch)(),et=(0,F.F9)(),er=et.showToast,es=et.showOneToast,ei=(0,o.useHistory)(),eo=(0,E.F)().checkExperiment,ea=eo("web_m10n_business_hierarchy_beta").anyEnabled,ec=eo("business_access_employees_api_v4_migration").anyEnabled,el=st((0,_.useState)(!1),2),eu=el[0],ed=el[1];return b||j?null:(0,D.jsxs)(U.Z,{accessibilityLabel:d._('Remove shared partner modal', '[m10n]bizAccess.removeSharedPartnerModal.a11yLabel', 'Accessibility label for the remove shared partner modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"remove-shared-partner-confirmation-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",disabled:!eu,text:d._('Remove', '[m10n]bizAccess.removeSharedPartner.primaryActionButton', 'Button confirming removal of shared partner business'),onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,tx.K7)({partner_type:"EXTERNAL",role:R[0],partnerId:i,businessId:s,businessHierarchyNodeId:$});case 3:a?a():s&&ee((0,en.Eg)({businessId:s,inEmployeeApiMigration:ec})),es(function(e){var t=e.hideToast;return(0,D.jsx)(rY,{onHide:t,name:M})}),(0,x.dK)(u)?l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",partner_id:i}):c({event_type:8965,component:13646,aux_data:{business_id:s}}),K(),J===i&&ei.replace((0,g.Z)(v.Q6.PARTNERS,s)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),K(),er(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(d),type:"error"})}),(0,x.dK)(u)?l({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"remove-shared-partner-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message,partner_id:i}):c({event_type:8966,component:13646,aux_data:{business_id:s,error_class:JSON.stringify(e.t0).slice(0,64),error_message:(null===(n=e.t0.stack)||void 0===n?void 0:n.slice(0,4096))||e.t0.message}});case 15:case"end":return e.stop()}},e,null,[[0,10]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){se(i,r,s,o,a,"next",e)}function a(e){se(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),title:d._('Remove access to partner', '[m10n]bizAccess.removeSharedPartner.title', 'Title for the remove shared partner modal'),size:"sm",children:[ea&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:5,children:(0,D.jsx)(np,{text:d._('Removing from business', '[m10n]bizAccess.removeSharedPartner.subHeaderTitle', 'Subheader title for removing the shared partner'),avatar:H,name:M})}),(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(rq,{text:d._('Once you remove your business from a partner, you will need to request permissions to gain access again', '[m10n]bizAccess.removeSharedPartner.warningText', 'Warning explaining what happens once you remove access to a partner')})}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:(0,T.nk)(d._('Removing access to {{partnerFullName}} will result in the following:', '[m10n]bizAccess.removeSharedPartner.checkboxHeader', 'Header explaining what the effects of removing access to a partner. partnerFullName: name of business partner being removed'),{partnerFullName:M})})}),0!==W&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(d.ngettext('\u2022 {{businessFullName}} will lose access to {{adAccountsCount}} shared ad account and associated tools', '\u2022 {{businessFullName}} will lose access to {{adAccountsCount}} shared ad accounts and associated tools', W, '[m10n]bizAccess.removeSharedPartner.loseAdAccountAccessText', 'Text explaining removing a partner will result in loss of ad account access. adAccountsCount: number of shared ad accounts. businessFullName: name of business removing its own access.'),{businessFullName:V,adAccountsCount:W})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(d._('\u2022 {{businessFullName}} employees will lose access to all shared accounts', '[m10n]bizAccess.removeSharedPartner.sharedAccountAccessText', 'Text explaining removing a partner will result in loss of shared account access. businessFullName: name of business removing its own access'),{businessFullName:V})})}),Q&&(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:1,paddingX:2,children:(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(d._('\u2022 {{businessFullName}} and its employees will lose access to 1 profile', '[m10n]bizAccess.removeSharedPartner.profileAccessText', 'Text explaining removing a shared partner will result in loss of profile access. businessFullName: name of business removing its own access'),{businessFullName:V})})}),(0,D.jsx)(m.xu,{alignItems:"center",display:"flex",paddingY:2,children:(0,D.jsx)(m.xu,{"data-test-id":"confirm-remove-partner-checkbox",children:(0,D.jsx)(m.XZ,{checked:eu,id:"confirmRemovePartnerCheckbox",onChange:function(e){e.checked,ed(!eu),(0,eN.Z)(c,{event_type:8964,component:13646,aux_data:{business_id:s,field_name:"confirmRemovePartnerCheckbox"}})},label:d._('Check this box to confirm', '[m10n]bizAccess.removePartner.checkbox', 'Button confirming removal of partner business')})})})]})]})},ss=n(216651),si=function(e){var t=e.adAccount,n=e.adAccountsLength,r=e.onAdAccountChange,s=e.onRemoveItem,i=e.onValidateAdAccountField,o=e.onSetAccessList,a=e.setRef,c=e.disabled,l=void 0!==c&&c,u=e.resetAccess,d=e.permissions,_=(0,w.ZP)(),f=(0,(0,E.F)().checkExperiment)("web_m10n_business_manager_ui_improvements_asset_requests").anyEnabled;return(0,D.jsxs)(m.kC,{children:[(0,D.jsx)(m.sg,{span:6,children:(0,D.jsx)(m.xu,{marginEnd:2,marginBottom:1===n?0:2,children:(0,D.jsx)(m.nv,{ref:function(e){return a(e)},autoComplete:"off",id:"adAccount-".concat(t.index),value:t.id,onChange:r,onBlur:function(e){i(e,t.index)},errorMessage:t.error,placeholder:_._('Enter ad account ID', '[m10n]bizAccess.adAccountsInput.adAccountPlaceholder', 'Placeholder for adding ad account ID'),disabled:l})})}),(0,D.jsx)(m.sg,{span:5,children:(0,D.jsx)(ss.ZP,{onChange:o,id:"adAccountAccess-".concat(t.index),permissions:d||[],ownerRoles:["OWNER"],isForRequestAdAccountAccess:!0,disabled:l,resetAccess:void 0!==u&&u,errorMessage:!t.error&&t.accessError?t.accessError:""})}),(0,D.jsx)(m.sg,{span:1,children:(0,D.jsx)(function(){return f?(0,D.jsx)(m.xu,{marginStart:2,children:(0,D.jsx)(m.hU,{accessibilityLabel:_._('Remove ad account in current line', '[m10n]bizAccess.adAccounts.removeAdAccount', 'Accessibility text to tell the user that the button excludes an ad account from the list'),icon:"remove",onClick:function(){s()},iconColor:"darkGray",size:"md",disabled:1===n})}):!f&&n>1?(0,D.jsx)(m.hU,{accessibilityLabel:_._('Remove ad account in current line', '[m10n]bizAccess.adAccounts.removeAdAccount', 'Accessibility text to tell the user that the button excludes an ad account from the list'),icon:"remove",onClick:function(){s()},iconColor:"gray",size:"md"}):null},{})})]})},so=n(662297);function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sa(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sa(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s_=function(e,t){switch(t.type){case"ADD":return[].concat(function(e){if(Array.isArray(e))return sd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{index:t.index,id:"",accessList:[],error:"",accessError:""}]);case"DELETE":return e.filter(function(e){return e.index!==t.index});case"CLEAR_ALL":return[{index:t.index,id:"",accessList:[],error:"",accessError:""}];case"SET_ID":return e.map(function(e){return e.index===t.index?su(su({},e),{},{id:(t.id||"").replace(/[^\d]/g,""),error:"",accessError:""}):e});case"SET_ACCESS":return e.map(function(e){var n;return e.index===t.index?su(su({},e),{},{accessList:null!==(n=t.accessList)&&void 0!==n?n:[]}):e});case"ERROR":return e.map(function(e){return e.index===t.index?su(su({},e),{},{error:t.error||"",accessError:""}):e});case"ACCESS_ERROR":return e.map(function(e){var n;return e.index===t.index?su(su({},e),{},{accessError:null!==(n=t.accessError)&&void 0!==n?n:""}):e});default:throw Error()}},sf=function(e,t){0!==e.length&&t(e.some(function(e){return e.error||e.accessError})||!e.some(function(e){return e.id&&0!==e.accessList.length}))},sm=function(e,t,n,r){var s=e.id&&0===t.length?n._('Select a permission', '[m10n]bizAccess.adAccounts.missingAccess', 'Error message warning the user that at least one access level should be selected for the given ad account'):"";return r({type:"ACCESS_ERROR",accessError:s,index:e.index}),!!s},sp=(r=regeneratorRuntime.mark(function e(t,n,r,s,i,o,a,c,l){var u,d,_,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u="",d=s.find(function(e){return e.index===n}),_=s.some(function(e){return e.id&&e.id===t&&e.index!==n}),f=a&&c?c.id:l,!((!t||0===t.length)&&d&&d.accessList.length>0)){e.next=8;break}u=r._('Please add account ID', '[m10n]bizAccess.adAccounts.nonEmptyError', 'Error message warning the user that the ad account field should be filled'),e.next=22;break;case 8:if(!_){e.next=12;break}u=r._('Please resolve duplicate entry', '[m10n]bizAccess.adAccounts.duplicateError', 'Error message warning the user that the ad account is already being requested in another form entry'),e.next=22;break;case 12:if(!(t&&f)){e.next=22;break}return e.prev=13,e.next=16,(0,so.vV)({requestee:f,asset:t,requester:i});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(13),m=(0,eI.ZB)(r,e.t0),u=(null==d?void 0:d.error)||m;case 22:return o({type:"ERROR",error:u,index:n}),e.abrupt("return",!!u);case 24:case"end":return e.stop()}},e,null,[[13,18]])}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var i=r.apply(e,t);function o(e){sc(i,n,s,o,a,"next",e)}function a(e){sc(i,n,s,o,a,"throw",e)}o(void 0)})},function(e,t,n,r,i,o,a,c,l){return s.apply(this,arguments)});function sh(e){return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sb(e,t,n){var r;return(r=function(e,t){if("object"!==sh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sh(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===sh(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function sv(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){sy(i,r,s,o,a,"next",e)}function a(e){sy(i,r,s,o,a,"throw",e)}o(void 0)})}}function sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sS=function(e){var t,n=e.requestId,r=e.partnerId,s=(0,S.v)().logContextEvent,i=(0,w.ZP)(),a=(0,f.useDispatch)(),c=(0,N.KJ)(!0),l=(0,_.useRef)(0),u=(0,_.useRef)(null),d=sg((0,_.useState)("ADD_ITEM"),2),p=d[0],h=d[1],b=sg((0,_.useState)(null),2),g=b[0],P=b[1],I=sg((0,_.useReducer)(s_,[]),2),j=I[0],O=I[1],C=sg((0,_.useState)(!0),2),T=C[0],z=C[1],R=(0,f.useSelector)(tE.t_),k=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),L=(0,o.useLocation)(),M=(0,F.F9)().showToast,H=(0,E.F)().checkExperiment,Z=(0,o.useRouteMatch)().path.includes(":userBizId/partners/pending"),q=(0,N.HL)(),Y=q.setRequestPartnerConfirmationSuccessModal,V=q.clearModal,Q=q.setRequestProfileAccessModal,W=(0,(0,y.C)().getParentHierarchyForIdIfExists)(c),J=null==W?void 0:W.id,K=H("web_m10n_business_access_orbac_ga").anyEnabled,X=H("web_m10n_business_hierarchy_beta").anyEnabled,$=H("web_m10n_business_manager_api_loops_removal").anyEnabled,ee=H("web_m10n_business_manager_ui_improvements_asset_requests").anyEnabled;(0,_.useEffect)(function(){if("ADD_ITEM"===p&&u.current){var e;h(null),null===(e=u.current)||void 0===e||e.focus()}sf(j,z)},[j]),(0,_.useEffect)(function(){O({type:"ADD",index:l.current})},[]);var et=(t=sv(regeneratorRuntime.mark(function e(t){var n,s,o,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return sp(e.id,e.index,i,t,c,O,!1,null,r)}));case 2:return n=e.sent,s=t.map(function(e){return sm(e,e.accessList,i,O)}),o=t.some(function(e){return e.id||e.accessList.length>0}),a=t.some(function(e){return e.error||e.accessError})||n.some(function(e){return e})||s.some(function(e){return e}),l=null,o||(l=i._('Please set at least one ad account id and one access level before proceeding', '[m10n]bizAccess.request.adAccounts.noValidAdAccount', 'Text to instruct user to set at least one ad account and its access level')),a&&(l=i._('Please fix the following errors before proceeding.', '[m10n]bizAccess.request.adAccounts.hasErrors', 'Text to instruct user to fix highlighted errors')),e.abrupt("return",Promise.resolve(l));case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,D.jsxs)(U.Z,{accessibilityLabel:nP(i),cancelText:n?i._('Skip', '[m10n]bizAccess.request.adAccounts.skip', 'Text to skip requesting ad account step'):i._('Cancel', '[m10n]bizAccess.request.adAccounts.cancel', 'Text to cancel requesting ad account'),onDismiss:function(){n&&(K?Q({requestId:n}):Y({requestId:n}))},primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"request-assets-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:i._('Request', '[m10n]bizAccess.request.adAccounts.send', 'Label for a button that sends the ad accounts request'),color:"red",onClick:function(){sv(regeneratorRuntime.mark(function e(){var t,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=11;break}return e.next=4,et(j);case 4:if(!(t=e.sent)){e.next=8;break}return P(t),e.abrupt("return");case 8:P(null),e.next=16;break;case 11:if(!ee||(o=!1,j.forEach(function(e){e.id&&0===e.accessList.length&&(o=!0,sm(e,e.accessList,i,O))}),!o)){e.next=16;break}return e.abrupt("return");case 16:if(!n){e.next=28;break}if(!$){e.next=22;break}return e.next=20,(0,tS.XV)(c,j.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return sb({},e.id,e.accessList)}),n,J);case 20:e.next=24;break;case 22:return e.next=24,(0,tS.vf)(c,j.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return sb({},e.id,e.accessList)}),[n],"PARTNER_REQUEST",J);case 24:a((0,t$.HC)()),Z&&a((0,tA.R)(R,"PARTNER",c)),e.next=31;break;case 28:return e.next=30,(0,tS.jC)(c,r,j.filter(function(e){return e.id&&0!==e.accessList.length}).map(function(e){return sb({},e.id,e.accessList)}),J);case 30:a((0,nw.Mm)(["PENDING"],c,!0));case 31:V(),n&&(K?Q({requestId:n}):Y({requestId:n})),j.forEach(function(e){(0,x.dK)(L)?k({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"request-ad-accounts-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",ad_account_id:e.id}):s({event_type:8965,component:13786,aux_data:{business_id:c,ad_account_id:e.id}})}),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(0),V(),M(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(i),type:"error"})}),(0,x.dK)(L)?k({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"request-ad-accounts-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(l=e.t0.stack)||void 0===l?void 0:l.slice(0,4096))||e.t0.message}):s({event_type:8961,component:13786,aux_data:{business_id:c,error_class:"RequestAdAccounts",error_message:JSON.stringify({message:e.t0?e.t0.message:"No message"})}});case 41:case"end":return e.stop()}},e,null,[[0,36]])}))()},disabled:ee&&T})}),size:"sm",title:nE(i),footerSecondaryContent:n?(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:K?i._('Step 2 of 3', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow'):i._('Step 2 of 2', '[m10n]bizAccess.addPartner.modal.steps.second', 'Label to identify the current step, second, on add a partner flow')}):null,children:[X&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),g&&(0,D.jsx)(m.xu,{marginBottom:3,children:(0,D.jsx)(m.UW,{type:"error",iconAccessibilityLabel:"Error icon",message:g})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{size:"200",children:i._('You will need to request the specific ad account IDs from your partner to request access', '[m10n]bizAccess.request.adAccounts.heading', 'Text above the list of ad account access requests')})}),(0,D.jsxs)(m.xu,{marginBottom:2,display:"flex",children:[(0,D.jsx)(m.sg,{span:6,children:nO(i)}),(0,D.jsx)(m.sg,{span:6,children:i._('Access', '[m10n]bizAccess.adAccounts.access', 'Text that is on the top of column of ad account permissions levels')})]}),(0,D.jsx)(m.xu,{marginBottom:4,children:j.map(function(e){return(0,D.jsx)(si,{adAccount:e,adAccountsLength:j.length,onAdAccountChange:function(t){O({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){h("REMOVE_ITEM"),O({type:"DELETE",index:e.index})},onValidateAdAccountField:function(t){return sp(t.value,e.index,i,j,c,O,!1,null,r)},onSetAccessList:function(t){O({type:"SET_ACCESS",accessList:t,index:e.index}),sm(e,t,i,O)},setRef:function(e){u.current=e}},e.index)})}),(0,D.jsxs)(m.xu,{display:"flex",alignContent:"start",alignItems:"center",marginBottom:2,children:[(0,D.jsx)(m.xu,{marginEnd:2,children:ee?(0,D.jsx)(m.zx,{text:nC(i),iconEnd:"add",disabled:j.length>=10||T,onClick:function(){l.current+=1,h("ADD_ITEM"),O({type:"ADD",index:l.current})}}):(0,D.jsx)(m.zx,{text:i._('+ Add account', '[m10n]bizAccess.adAccounts.include', 'Label for a button includes a new ad account selection entry'),disabled:j.length>=10||T,onClick:function(){l.current+=1,h("ADD_ITEM"),O({type:"ADD",index:l.current})}})}),j.length>=10&&(0,D.jsx)(m.xv,{size:"100",color:"subtle",children:nj(i)})]})]})};function sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sE=function(e){var t,n=e.dataTestId,r=e.onSelect,s=e.option,i=e.hasRequest,o=e.selected,a=(0,w.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=c[0],u=c[1],d=(Array.isArray(o)?o:[]).filter(function(e){return e.value===s.value}).length>0||o&&!Array.isArray(o)&&s.value===o.value;return(0,D.jsx)(m.xu,{"data-test-id":"partner-".concat(n||""),width:"100%",children:(0,D.jsx)(m.iP,{onTap:function(){return r({item:s})},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},accessibilityLabel:s.label,children:(0,D.jsx)(m.xu,{color:l?"secondary":"transparent",direction:"column",display:"flex",padding:2,rounding:2,children:(0,D.jsxs)(m.kC,{justifyContent:"between",children:[(0,D.jsx)(m.xu,{marginEnd:3,children:(0,D.jsx)(m.kC,{direction:"column",flex:"grow",gap:{column:1,row:0},children:(0,D.jsx)(m.kC,{alignItems:"center",children:(0,D.jsx)(_.Fragment,{children:(0,D.jsxs)(m.kC,{gap:2,children:[(0,D.jsx)(m.qE,{name:s.label,size:"xs",src:s.image}),(0,D.jsx)(m.xv,{color:i?"subtle":"default",inline:!0,lineClamp:1,children:s.label}),i&&(0,D.jsx)(m.Ct,{text:a._('Pending request', '[m10n]bizAccess.selectPartnerSelector.pendingRequestText', 'text for badge if there is a pending request for the partner'),type:"info"})]})})})})}),(0,D.jsx)(m.xu,{alignItems:"center",color:"transparent",display:"flex",justifyContent:"center",children:d?(0,D.jsx)(m.JO,{accessibilityLabel:a._('Selected item', '[m10n]bizAccess.selectPartnerSelector.selectedItem.icon.accessbilityLabel', 'accessbility label for check icon showing item is selected'),color:"default",icon:"check",size:12}):(0,D.jsx)(m.xu,{width:12})})]})})})})};function sP(e){return(sP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==sP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sP(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sw=function(e){var t,n=e.setPartner,r=e.label,s=e.placeholder,i=e.helperText,o=e.partnersToExclude,a=e.selectedPartner,c=(0,w.ZP)(),l=(0,_.useRef)(null),u=(0,N.KJ)(!0),d=sO((0,_.useState)(!1),2),f=d[0],p=d[1],h=a?{label:a.name,value:a.id,image:a.image}:null,b=sO((0,_.useState)(h),2),y=b[0],g=b[1],A=sO((0,_.useState)([]),2),S=A[0],x=A[1],P=sO((0,_.useState)((null==a?void 0:a.name)||""),2),I=P[0],j=P[1],T=sO((0,_.useState)(""),2),z=T[0],R=T[1],k=(0,(0,E.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,L=sO((0,O.Z)(function(e){return(0,tw.dF)(e,v.cU,"PARTNER")},!1,{id:u,limit:v.cU,partnerType:"EXTERNAL"}),4),B=L[0],U=L[1],M=L[2],H=L[3];(0,_.useEffect)(function(){(0,e$.Z)(u)||M||B||H({id:u,limit:v.cU,partnerType:"EXTERNAL"},v.cU,"PARTNER")},[u,M,B,H]);var Z=((null==B?void 0:B.data.data)||[]).map(function(e){var t=e.id,n=e.user;return{id:t,name:null==n?void 0:n.full_name,image:(null==n?void 0:n.image_medium_url)||(null==n?void 0:n.image_small_url)}}),G=sO((0,O.Z)(so.XJ,!1,{id:u,filters:{invite_status:["PENDING"]}}),4),F=G[0],q=G[1],Y=G[2],V=G[3];(0,_.useEffect)(function(){(0,e$.Z)(u)||Y||F||V({id:u,filters:{invite_status:["PENDING"]}})},[u,Y,F,V]);var Q=new Set;((null==F?void 0:F.data.data)||[]).forEach(function(e){var t=k?e.created_by_business.id:e.created_by_biz.id;u===t?Q.add(e.user.id):Q.add(t)});var W=Z.map(function(e){return sj(sj({},e),{},{hasRequest:Q.has(e.id)})}),J=o?W.filter(function(e){return!o.has(e.id)}):W;return((0,_.useEffect)(function(){B&&F&&x(J)},[B,F]),M||Y)?(0,D.jsx)(m.xu,{width:"100%",children:(0,D.jsx)(m.nv,{id:"shared-partner-selector-loading",onChange:function(){},label:r,placeholder:s,helperText:i,value:I,disabled:!0})}):U||q?(0,D.jsx)(m.xu,{width:"100%",children:(0,D.jsx)(m.nv,{id:"shared-partner-selector-error-loading",size:"lg",onChange:function(){},label:r,placeholder:s,helperText:i,errorMessage:c._('Something went wrong on our end. Please try again.', '[m10n]bizAccess.selectPartnerSelector.generalErrorMessage', 'Text for a general error message'),disabled:!0})}):(0,D.jsxs)(m.xu,{width:"100%",children:[(0,D.jsx)(m.nv,{id:"shared-partner-selector-textfield",size:"lg",onChange:function(e){var t=e.value;R(""),g(null),n(null),j(t),x(t&&S.length>0?S.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase())}):J.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase())}))},onFocus:function(){return p(!f)},onBlur:function(e){var t=e.value,r=!Number.isNaN(t)&&Number.isInteger(parseFloat(t))?S.find(function(e){return e.id===t}):S.find(function(e){return e.name.toLowerCase()===t.toLowerCase()});r?(R(""),g({label:r.name,value:r.id,image:r.image}),n({id:r.id,name:r.name,image:r.image}),j(r.name)):""!==t&&(R(c._('This name is not a partner. Try another, or add them as a partner.', '[m10n]bizAccess.selectPartnerSelector.partnerNotFoundError.message', 'Error message when name is not a valid partner.')),g(null),n(null))},onKeyDown:function(e){var t;e.event.keyCode===eP.Z.ENTER&&(null===(t=l.current)||void 0===t||t.blur(),p(!1))},label:r,placeholder:s,helperText:i,value:I,errorMessage:z,ref:l,autoComplete:"off"}),f&&l.current&&(0,D.jsx)(m.mh,{zIndex:C.b7,children:(0,D.jsx)(m.J2,{accessibilityLabel:c._('Shared partner selector', '[m10n]bizAccess.selectPartnerSelector.dropdown.popoverAccessbilityLabel', 'accessbility label Accessibility label for the popover'),anchor:l.current,id:"shared-partner-selector-dropdown",idealDirection:"down",onDismiss:function(){return p(!1)},positionRelativeToAnchor:!1,size:"flexible",color:"white",role:"menu",children:(0,D.jsxs)(m.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",margin:2,overflow:"auto",maxHeight:"30vh",width:null===(t=l.current)||void 0===t?void 0:t.offsetWidth,children:[S.length>0&&S.map(function(e){var t=e.id,r=e.name,s=e.image,i=e.hasRequest;return(0,D.jsx)(sE,{dataTestId:t,option:{label:r,value:t,image:s},hasRequest:i,selected:y,onSelect:function(e){var t=e.item;i||(g({value:t.value,label:t.label,image:t.image}),n({id:t.value,name:t.label,image:t.image}),j(t.label),p(!1),R(""))}},r)}),0===S.length&&(0,D.jsx)(m.xu,{width:"100%",paddingX:2,paddingY:4,children:(0,D.jsx)(m.xv,{lineClamp:1,color:"subtle",children:c._('No result', '[m10n]bizAccess.selectPartnerSelector.noResultText', 'No result label for eligible partners')})})]})})})]})};function sT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sz(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sR=function(e){var t=e.partner,n=e.adAccountsRequested,r=(0,w.ZP)(),s=(0,f.useDispatch)(),i=(0,N.KJ)(!0),o=n?n.length:0,a=(0,_.useRef)(o),c=(0,_.useRef)(null),l=(0,N.HL)(),u=l.clearModal,d=l.setAddAdAccountModal,p=l.setConfirmAssetAccessRequestModal,h=sT((0,_.useState)(t||null),2),b=h[0],y=h[1],v=sT((0,_.useState)(t||null),2),g=v[0],A=v[1],S=sT((0,_.useState)(!0),2),x=S[0],E=S[1],P=sT((0,_.useState)(!0),2),I=P[0],j=P[1],O=sT((0,_.useState)("ADD_ITEM"),2),T=O[0],z=O[1],R=sT((0,_.useReducer)(s_,n||[]),2),k=R[0],L=R[1];(0,_.useEffect)(function(){if("ADD_ITEM"===T&&c.current){var e;z(null),null===(e=c.current)||void 0===e||e.focus()}sf(k,j)},[k]),(0,_.useEffect)(function(){k.length<10&&L({type:"ADD",index:a.current})},[]),(0,_.useEffect)(function(){var e=g&&b&&b.id!==g.id;null==b||e?(j(!0),null==b&&E(!0),a.current=0,z("CLEAR_ALL"),L({type:"CLEAR_ALL",index:a.current})):(z(null),E(!1)),A(b)},[b]);var U=function(){u(),s({type:"CLEAR_ERROR"})},M=function(){var e=!1;if(k.forEach(function(t){t.id&&0===t.accessList.length&&(e=!0,sm(t,t.accessList,r,L))}),!e){var t=k.filter(function(e){return e.id&&0!==e.accessList.length&&!e.error&&!e.accessError});b&&0!==t.length&&p({partner:b,assetRequest:"AD_ACCOUNT",adAccountsRequested:t})}},H=(0,D.jsx)(m.xu,{children:(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,D.jsx)(m.X6,{size:"500",accessibilityLevel:1,children:nE(r)}),(0,D.jsx)(m.hU,{accessibilityLabel:(0,B.I9)(r),icon:"cancel",iconColor:"darkGray",size:"sm",onClick:U})]})}),Z=(0,D.jsx)(m.xu,{as:"footer",marginStart:2,marginEnd:2,children:(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"between",children:[(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.zx,{size:"lg",color:"transparent",text:(0,B.I9)(r),onClick:function(){return U()},dataTestId:"request-asset-cancel-button"})}),(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,D.jsx)(m.zx,{size:"lg",text:nI(r),onClick:function(){return d()}}),(0,D.jsx)(m.xu,{marginStart:2,children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:(0,B.L$)(r),onClick:function(){M()},disabled:x||I,dataTestId:"request-asset-next-button"})})]})]})});return(0,D.jsx)(C.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:nP(r),heading:H,footer:Z,onDismiss:U,size:"sm",children:(0,D.jsxs)(m.xu,{marginStart:6,marginEnd:6,children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{children:r._('Once you request ad account access, your partners have 14 days to respond.', '[m10n]businessAccess.requestAdAccount.modal.message.text', 'Main message for the request ad account modal')})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(sw,{setPartner:function(e){return y(e)},label:r._('Partner', '[m10n]businessAccess.requestAdAccount.modal.sharedPartnerSelector.label.text', 'Label text for shared partner selector'),placeholder:r._('Select', '[m10n]businessAccess.requestAdAccount.modal.sharedPartnerSelector.placeholder.text', 'Placeholder text for shared partner selector'),selectedPartner:t})}),(0,D.jsxs)(m.xu,{marginBottom:4,children:[(0,D.jsxs)(m.xu,{marginBottom:2,display:"flex",children:[(0,D.jsx)(m.sg,{span:6,children:nO(r)}),(0,D.jsx)(m.sg,{span:6,children:r._('Access', '[m10n]bizAccess.adAccounts.access', 'Text that is on the top of column of ad account permissions levels')})]}),(0,D.jsx)(m.xu,{children:k.map(function(e){return(0,D.jsx)(si,{adAccount:e,adAccountsLength:k.length,onAdAccountChange:function(t){L({type:"SET_ID",id:t.value,index:e.index})},onRemoveItem:function(){z("REMOVE_ITEM"),L({type:"DELETE",index:e.index})},onValidateAdAccountField:function(t){return sp(t.value,e.index,r,k,i,L,!0,b)},onSetAccessList:function(t){L({type:"SET_ACCESS",accessList:t,index:e.index}),sm(e,t,r,L),"CLEAR_ALL"===T&&z(null)},setRef:function(e){c.current=e},disabled:x,resetAccess:"CLEAR_ALL"===T,permissions:e.accessList},e.index)})})]}),(0,D.jsxs)(m.xu,{display:"flex",alignContent:"start",alignItems:"center",marginBottom:2,children:[(0,D.jsx)(m.xu,{marginEnd:2,children:(0,D.jsx)(m.zx,{text:nC(r),iconEnd:"add",disabled:k.length>=10||x||I,onClick:function(){a.current+=1,z("ADD_ITEM"),L({type:"ADD",index:a.current})}})}),k.length>=10&&(0,D.jsx)(m.xv,{size:"100",color:"subtle",children:nj(r)})]})]})})};function sN(e){return(sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sD(e,t,n){var r;return(r=function(e,t){if("object"!==sN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===sN(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function sL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sB=function(e){var t,n=(0,S.v)().logContextEvent,r=(0,f.useDispatch)(),s=(0,w.ZP)(),i=e.requestId,a=e.requesteeId,c=e.adAccounts,l=(0,F.F9)().showToast,u=(0,N.KJ)(!0),d=(0,f.useSelector)(tE.t_),p=(0,f.useSelector)((0,ec.BK)(a||"")),h=(0,f.useSelector)((0,ri.BK)(a||"")),b=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),g=(0,o.useLocation)(),P=p.user?p:h,I=(0,N.HL)(),j=I.setRequestPartnerConfirmationSuccessModal,C=I.clearModal,T=(0,(0,y.C)().getParentHierarchyForIdIfExists)(u),z=null==T?void 0:T.id,R=(0,o.useRouteMatch)().path.includes(":userBizId/partners/pending"),k=(0,E.F)().checkExperiment,L=k("web_m10n_business_hierarchy_beta").anyEnabled,M=k("web_m10n_business_manager_api_loops_removal").anyEnabled,H=function(e){if(Array.isArray(e))return e}(t=(0,O.Z)(so.Ts,!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,4)||function(e,t){if(e){if("string"==typeof e)return sL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(e,t)}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Z=H[0],q=H[1],Y=H[2],V=H[3],Q=i?null==Z?void 0:Z.data.data.extended_user_info:null==P?void 0:P.user,W=i?null==Z?void 0:Z.data.data.user.id:null==Q?void 0:Q.id;return((0,_.useEffect)(function(){i&&V({businessId:u,inviteOrRequestId:i,type:"PARTNER_REQUEST"})},[i]),(0,_.useEffect)(function(){q&&l(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(s),type:"error"})})},[q]),i&&!Z&&Y)?(0,D.jsx)(U.Z,{accessibilityLabel:nx(s),size:"sm",title:nS(s),children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(s),show:!0})}):(0,D.jsxs)(U.Z,{accessibilityLabel:nx(s),cancelText:i&&s._('Skip', '[m10n]bizAccess.partnerRequest.confirmation.assign', 'Text to skip modal'),onDismiss:function(){i&&j({requestId:i})},primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"request-profile-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:s._('Request', '[m10n]bizAccess.requestProfile.confirmation', 'Label for a button to request profile of partner'),color:"red",onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i&&W)){e.next=16;break}if(!M){e.next=7;break}return e.next=5,(0,tS.XV)(u,[sD({},W,["PROFILE_PUBLISHER"])],i,z);case 5:e.next=9;break;case 7:return e.next=9,(0,tS.vf)(u,[sD({},W,["PROFILE_PUBLISHER"])],[i],"PARTNER_REQUEST",z);case 9:r((0,t$.HC)()),R&&r((0,tA.R)(d,"PARTNER",u)),C(),j({requestId:i}),(0,x.dK)(g)?b({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"request-profile-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",profile_id:W}):n({event_type:8965,component:14113,aux_data:{business_id:u}}),e.next=22;break;case 16:if(!(a&&c)){e.next=22;break}return e.next=19,(0,tS.jC)(u,a,c,z);case 19:C(),r((0,nw.Mm)(["PENDING"],u,!0)),l(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:s._('Your profile request was successful!', '[m10n]bizAccess.request.profile.success', 'Text to tell the user that the request was sent successfully')})});case 22:e.next=29;break;case 24:e.prev=24,e.t0=e.catch(0),C(),l(function(t){var n=t.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:n,text:(null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,B.sQ)(s),type:"error"})}),(0,x.dK)(g)?b({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_MODAL",componentId:"request-profile-access-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(t=e.t0.stack)||void 0===t?void 0:t.slice(0,4096))||e.t0.message}):n({event_type:8961,component:13786,aux_data:{business_id:u,error_class:"RequestAdAccounts",error_message:JSON.stringify({message:e.t0?e.t0.message:"No message"})}});case 29:case"end":return e.stop()}},e,null,[[0,24]])}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){sk(i,r,s,o,a,"next",e)}function a(e){sk(i,r,s,o,a,"throw",e)}o(void 0)})})()}})}),size:"sm",title:nS(s),footerSecondaryContent:i&&(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:s._('Step 3 of 3', '[m10n]bizAccess.addPartner.modal.steps.third', 'Label to identify the current step, second, on request a partner flow')}),children:[L&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{size:"200",children:s._('Profile access will allow you to create, edit and organize Pins and boards', '[m10n]bizAccess.request.profile.heading', 'Text above the list of profile access requests')})}),(0,D.jsx)(m.xu,{marginBottom:8,children:(0,D.jsx)(np,{name:null==Q?void 0:Q.full_name,avatar:null==Q?void 0:Q.image_small_url,avatarSize:"md",textSize:"300"})})]})};function sU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sM=function(){var e,t=(0,w.ZP)(),n=(0,f.useSelector)(ed.ZD),r=(0,N.HL)().setConfirmAssetAccessRequestModal,s=function(e){if(Array.isArray(e))return e}(e=(0,_.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return sU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sU(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=s[0],o=s[1],a=n.map(function(e){return e.owner.id}),c=new Set(a),l=t._('publisher', '[m10n]businessAccess.requestProfile.modal.publisher.text', 'Access level for managing organic assets'),u=function(){i&&r({partner:i,assetRequest:"PROFILE"})};return(0,D.jsx)(m.xu,{"data-test-id":"request-profile-access-general-modal",children:(0,D.jsxs)(U.Z,{id:"request-profile-access-general-modal",accessibilityLabel:nx(t),title:nS(t),size:"sm",primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"request-profile-access-general-next-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:(0,B.L$)(t),onClick:function(){return u()},disabled:null==i})}),children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(t._('Select partner to gain profile access. With profile access, you will be granted {{ publisher }} permissions that will allow you to create, edit, and organize Pins and boards without your partner\u2019s approval.', '[m10n]businessAccess.requestProfile.modal.text', 'Modal text informing user of what permissions they will get with requesting profile access from a partner. publisher: publisher text in bold'),{publisher:(0,D.jsx)(m.xv,{inline:!0,weight:"bold",children:l},"1")})},"0")}),(0,D.jsx)(m.xu,{marginBottom:2,children:(0,D.jsx)(sw,{setPartner:function(e){return o(e)},placeholder:t._('Partner name', '[m10n]businessAccess.requestProfile.modal.sharedPartnerSelector.placeholder.text', 'Placeholder text for shared partner selector'),helperText:t._('Partners may only receive one asset request, including ad accounts, at a time', '[m10n]businessAccess.requestProfile.modal.sharedPartnerSelector.helper.text', 'Helper text for shared partner selector'),partnersToExclude:c})})]})})};function sH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sZ=function(e){var t,n=(0,S.v)().logContextEvent,r=(0,w.ZP)(),s=e.requestId,i=e.partnerId,o=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("partnerRequest",s,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return sH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sH(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],l=o[2],u=(0,F.F9)().showToast,d=(0,N.KJ)(),f=(0,N.HL)().setRequestAdAccountsModal;return((0,_.useEffect)(function(){c&&u(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(r),type:"error"})})},[c]),!a&&l)?(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(r),size:"sm",title:(0,eI.Hp)(r),children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(r),show:!0})}):(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(r),cancelText:r._('Close', '[m10n]bizAccess.partnerRequest.confirmation.assign', 'Text to close modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"request-ad-accounts-button",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:r._('Request ad accounts', '[m10n]bizAccess.invite.confirmation.assign', 'Label for a button that shows up for newly sent people invites'),color:"red",onClick:function(){f({requestId:s,partnerId:i}),n({event_type:8965,component:13785,aux_data:{business_id:d}})}})}),size:"sm",title:(0,eI.Hp)(r),children:(0,D.jsx)(nG,{content:(0,T.nk)(r._('{{ name }} has successfully been requested as a partner.', '[m10n]bizAccess.partnerRequest.success.requestSuccessMessage', 'Content in a confirmation dialog'),{name:(null==a?void 0:a.extended_user_info.full_name)||""}),face:{src:(null==a?void 0:a.extended_user_info.image_small_url)||"",name:(null==a?void 0:a.extended_user_info.full_name)||""}})})};function sG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sF=function(e){var t,n=(0,w.ZP)(),r=e.requestId,s=function(e){if(Array.isArray(e))return e}(t=(0,eH.Z)("partnerRequest",r,!0,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return sG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sG(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=s[0],o=s[1],a=s[2],c=(0,F.F9)().showToast,l=(0,E.F)().checkExperiment,u=l("web_m10n_business_access_orbac_ga").anyEnabled,d=l("web_m10n_business_hierarchy_beta").anyEnabled,f=u?(0,eI.fv)(n):(0,eI.Hp)(n);if((0,_.useEffect)(function(){o&&c(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,onHide:t,text:(0,B.sQ)(n),type:"error"})})},[o]),!i&&a)return(0,D.jsx)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),size:"sm",title:f,children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var p=(null==i?void 0:i.extended_user_info.full_name)||"",h=(null==i?void 0:i.assets)||[],b=h.filter(function(e){return"AD_ACCOUNT"===e.type}).length,y=h.filter(function(e){return"PROFILE"===e.type}).length>0,g=u?(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsxs)(m.kC,{alignItems:"start",direction:"column",gap:{row:0,column:4},children:[(0,D.jsx)(m.xv,{children:n._('You\'ve successfully requested access to the following:', '[m10n]bizAccess.partnerRequest.success.heading', 'Text above the list of profile access requests')}),(0,D.jsx)(m.xv,{children:(0,T.nk)(n._('\u2022 {{ name }} as a partner', '[m10n]bizAccess.partnerRequest.success.summary', 'Confirmation that the business was requested as a partner. name: Full name of business.'),{name:p})}),b>0&&(0,D.jsx)(m.xv,{children:(0,eE.Z)(n.ngettext('\u2022 {{assignedAccountsCount}} ad account', '\u2022 {{assignedAccountsCount}} ad accounts', b, '[m10n]bizAccess.partnerRequest.success.numberOfAdAccounts', 'Number of ad accounts requested from a partner. assignedAccountsCount: number of ad accounts'),{assignedAccountsCount:b})}),y&&(0,D.jsx)(m.xv,{children:(0,T.nk)(n._('\u2022 {{ name }}\'s profile', '[m10n]bizAccess.partnerRequest.success.profile', 'Confirmation that the business profile was requested. name: Full name of business.'),{name:p})}),(0,D.jsx)(m.xv,{children:n._('Your request will expire after 14 days', '[m10n]bizAccess.partnerRequest.expiry', 'Text explaining the request will expire after 14 days time')})]})}):(0,D.jsx)(nG,{content:b?(0,T.nk)(n.ngettext('{{ name }} has successfully been requested as a partner and requested access to {{assignedAccountsCount}} ad account.', '{{ name }} has successfully been requested as a partner and requested access to {{assignedAccountsCount}} ad accounts.', b, '[m10n]businessAccess.partnerRequest.successs.requestSuccessMessage.adaccounts', 'Content in a confirmation dialog, indicating ad accounts associated to partner'),{name:p,assignedAccountsCount:b}):(0,T.nk)(n._('{{ name }} has successfully been requested as a partner.', '[m10n]bizAccess.partnerRequest.success.requestSuccessMessage', 'Content in a confirmation dialog'),{name:p}),face:{src:(null==i?void 0:i.extended_user_info.image_small_url)||"",name:p}});return(0,D.jsxs)(U.Z,{accessibilityLabel:(0,eI.ZE)(n),size:"sm",title:f,cancelText:(0,eI.Fd)(n),children:[d&&(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(e0.Z,{display:"block"})}),g]})},sq=n(966113),sY=n(67347);function sV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sQ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sW(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function sJ(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){sW(i,r,s,o,a,"next",e)}function a(e){sW(i,r,s,o,a,"throw",e)}o(void 0)})}}var sK=function(e){var t=e.clientBusinessId,n=e.ownerUserId;return t||n},sX=function(){var e,t=(0,(0,E.F)().checkExperiment)("business_access_assets_and_history_api_v4_migration").anyEnabled,n=(0,w.ZP)(),r=(0,A.ZP)("BUSINESS_ACCESS_AUDIENCES"),s=(0,N.KJ)(),i=(0,u.Z)().id,o=(0,_.useCallback)((e=sJ(regeneratorRuntime.mark(function e(n,r){var s,i,o,a,c,l,u,d,_,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,c=null,e.prev=2,d={businessId:n,id:n,personId:r,searchBy:"name",sortBy:"name",sortDirection:v.IR.ASCENDING,limit:v.cU,includeAssetSummary:!0},!t){e.next=24;break}return e.t1=t,e.next=8,(0,ti.QC)(d);case 8:if(e.t4=l=e.sent,e.t3=null===e.t4,e.t3){e.next=12;break}e.t3=void 0===l;case 12:if(!e.t3){e.next=16;break}e.t5=void 0,e.next=17;break;case 16:e.t5=l.data.data;case 17:if(e.t2=e.t5,e.t2){e.next=20;break}e.t2={};case 20:e.t6=e.t2,e.t0={isMapResponse:e.t1,map:e.t6},e.next=41;break;case 24:return e.t7=t,e.next=27,(0,ti.QC)(d);case 27:if(e.t10=u=e.sent,e.t9=null===e.t10,e.t9){e.next=31;break}e.t9=void 0===u;case 31:if(!e.t9){e.next=35;break}e.t11=void 0,e.next=36;break;case 35:e.t11=u.data.data;case 36:if(e.t8=e.t11,e.t8){e.next=39;break}e.t8=[];case 39:e.t12=e.t8,e.t0={isMapResponse:e.t7,array:e.t12};case 41:o=e.t0,e.next=48;break;case 44:e.prev=44,e.t13=e.catch(2),a=!0,c=e.t13.code;case 48:return e.prev=48,(0,sY.nP)("audience_sharing.ui.searchbox.get_ad_accounts",{sampleRate:1,tags:{error:a,error_code:c}}),e.finish(48);case 51:return _=new Set([v.V3.OWNER,v.gO.ADMIN,v.gO.AUDIENCE_MANAGER]),f=(null!==(s=o)&&void 0!==s&&s.isMapResponse?Object.values(o.map||{}):(null===(i=o)||void 0===i?void 0:i.array)||[]).filter(function(e){var r;return(t?e.permissions||[]:e.roles||[]).some(function(e){return _.has(e)})&&sK({clientBusinessId:null===(r=e.client_business)||void 0===r?void 0:r.id,ownerUserId:e.owner.id})===n}).map(function(e){return{id:e.asset.id,name:e.asset.name}}),e.abrupt("return",{adAccountsInBusiness:f,error:a});case 55:case"end":return e.stop()}},e,null,[[2,44,48,51]])})),function(t,n){return e.apply(this,arguments)}),[t]),a=sV((0,_.useState)([]),2),c=a[0],l=a[1];(0,_.useEffect)(function(){function e(){return(e=sJ(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s,i||"");case 2:l(e.sent.adAccountsInBusiness||null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[s,i,o]);var d=sV((0,_.useState)([]),2),p=d[0],h=d[1],b=sV((0,_.useState)([]),2),y=b[0],g=b[1],S=sV((0,_.useState)(null),2),x=S[0],P=S[1],I=sV((0,_.useState)(""),2),j=I[0],O=I[1],C=(0,f.useDispatch)();return(0,_.useEffect)(function(){p.length>0?(g(p),P(p[0]),O(p[0].label)):C((0,ee.cE)({businessId:s,sortBy:"name",sortDirection:v.IR.ASCENDING}))},[p,s,C]),(0,_.useEffect)(function(){c.length>0&&h(c.map(function(e){return{label:e.name?e.name:"",value:e.id?e.id:""}}))},[c]),(0,D.jsx)(U.Z,{accessibilityLabel:n._('Select ad account to share an audience modal', '[m10n].bizAccess.audienceSharing.dropdownModal.a11yLabel', 'Accessibility label for the select ad account to share an audience modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"select-ad-account-to-share-from-button",children:(0,D.jsx)(m.ZP,{size:"lg",color:"red",disabled:null==x,text:n._('Go to Audiences', '[m10n].bizAccess.audienceSharing.dropdownModal.primaryActionButton', 'Button confirming ad account selection'),href:"".concat(sq.auO,"/advertiser/").concat((null==x?void 0:x.value)||"","/audiences/"),onClick:function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"audiences-page-empty-select-ad-account-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"audiences-page-empty-submit-go-to-ad-account"})}})}),title:n._('Select an ad account to share an audience from', '[m10n].bizAccess.audienceSharing.dropdownModal.title', 'Title for the select ad account to share an audience modal'),size:"lg",cancelText:(0,B.I9)(n),children:(0,D.jsxs)(m.xu,{height:120,children:[(0,D.jsx)(m.xv,{children:n._('Before you can share an audience, you need to select which ad account to share from.', '[m10n].bizAccess.audienceSharing.dropdownModal.subtitle', 'Subtitle for letting users know that they will have to select an ad account to share audiences from')}),(0,D.jsx)(m.BC,{id:"adAccountComboBox",inputValue:j,selectedOption:x||{label:"",value:""},onSelect:function(e){var t=e.item;g(p),P(t),O(t.label)},onClear:function(){P(null),O(""),g(p)},onChange:function(e){var t=e.value;P(null),O(t),g(p)},label:n._('Your ad accounts', '[m10n].bizAccess.audienceSharing.dropdownModal.comboBoxLabel', 'Label for the ad account ComboBox'),helperText:n._('To get started, please select one ad account. Only ad accounts that you own will be shown.', '[m10n].bizAccess.audienceSharing.dropdownModal.helperText', 'Helper text for the ad account ComboBox'),options:y,zIndex:new m.Ry(1e3),size:"lg"})]})})};function s$(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function s0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s2=function(e){var t,n,r=e.pageForLogger,s=(0,w.ZP)(),i=(0,A.ZP)(r||(0,A.QK)("SHARED_TAGS")),o=(0,f.useSelector)(rR.iX),a=(0,f.useSelector)(rR.TX),c=(0,N.HL)(),l=c.setShareTagSummaryModal,u=c.setShareTagModal,d=(0,N.KJ)(),p=(0,f.useDispatch)(),h=s0((0,_.useState)(!1),2),b=h[0],y=h[1],g=s0((0,_.useState)(!1),2),S=g[0],x=g[1],E=(0,F.F9)().showToast,P=(0,f.useSelector)(rR.aw),I=s._('Pinterest tag share legal modal', '[m10n]bizAccess.business.share.tag.legal.modal', 'accessibility label for the modal used to show legal information about shared tags ad accounts'),j=s._('Share Pinterest tag with an ad account', '[m10n]bizAccess.business.share.tag.legal.title', 'heading for the modal used to summarize shared tags added ad accounts');if(P||S)return(0,D.jsx)(U.Z,{accessibilityLabel:I,title:j,size:"md",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(s),show:!0})});var O=(t=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-legal-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-legal-modal-submit-button",business_id:d}),e.next=4,(0,rz.Ol)({businessId:d,tagId:o.id,assetsToAdd:a.map(function(e){return e.id})});case 4:null!==(t=(n=e.sent).resource_response.data)&&void 0!==t&&t.data&&(p((0,rT.a3)({addedTags:n.resource_response.data.data})),l({pageForLogger:r})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),E(function(e){var t=e.hideToast;return(0,D.jsx)(G.ZP,{duration:v.QE,type:"error",onHide:t,text:(0,B.sQ)(s)})}),x(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){s$(i,r,s,o,a,"next",e)}function a(e){s$(i,r,s,o,a,"throw",e)}o(void 0)})},function(){return n.apply(this,arguments)});return(0,D.jsxs)(U.Z,{accessibilityLabel:I,onDismiss:function(){return u({pageForLogger:r})},cancelText:s._('Back', '[m10n]bizAccess.share.tag.legal.modal.back', 'Label for the back button on share tag legal modal'),primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,D.jsx)(m.zx,{disabled:!b,size:"lg",color:"red",text:s._('Share Pinterest tag', '[m10n]bizAccess.share.tag.legal.modal.sumbit', 'Label for the submit button on share tag legal modal'),onClick:function(){x(!0),O()}})}),size:"lg",title:j,footerSecondaryContent:(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:s._('Step 2 of 2', '[m10n]bizAccess.share.tag.modal.steps.second', 'Label to identify the current step, second, on share tag flow')}),children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{weight:"bold",size:"400",children:s._('Legal disclaimer', '[m10n]bizAccess.share.tag.legal.description', 'Present the following disclaimer statement')})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{color:"subtle",children:s._('By sharing your Pinterest Tag, you agree to allow Pinterest to share all data collected by your Pinterest Tag, including conversion events, for measuring ad effectiveness, ad delivery, reporting, and targeting for the ad account selected above. This agreement shall supersede any conflicting terms in Pinterest\u2019s Ad Data Terms. You represent that you comply with all applicable laws when sharing this Pinterest Tag data and that you have the rights and the legally required consents for the sharing and use of the data (including use by Pinterest) as described herein.  You further agree that you shall indemnify, defend, and hold harmless Pinterest and its officers, directors, employees, agents and affiliates, against any and all liabilities, damages, losses, costs and expenses (including legal fees) arising from or related to any third-party allegation or legal proceeding arising from or related to the sharing of your Pinterest Tag, pursuant to the indemnification procedures described in the Pinterest Advertising Services Agreement.', '[m10n]bizAccess.share.tag.legal.firstLine', 'First paragraph of legal statement')})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{color:"subtle",children:s._('By sharing your Pinterest Tag, you give the selected ad account the right to access reporting and measurement services based on conversion events from your Tag and to create audiences utilizing your Tag data.  You agree and accept that, if in the future you revoke access to your Pinterest Tag, the selected ad account will maintain access to all historic data that has already been shared through your Tag subject to Pinterest\u2019s standard data retention policies.', '[m10n]bizAccess.share.tag.legal.secondLine', 'First paragraph of legal statement')})}),(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.XZ,{id:"tagSharingLegalCheckbox",checked:b,label:s._('By checking this box, you agree to the above legal terms and conditions', '[m10n]bizAccess.share.tag.legal.checkbox', 'Agreement checkbox for tag sharing'),onChange:function(e){return y(e.checked)}})})]})};function s3(e){return(s3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s6(e){return function(e){if(Array.isArray(e))return s7(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s5(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==s3(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s3(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s3(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||s5(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s5(e,t){if(e){if("string"==typeof e)return s7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s7(e,t)}}function s7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ie=new m.Ry(9999),it=function(e){var t=e.pageForLogger,n=(0,w.ZP)(),r=(0,f.useDispatch)(),s=(0,N.HL)().setShareTagLegalModal,i=(0,N.KJ)(),o=(0,A.ZP)(t||(0,A.QK)("SHARED_TAGS")),a=s9((0,_.useState)([]),2),c=a[0],l=a[1],d=s9((0,_.useState)(""),2),p=d[0],h=d[1],b=(0,u.Z)(),g=(0,f.useSelector)(eo.wk),S=(0,f.useSelector)(rR.iX),x=(0,f.useSelector)(rR.Jb),P=(0,f.useSelector)(eo.Xy),I=(0,f.useSelector)(rR.HR),j=(0,f.useSelector)(rR.TX),O=(0,E.F)(),C=O.checkExperiment,z=C("web_m10n_business_hierarchy_beta").anyEnabled,R=C("business_access_employees_api_v4_migration").anyEnabled,k=C("web_m10n_business_access_agency_tag_sharing").anyEnabled,L=C("business_access_assets_and_history_api_v4_migration").anyEnabled,M=(0,f.useSelector)(e6.ZP),H=(0,y.C)().businessHierarchies,Z=(0,te._4)(M,i,R,H,z),G=s9((0,_.useState)(!1),2),F=G[0],q=G[1],Y=n._('You can only share a Pinterest tag with 20 ad accounts at a time. To keep sharing, remove ad accounts you would no longer like to share with.', '[m10n]bizAccess.business.share.tag.maxadaccounts.error', 'Error message when tag cannot be shared any further as the maximum amount has been reached.'),V=function(){return x.length+c.length>=20};(0,_.useEffect)(function(){var e=b.isAuth?b.id:"";k&&"EMPLOYEE"===Z?r((0,er.UQ)({businessId:S.business_id,detailId:e,sortBy:"name",sortDirection:v.IR.ASCENDING,searchBy:void 0,searchTerm:void 0,limit:v.cU,includeAssetSummary:!0,experimentsClient:O})):r((0,ee.cE)({businessId:i,limit:L?v.xX:v.cU,includeAssetSummary:!0}))},[r,i,b,k,S,Z,L,O]),(0,_.useEffect)(function(){l(j.map(function(e){return{value:e.id,label:e.name,tagType:e.ownedOrEnabled?"DEFAULT":"WARNING"}}))},[j]);var Q=s9((0,_.useState)(""),2),W=Q[0],J=Q[1],K=(0,_.useMemo)(function(){return Object.keys(P).reduce(function(e,t){var n=P[t];return n.owner&&n.owner.id===S.business_id&&S.ad_account_id!==n.asset.id&&!S.tags.find(function(e){return e.ad_account_id===n.asset.id})&&(e=e.concat(s8(s8({},n),n.asset))),e},[]).map(function(e){return{label:e.name,value:e.id,subtext:(0,T.nk)(n._('ID: {{adAccountId}} | Account Owner: {{adAccountOwner}}', '[m10n]bizAccess.business.share.tag.modal.combobox.option.subtext', 'accessibility label for the modal used to share tag with ad accountadAccountId: Ad account Id for optionadAccountOwner: Ad account owner for option'),{adAccountId:e.id,adAccountOwner:e.owner.full_name}).join("")}})},[P,S,n]),X=s9((0,_.useState)(K.filter(function(e){return!c.find(function(t){return t.value===e.value})})),2),$=X[0],et=X[1];(0,_.useEffect)(function(){et(K.filter(function(e){return!c.find(function(t){return t.value===e.value})}))},[K,c]);var en=function(e){var t=c.filter(function(t){return t.value!==e});l(t),et(K.filter(function(e){return!t.find(function(t){return t.value===e.value})}))},es=function(e){var t=e.value,r=K.find(function(e){return e.label===t});if(V())J(Y);else if(""===t||r){if(r){var s=[].concat(s6(c),[{label:r.label,value:r.value}]);l(s),et(K.filter(function(e){return!s.find(function(t){return t.value===e.value})})),h("")}}else{var i=n._('This is not a valid ad account name or ID', '[m10n]bizAccess.business.share.tag.combobox.error', 'Error message when option does not exist on combobox.');k&&!Number.isNaN(t)?(q(!0),(0,rz.qE)({owner_business_id:S.business_id,account_ids:[t],validate_owned_only:!0}).then(function(e){var n=e.resource_response.data.accounts.find(function(e){return e.account_id===t});if(null!=n&&n.is_valid){var r=[].concat(s6(c),[{label:n.account_name,value:t,tagType:v.qq.WARNING}]);l(r),et(K.filter(function(e){return!r.find(function(t){return t.value===e.value})})),h("")}else J(i)}).catch(function(){J(i)}).finally(function(){q(!1)})):J(i)}},ei=n._('Share tag with ad account modal', '[m10n]bizAccess.business.share.tag.modal', 'accessibility label for the modal used to share tag with ad account'),ea=n._('Share Pinterest tag with an ad account', '[m10n]bizAccess.business.share.tag.title', 'heading for the modal used to add a partner to a business account');return g?(0,D.jsx)(U.Z,{accessibilityLabel:ei,title:ea,size:"md",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})}):(0,D.jsxs)(U.Z,{accessibilityLabel:ei,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:n._('Next', '[m10n]bizAccess.share.tag.modal.sumbit', 'Label for the submit button on the Share tag modal'),disabled:c.length<1,onClick:function(){if(!(c.length<1)){var e=c.reduce(function(e,t){if(t.tagType!==v.qq.WARNING){var n=P[t.value];e=e.concat(s8(s8(s8({},n),n.asset),{},{ownedOrEnabled:!0}))}else e=e.concat({id:t.value,name:t.label,owner:{id:S.business_id,full_name:(null==I?void 0:I.owner.full_name)||S.business_id},tagId:S.id,ownedOrEnabled:!1});return e},[]);r((0,rT.at)({adAccounts:e})),s({pageForLogger:t}),o({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-modal-submit-button",business_id:i})}}})}),size:"lg",title:ea,onDismiss:function(){return r((0,rT.at)({adAccounts:[]}))},footerSecondaryContent:(0,D.jsx)(m.xv,{color:"subtle",size:"200",children:n._('Step 1 of 2', '[m10n]bizAccess.share.tag.modal.steps.first', 'Label to identify the current step, first, on share tag flow')}),children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(n._('Share Pinterest tag {{tagName}} (Tag ID: {{tagId}}) by selecting the ad accounts that should receive this tag from the dropdown below. You can only share this tag with ad accounts that you own.', '[m10n]bizAccess.share.tag.description', 'Describe the tag being shared, tagName: Selected tag name, tagId: Selected tag ID'),{tagName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:S.name},S.id),tagId:S.id})})}),(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsxs)(m.kC,{alignItems:"center",gap:2,children:[(0,D.jsx)(m.JO,{icon:"info-circle",accessibilityLabel:n._('Info icon', '[m10n]bizAccess.share.tag.modal.info.icon', 'Info icon for share tag modal'),color:"info",size:"24"}),(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:n._('Once the Pinterest tag shared:', '[m10n]bizAccess.share.tag.modal.info', 'Label for title of list of information')})]})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsxs)(m.aV,{type:"unordered",spacing:"regular",children:[(0,D.jsx)(m.aV.Item,{text:n._('Everyone with access to that ad account will be able to see the Pinterest Tag immediately and will be able to use it within 24 hours', '[m10n]bizAccess.share.tag.modal.info.viewAccess', 'Label that describes who will be getting access by sharing this tag')}),(0,D.jsx)(m.aV.Item,{text:n._('Ad accounts that receive the Pinterest tag may only use it in their targeting and audience creation; they cannot edit, delete or share this Pinterest tag with other ad accounts or businesses', '[m10n]bizAccess.share.tag.modal.info.permissions', 'Label that describes what permissions will the recipients get')}),(0,D.jsx)(m.aV.Item,{text:n._('Ad accounts retain access to this Pinterest tag until the tag owner revokes access or the recipient removes this Pinterest tag from their ad accounts', '[m10n]bizAccess.share.tag.modal.info.revoke', 'Label that describes that the tag owner can revoke permissions and access at any time')})]})}),(0,D.jsx)(m.xu,{marginBottom:4,color:"lightWash",padding:3,rounding:2,children:(0,D.jsxs)(m.kC,{alignItems:"center",gap:3,children:[(0,D.jsx)(m.JO,{icon:"code",color:"dark",accessibilityLabel:n._('Sharing icon', '[m10n]bizAccess.share.tag.modal.sharing.icon', 'Sharing icon for share tag modal'),size:"24"}),(0,D.jsx)(m.xv,{size:"300",children:(0,T.nk)(n._('You are sharing: {{tagName}} (Tag ID: {{tagId}})', '[m10n]bizAccess.share.tag.modal.sharing.label', 'Label to describe what tag is being sharedtagName: Selected tag nametagId: Selected tag ID'),{tagName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:S.name},"".concat(S.id,"label")),tagId:S.id})})]})}),(0,D.jsx)(m.xu,{marginBottom:2,width:"100%",children:(0,D.jsx)(m.xu,{"data-test-id":"share-tag-ad-account-combobox",children:F?(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0}):(0,D.jsx)(m.BC,{accessibilityClearButtonLabel:n._('A combo box to select multiple Ad Accounts', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.accessibility', 'Describes the purpose of the combobox'),label:n._('Ad accounts you would like to share with', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.description', 'Describes what needs to be selected on the following combo box'),id:"tags",inputValue:p,noResultText:n._('No Result', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.noresult', 'Label to be shown when no ad account was found'),options:$,helperText:n._('Select one or more ad accounts. Only ad accounts that you own will appear.', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.helpertext', 'Label to let the users know they can select multiple options'),onKeyDown:function(e){var t=e.event,n=e.value,r=t.keyCode,s=t.currentTarget;if(8===r&&0===s.selectionEnd){var i=s6(c.slice(0,-1));l(i),et(K.filter(function(e){return!i.find(function(t){return t.value===e.value})}))}13===r&&es({event:t,value:n})},onChange:function(e){var t=e.value;J(""),h(t);var n=K.filter(function(e){return!c.find(function(t){return t.value===e.value})});et(t?n.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}):n)},onClear:function(){l([]),et(K),J("")},onBlur:es,onSelect:function(e){var t=e.item,n=t.label,r=t.value;if(V())J(Y);else if(!c.find(function(e){return e.value===r})){var s=[].concat(s6(c),[{label:n,value:r}]);l(s),et(K.filter(function(e){return!s.find(function(t){return t.value===e.value})})),h("")}},errorMessage:W,placeholder:c.length>0?"":n._('Search ad account name or ID', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.placeholder', 'Placeholder text with a tip to search for ad accounts in combobox'),tags:c.map(function(e){return(0,D.jsx)(m.Vp,{accessibilityRemoveIconLabel:n._('Search ad account name or ID', '[m10n]bizAccess.share.tag.modal.adAccount.combobox.tag.a11y', 'Close button to remove an ad account from combobox'),onRemove:function(){return en(e.value)},text:e.label,type:e.tagType===v.qq.WARNING?"warning":"default"},e.value)}),zIndex:ie})})}),(0,D.jsx)(m.xu,{marginBottom:6,children:c.find(function(e){return e.tagType===v.qq.WARNING})&&(0,D.jsx)(m.J0,{type:"warningBare",iconAccessibilityLabel:"Info",message:(0,D.jsx)(m.xv,{color:"warning",size:"100",children:n._('This ad account belongs to a business within your business hierarchy. Please confirm this ad account before sharing this Pinterest tag.', '[m10n]bizAccess.share.tag.modal.adAccount.not.owned', 'Warning text to tell the user this ad account is not shared with him and validate before sharing')})})})]})},ir=function(e){var t=e.pageForLogger,n=(0,w.ZP)(),r=(0,A.ZP)(t||(0,A.QK)("SHARED_TAGS")),s=(0,f.useSelector)(rR.iX),i=(0,f.useSelector)(rR.TX),o=(0,N.HL)().clearModal,a=(0,N.KJ)(),c=(0,f.useDispatch)(),l=(0,f.useSelector)(rR.aw),u=n._('Pinterest tag shared summary modal', '[m10n]bizAccess.business.share.tag.summary.modal', 'accessibility label for the modal used to summarize shared tags ad accounts'),d=n._('Pinterest tag shared', '[m10n]bizAccess.business.share.tag.summary.title', 'heading for the modal used to summarize shared tags added ad accounts');if(l)return(0,D.jsx)(U.Z,{accessibilityLabel:u,title:d,size:"md",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})});var _=function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-summary-modal-submit",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-summary-modal-submit-button",business_id:a}),c((0,rT.at)({adAccounts:[]})),o()};return(0,D.jsxs)(U.Z,{accessibilityLabel:u,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,D.jsx)(m.zx,{size:"lg",color:"red",text:n._('Done', '[m10n]bizAccess.share.tag.summary.modal.sumbit', 'Label to close summary modal'),onClick:_})}),onDismiss:_,size:"sm",title:d,hideCancelAction:!0,children:[(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.xv,{children:(0,T.nk)(n._('You have shared Pinterest Tag {{tagName}} (Tag ID: {{tagId}}) with the following ad accounts:', '[m10n]bizAccess.share.tag.summary.description', 'Describe the tag being shared, tagName: Selected tag name, tagId: Selected tag ID'),{tagName:(0,D.jsx)(m.xv,{weight:"bold",inline:!0,children:s.name},s.id),tagId:s.id})})}),(0,D.jsx)(m.xu,{marginBottom:4,children:(0,D.jsx)(m.aV,{type:"unordered",spacing:"condensed",children:i.map(function(e){return(0,D.jsx)(m.aV.Item,{text:(0,T.nk)(n._('{{adAccountName}} (Ad account ID: {{adAccountId}})', '[m10n]bizAccess.share.tag.summary.ad_account', 'Describe an ad account beign shared to tagadAccountName: ad account name getting accessadAccountId: ad account id getting access'),{adAccountName:e.name,adAccountId:e.id}).join("")},e.id)})})})]})},is=n(170168);function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ia(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==ii(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ii(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ii(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iu=new m.Ry(9999),id=function(e){var t=e.pageForLogger,n=(0,w.ZP)(),r=(0,A.ZP)(t||(0,A.QK)("SHARED_TAGS")),s=(0,N.KJ)(),i=(0,f.useDispatch)(),o=(0,f.useSelector)(eo.Xy),a=(0,f.useSelector)(eo.wk),c=(0,_.useMemo)(function(){return Object.keys(o).reduce(function(e,t){var n=o[t];return n.owner.id===s&&(e=e.concat(il(il({},n),n.asset))),e},[]).map(function(e){return{label:e.name,value:e.id,subtext:(0,T.nk)(n._('ID: {{adAccountId}}', '[m10n]bizAccess.business.tag.getstarted.modal.combobox.option.subtext', 'accessibility label for the modal used to get started with pinterest tagadAccountId: Ad account Id for option'),{adAccountId:e.id}).join("")}})},[o,n,s]),l=io((0,_.useState)(null),2),u=l[0],d=l[1],p=io((0,_.useState)(c),2),h=p[0],b=p[1],y=io((0,_.useState)(""),2),v=y[0],g=y[1],S=n._('Pinterest tag get started modal', '[m10n]bizAccess.business.share.tag.getstarted.modal', 'accessibility label for the modal used to get started on shared tags'),x=n._('Get started', '[m10n]bizAccess.business.share.tag.getstarted.title', 'heading for the modal used to get started on shared tags');return((0,_.useEffect)(function(){o.length<1&&i((0,ee.cE)({businessId:s}))},[i,s,o]),(0,_.useEffect)(function(){r({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"share-tag-getstarted-modal-adaccount",element:"BUSINESS_ACCESS_BUTTON",elementId:"share-tag-getstarted-modal-adaccount-combobox",business_id:s})},[u,r,s]),a)?(0,D.jsx)(U.Z,{accessibilityLabel:S,title:x,size:"md",children:(0,D.jsx)(m.$j,{accessibilityLabel:(0,B.hC)(n),show:!0})}):(0,D.jsx)(U.Z,{accessibilityLabel:S,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"share-tag-modal-submit-button",children:(0,D.jsx)(m.ZP,{text:n._('Set up tag', '[m10n]bizAccess.share.tag.getstarted.modal.sumbit', 'Label to go to set up page'),color:"red",disabled:!u,href:u?"".concat(is.vI,"/advertiser/").concat(u.value,"/conversions/tag"):"#"})}),size:"md",title:x,children:(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsxs)(m.UQ,{id:"set-up-pinterest-tag-module",title:n._('Set up my Pinterest Tag', '[m10n]bizAccess.business.share.tag.getstarted.modal.title', 'title for the module to instruct the user how to set up pinterest tags'),children:[(0,D.jsx)(m.xu,{marginBottom:6,children:(0,D.jsx)(m.xv,{size:"300",children:n._('Before you can share your tag, you\u2019ll need to set it up and connect a data source. Select which ad account you would like to set up your tag under.', '[m10n]bizAccess.business.share.tag.getstarted.modal.statement', 'statement for the module to instruct the user how to set up pinterest tags')})}),(0,D.jsx)(m.xu,{marginBottom:2,width:"100%",children:(0,D.jsx)(m.BC,{accessibilityClearButtonLabel:n._('Clear ad account selector for get started combo box', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.a11yClear', 'A11y label to clear ad account combobox on pinterest tag get started modal'),helperText:n._('To get started, please select one ad account. Only ad accounts that you own will be shown.', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.helperText', 'Helper text for the ad account combobox on pinterest tag get started modal'),id:"header",label:n._('Your ad accounts', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.label', 'Label for the ad account combobox on pinterest tag get started modal'),noResultText:n._('No Result', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.noResultText', 'No result label for the ad account combobox on pinterest tag get started modal'),onBlur:function(){u||g("")},onSelect:function(e){var t=e.item;g(t.label),d(t)},onClear:function(){g(""),d(null),b(c)},onChange:function(e){var t=e.value;d(null),g(t),b(t&&h.length>0?h.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}):c.filter(function(e){return e.label.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase())}))},inputValue:v,options:h,placeholder:n._('Search by ad account name or ID', '[m10n]bizAccess.business.share.tag.getstarted.modal.combobox.placeholder', 'Search placeholder for the ad account combobox on pinterest tag get started modal'),zIndex:iu})})]})})})},i_=function(e){var t=e.partnerBusinessInfo,n=e.ownerInfo,r=e.accountInfo,s=(0,w.ZP)(),i=(0,N.HL)(),o=i.setAOAAPermissionAssignmentModal,a=i.clearModal;return(0,D.jsx)(U.Z,{title:s._('Assign permissions to create ad account', '[m10n]businessAccess.assignPermissionsValidation.title', 'Title to show permissions must be assigned to create ad account'),cancelText:s._('Cancel creation', '[m10n]businessAccess.assignPermissionsValidation.assignPermissionsButton', 'label for button to cancel ad account request creation'),accessibilityLabel:(0,eI.T_)(s),onDismiss:a,primaryAction:(0,D.jsx)(m.xu,{"data-test-id":"go-back-and-assign-permissions",children:(0,D.jsx)(m.zx,{size:"lg",fullWidth:!0,text:s._('Assign permissions', '[m10n]businessAccess.assignPermissionsValidation.assignPermissionsButton', 'Label for the button to assign permissions for ad account'),color:"red",onClick:function(){return o({partnerBusinessInfo:t,ownerInfo:n,accountInfo:r})}})}),size:"sm",children:(0,D.jsx)(m.xv,{children:s._('Ad account permissions must be assigned to a partner to create an ad account. If permission is not assigned, this ad account will be deleted.', '[m10n]businessAccess.assignPermissionsValidation.text', 'description that explains ad account will be deleted if the user does not assign permissions')})})},im=n(378518),ip=function(e){var t=e.businessAccount,n=(0,o.useHistory)(),r=(0,u.Z)(),s=(0,N.HL)(),i=s.clearModal,a=s.setCreateBusinessHierarchyModal,c=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),l=(0,w.ZP)(),d=(0,im._)({id:1000483}),_=!!(d&&505651===d.experience_id),f=r.id===t.user.id,p=!t.parentName,h=r.has_mfa_enabled||_;(0,nq.Z)(function(){c({eventName:"BUSINESS_ACCESS_PAGE_VIEW",component:"BUSINESS_ACCESS_VIEW_BUSINESS_DETAILS_MODAL",component_id:"view-business-details-modal",business_id:t.id})});var b=p?l._('Create a business hierarchy ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.headingCreate', 'heading to create a new business hierarchy'):l._('Business Hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section'),y=p?l._('View and manage your child businesses in one place. Save time with a view of all your business, employee and partner permissions and make changes at scale. ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.headingCreate', 'description for advanced settings section to create a business hierarchy'):(0,T.nk)(l._('{{childBusinessName}} is a child business of {{parentBusinessName}}. To remove your business, contact support.', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section. childBusinessName: is the child business name, parentBusinessName: is the busines name the child belongs to'),{childBusinessName:t.user.full_name,parentBusinessName:t.parentName}).join(""),v=l._('Once you\u2019ve enabled two-factor authentication, return here to create your business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredReason', 'text in tool tip and accessibility label to indicate why button is disabled');return(0,D.jsx)(m.xu,{"data-test-id":"view-business-details-modal",children:(0,D.jsxs)(U.Z,{size:600,hideFooter:!0,hideCancelAction:!0,onDismiss:function(){i()},accessibilityLabel:l._('Edit business details title', '[m10n]businessAccess.viewBusinesDetails.modal.heading.a11y', 'A11y heading text for the edit business details modal'),title:l._('Edit business details', '[m10n]businessAccess.viewBusinesDetails.modal.heading', 'Heading text for the edit business details modal'),children:[(0,D.jsxs)(m.kC,{justifyContent:"start",alignItems:"center",children:[(0,D.jsx)(eJ.qE,{size:"md",name:t.user.full_name||"",src:t.user.image_medium_url||""}),(0,D.jsxs)(m.kC,{width:"100%",alignItems:"center",justifyContent:"between",children:[(0,D.jsxs)(m.xu,{marginStart:2,display:"flex",direction:"column",justifyContent:"between",alignItems:"baseline",children:[(0,D.jsx)(m.xv,{size:"300",weight:"bold",children:t.user.full_name}),(0,D.jsx)(m.xv,{size:"200",color:"subtle",children:(0,T.nk)(l._('ID: {{id}}', '[m10n]businessAccess.viewBusinesDetails.modal.businessId', 'text showing the business account id with a description. id: id of the business account being detailed'),{id:t.id}).join("")})]}),f&&(0,D.jsx)(m.xu,{children:(0,D.jsx)(m.zx,{onClick:function(){c({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"view-business-details-modal",element:"BUSINESS_ACCESS_BUTTON",elementId:"update-business-details-button",business_id:t.id}),n.push("/settings")},accessibilityLabel:l._('Go to edit business details', '[m10n]businessAccess.viewBusinesDetails.modal.updateBusinessDetails.button.a11y', 'A11y edit business details button text'),text:l._('Update', '[m10n]businessAccess.viewBusinesDetails.modal.updateBusinessDetails.button.text', 'Edit business details button text'),iconEnd:"arrow-up-right"})})]})]}),(0,D.jsx)(m.xu,{marginTop:4,marginBottom:4,children:(0,D.jsx)(m.xv,{children:l._('Additional features', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.heading', 'Heading for the advanced settings section')})}),(0,D.jsx)(m.xu,{padding:4,borderStyle:"sm",rounding:4,marginBottom:6,dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},children:(0,D.jsxs)(m.kC,{gap:4,direction:"column",children:[(0,D.jsxs)(m.xu,{children:[(0,D.jsx)(m.xu,{marginBottom:1,children:(0,D.jsxs)(m.xv,{weight:"bold",children:[b,p&&(0,D.jsx)(m.Ct,{text:l._('New', '[m10n]bizAccess.viewBusinesDetails.titleBadge.new', 'badge to signify that this is a new feature'),type:"info"})]})}),(0,D.jsxs)(m.xv,{color:"dark",inline:!0,children:[y,p&&(0,D.jsx)(m.rU,{accessibilityLabel:l._('Learn more about creating business hierarchy', '\'[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore.ally', 'link to learn more about creating business hierarchy'),display:"inline",href:"".concat(sq.gOE,"business/article/create-and-manage-accounts"),target:"blank",children:l._('Learn more', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.learnMore', 'text for link to learn more')})]})]}),p&&!h&&(0,D.jsx)(m.J0,{message:(0,D.jsxs)(m.xv,{children:[l._('To create a business hierarchy, you must ', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequired', 'text saying they must enable two factor authentication in order to create a business hierarchy'),(0,D.jsx)(m.rU,{display:"inline",href:"/settings/security",accessibilityLabel:l._('go to security and logins to enable two factor authentication', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredLink.a11y', 'ally label to click on link to go to security and logins'),children:l._('enable two factor authentication', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.mfaRequiredLink', 'text in link at the end of sentence to enable two factor authentication')})]},"slim-banner-text"),iconAccessibilityLabel:"s",type:"infoBare"}),p&&(0,D.jsxs)(m.kC,{width:"100%",justifyContent:"end",alignContent:"center",children:[(0,D.jsx)(m.zx,{dataTestId:"open-create-hierarchy-modal",accessibilityLabel:l._('Create business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.button.a11y', 'text in button to create new business hierarchy'),text:l._('Create business hierarchy', '[m10n]businessAccess.viewBusinesDetails.modal.advancedSettings.button', 'text in button to create new business hierarchy'),color:"red",disabled:!h,onClick:function(){a({businessAccount:t})}}),!h&&(0,D.jsx)(m.hU,{bgColor:"transparent",size:"md",icon:"info-circle",accessibilityLabel:v,tooltip:{text:v,accessibilityLabel:"",zIndex:nD.b7}})]})]})})]})})};function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ib(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==ih(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ih(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ih(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iv=function(e){switch(e.modalType){case"CREATE_PEOPLE":return{component:(0,D.jsx)(e7,{}),loggingConst:13632};case"CREATE_PEOPLE_INVITE_CONFIRMATION":return{component:(0,D.jsx)(r_,iy({},e.modalProps)),loggingConst:13633};case"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION":return{component:(0,D.jsx)(rb,iy({},e.modalProps)),loggingConst:14154};case"EDIT_PERSON_ROLE":return{component:(0,D.jsx)(rl,iy({},e.modalProps)),loggingConst:13635};case"REMOVE_PERSON":return{component:(0,D.jsx)(r3,iy({},e.modalProps)),loggingConst:13634};case"REMOVE_PROFILE_PERMISSIONS":return{component:(0,D.jsx)(r4,iy({},e.modalProps)),loggingConst:null};case"INVITE_REQUEST_PARTNER":return{component:(0,D.jsx)(rS,iy({},e.modalProps)),loggingConst:13636};case"CREATE_PARTNER_INVITE_CONFIRMATION":return{component:(0,D.jsx)(rd,iy({},e.modalProps)),loggingConst:13637};case"CREATE_PARTNER_REQUEST_CONFIRMATION":return{component:(0,D.jsx)(sZ,iy({},e.modalProps)),loggingConst:13785};case"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS":return{component:(0,D.jsx)(sF,iy({},e.modalProps)),loggingConst:13785};case"REMOVE_CHILD_BUSINESS":return{component:(0,D.jsx)(rZ,{}),loggingConst:14434};case"REMOVE_ORGANIZATION_MANAGER":return{component:(0,D.jsx)(rF,{}),loggingConst:14443};case"REMOVE_PARTNER":return{component:(0,D.jsx)(r$,iy({},e.modalProps)),loggingConst:13646};case"REMOVE_SHARED_PARTNER":return{component:(0,D.jsx)(sr,iy({},e.modalProps)),loggingConst:14153};case"REMOVE_SHARED_AD_ACCOUNT":return{component:(0,D.jsx)(r7,iy({},e.modalProps)),loggingConst:14171};case"CREATE_AD_ACCOUNT":return{component:(0,D.jsx)(nZ,{}),loggingConst:13638};case"CREATE_AD_ACCOUNT_CONFIRMATION":return{component:(0,D.jsx)(nF,iy({},e.modalProps)),loggingConst:13639};case"ASSIGN_AD_ACCOUNTS":return{component:(0,D.jsx)(t0,iy({},e.modalProps)),loggingConst:13640};case"ASSIGN_PROFILES":return{component:(0,D.jsx)(nA,iy({},e.modalProps)),loggingConst:null};case"ASSIGN_ASSETS":return{component:(0,D.jsx)(t8,iy({},e.modalProps)),loggingConst:null};case"REQUEST_AD_ACCOUNTS":return{component:(0,D.jsx)(sS,iy({},e.modalProps)),loggingConst:13786};case"REQUEST_AD_ACCOUNTS_GENERAL":return{component:(0,D.jsx)(sR,iy({},e.modalProps)),loggingConst:14861};case"REQUEST_PROFILE_ACCESS":return{component:(0,D.jsx)(sB,iy({},e.modalProps)),loggingConst:14113};case"REQUEST_PROFILE_ACCESS_GENERAL":return{component:(0,D.jsx)(sM,{}),loggingConst:14860};case"EDIT_AD_ACCOUNT_ACCESS":return{component:(0,D.jsx)(n4,iy({},e.modalProps)),loggingConst:13641};case"REMOVE_AD_ACCOUNT_ACCESS":return{component:(0,D.jsx)(rw,iy({},e.modalProps)),loggingConst:13642};case"ONBOARDING":return{component:(0,D.jsx)(rP,iy({},e.modalProps)),loggingConst:13643};case"SWITCH_AD_ACCOUNT":return{component:(0,D.jsx)(L,iy({},e.modalProps)),loggingConst:13770};case"AOAA_PERMISSION_ASSIGNMENT":return{component:(0,D.jsx)(tu,iy({},e.modalProps)),loggingConst:null};case"UNSAVED_PERMISSIONS_CONFIRMATION":return{component:(0,D.jsx)(i_,iy({},e.modalProps)),loggingConst:null};case"AOAA_REQUEST_CREATION_SUCCESS":return{component:(0,D.jsx)(td,iy({},e.modalProps)),loggingConst:null};case"ASSET_GROUPS_FORM":return{component:(0,D.jsx)(th,iy({},e.modalProps)),loggingConst:null};case"SHARE_TAG_FORM":return{component:(0,D.jsx)(it,iy({},e.modalProps)),loggingConst:null};case"SHARE_TAG_GET_STARTED_FORM":return{component:(0,D.jsx)(id,iy({},e.modalProps)),loggingConst:null};case"SHARE_TAG_SUMMARY_FORM":return{component:(0,D.jsx)(ir,iy({},e.modalProps)),loggingConst:null};case"SHARE_TAG_LEGAL_FORM":return{component:(0,D.jsx)(s2,iy({},e.modalProps)),loggingConst:null};case"DELETE_ASSET_GROUP_CONFIRMATION":return{component:(0,D.jsx)(n0,iy({},e.modalProps)),loggingConst:null};case"ADD_ASSET_OR_USER_TO_ASSET_GROUP":return{component:(0,D.jsx)(ex,iy({},e.modalProps)),loggingConst:null};case"ADD_USER_TO_ASSET_GROUP_CONFIRMATION":return{component:(0,D.jsx)(tt,iy({},e.modalProps)),loggingConst:null};case"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP":return{component:(0,D.jsx)(rM,iy({},e.modalProps)),loggingConst:null};case"REMOVE_ASSET_FROM_TAG":return{component:(0,D.jsx)(rk,iy({},e.modalProps)),loggingConst:null};case"EDIT_BUSINESS_DETAILS":return{component:(0,D.jsx)(rn,iy({},e.modalProps)),loggingConst:13942};case"VIEW_BUSINESS_DETAILS":return{component:(0,D.jsx)(ip,iy({},e.modalProps)),loggingConst:null};case"ADD_CHILD_BUSINESSES":return{component:(0,D.jsx)(eM,iy({},e.modalProps)),loggingConst:14435};case"ADD_CHILD_BUSINESSES_CONFIRMATION":return{component:(0,D.jsx)(eG,iy({},e.modalProps)),loggingConst:14436};case"ADD_ORGANIZATION_MANAGERS":return{component:(0,D.jsx)(eW,iy({},e.modalProps)),loggingConst:14466};case"ADD_ORGANIZATION_MANAGERS_CONFIRMATION":return{component:(0,D.jsx)(eX,iy({},e.modalProps)),loggingConst:14467};case"SELECT_AD_ACCOUNT_TO_SHARE_FROM":return{component:(0,D.jsx)(sX,{}),loggingConst:null};case"CREATE_BUSINESS_HIERARCHY":return{component:(0,D.jsx)(nW,iy({},e.modalProps)),loggingConst:13942};case"ADD_AD_ACCOUNT":return{component:(0,D.jsx)(Z,{}),loggingConst:null};case"CONFIRM_ASSET_ACCESS_REQUEST":return{component:(0,D.jsx)(nN,iy({},e.modalProps)),loggingConst:null};default:return{component:null,loggingConst:null}}},ig=function(){var e=(0,S.v)().logContextEvent,t=(0,N.KJ)(),n=(0,N.dd)(),r=iv(n),s=r.component,i=r.loggingConst;return(0,_.useEffect)(function(){return s?(e({event_type:8962,component:i,aux_data:{business_id:t}}),function(){e({event_type:8963,component:i,aux_data:{business_id:t}})}):function(){}},[n]),s},iA=n(425288),iS=n(826067),ix=n(323716),iE=(0,iA.Z)("IntentContext").Provider,iP=function(e){var t=e.children,n=(0,o.useHistory)(),r=(0,o.useLocation)(),s=(0,iS.mB)(r.search).intentType,i=(0,N.HL)(),a=i.setAddPeopleModal,c=i.setCreateAdAccountModal,l=i.setInviteRequestPartnerModal,u=function(e){switch(e){case"ADD_EMPLOYEE":a();break;case"CREATE_AD_ACCOUNT":c();break;case"INVITE_REQUEST_PARTNER":l()}},d=function(){var e=(0,iS.Gw)((0,ix.Z)(),["intentType"]);n.replace(e)};return(0,nq.Z)(function(){s&&(u(s),d())}),(0,D.jsx)(iE,{value:{setIntent:u},children:t})},iI=n(373232),ij=n(410841),iO=n(869636),iC=(0,D.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20","aria-label":"dashboard",role:"img",children:[(0,D.jsx)("path",{d:"M1.66634 0.833496C1.2061 0.833496 0.833008 1.20659 0.833008 1.66683V10.8335C0.833008 11.2937 1.2061 11.6668 1.66634 11.6668H8.33301C8.79324 11.6668 9.16634 11.2937 9.16634 10.8335V1.66683C9.16634 1.20659 8.79324 0.833496 8.33301 0.833496H1.66634Z",fill:"black"}),(0,D.jsx)("path",{d:"M11.6663 9.16683C11.2061 9.16683 10.833 9.53992 10.833 10.0002V18.3335C10.833 18.7937 11.2061 19.1668 11.6663 19.1668H18.333C18.7932 19.1668 19.1663 18.7937 19.1663 18.3335V10.0002C19.1663 9.53992 18.7932 9.16683 18.333 9.16683H11.6663Z",fill:"black"}),(0,D.jsx)("path",{d:"M0.833008 14.1668C0.833008 13.7066 1.2061 13.3335 1.66634 13.3335H8.33301C8.79324 13.3335 9.16634 13.7066 9.16634 14.1668V18.3335C9.16634 18.7937 8.79324 19.1668 8.33301 19.1668H1.66634C1.2061 19.1668 0.833008 18.7937 0.833008 18.3335V14.1668Z",fill:"black"}),(0,D.jsx)("path",{d:"M11.6663 0.833496C11.2061 0.833496 10.833 1.20659 10.833 1.66683V6.66683C10.833 7.12707 11.2061 7.50016 11.6663 7.50016H18.333C18.7932 7.50016 19.1663 7.12707 19.1663 6.66683V1.66683C19.1663 1.20659 18.7932 0.833496 18.333 0.833496H11.6663Z",fill:"black"})]}),iw=(0,D.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20","aria-label":"dashboard",role:"img",children:[(0,D.jsx)("path",{d:"M1.66634 0.833496C1.2061 0.833496 0.833008 1.20659 0.833008 1.66683V10.8335C0.833008 11.2937 1.2061 11.6668 1.66634 11.6668H8.33301C8.79324 11.6668 9.16634 11.2937 9.16634 10.8335V1.66683C9.16634 1.20659 8.79324 0.833496 8.33301 0.833496H1.66634Z",fill:"white"}),(0,D.jsx)("path",{d:"M11.6663 9.16683C11.2061 9.16683 10.833 9.53992 10.833 10.0002V18.3335C10.833 18.7937 11.2061 19.1668 11.6663 19.1668H18.333C18.7932 19.1668 19.1663 18.7937 19.1663 18.3335V10.0002C19.1663 9.53992 18.7932 9.16683 18.333 9.16683H11.6663Z",fill:"white"}),(0,D.jsx)("path",{d:"M0.833008 14.1668C0.833008 13.7066 1.2061 13.3335 1.66634 13.3335H8.33301C8.79324 13.3335 9.16634 13.7066 9.16634 14.1668V18.3335C9.16634 18.7937 8.79324 19.1668 8.33301 19.1668H1.66634C1.2061 19.1668 0.833008 18.7937 0.833008 18.3335V14.1668Z",fill:"white"}),(0,D.jsx)("path",{d:"M11.6663 0.833496C11.2061 0.833496 10.833 1.20659 10.833 1.66683V6.66683C10.833 7.12707 11.2061 7.50016 11.6663 7.50016H18.333C18.7932 7.50016 19.1663 7.12707 19.1663 6.66683V1.66683C19.1663 1.20659 18.7932 0.833496 18.333 0.833496H11.6663Z",fill:"white"})]}),iT=(0,D.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20","aria-label":"hierarchy",role:"img",children:[(0,D.jsx)("rect",{x:"5.00879",width:"10",height:"10",rx:"1",fill:"black"}),(0,D.jsx)("rect",{y:"14",width:"6",height:"6",rx:"1",fill:"black"}),(0,D.jsx)("rect",{x:"7",y:"14",width:"6",height:"6",rx:"1",fill:"black"}),(0,D.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1",fill:"black"}),(0,D.jsx)("path",{d:"M10 10V12V14",stroke:"black"}),(0,D.jsx)("path",{d:"M10 10V11.5C10 11.7761 10.2239 12 10.5 12H16.5C16.7761 12 17 12.2239 17 12.5V14.0026",stroke:"black"}),(0,D.jsx)("path",{d:"M10 10V11.5C10 11.7761 9.77614 12 9.5 12H3.5C3.22386 12 3 12.2239 3 12.5V14.0026",stroke:"black"})]}),iz=(0,D.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 20 20","aria-label":"hierarchy",role:"img",children:[(0,D.jsx)("rect",{x:"5.00879",width:"10",height:"10",rx:"1",fill:"white"}),(0,D.jsx)("rect",{y:"14",width:"6",height:"6",rx:"1",fill:"white"}),(0,D.jsx)("rect",{x:"7",y:"14",width:"6",height:"6",rx:"1",fill:"white"}),(0,D.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1",fill:"white"}),(0,D.jsx)("path",{d:"M10 10V12V14",stroke:"white"}),(0,D.jsx)("path",{d:"M10 10V11.5C10 11.7761 10.2239 12 10.5 12H16.5C16.7761 12 17 12.2239 17 12.5V14.0026",stroke:"white"}),(0,D.jsx)("path",{d:"M10 10V11.5C10 11.7761 9.77614 12 9.5 12H3.5C3.22386 12 3 12.2239 3 12.5V14.0026",stroke:"white"})]}),iR=n(70061);function iN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iD=function(e){var t,n=(0,w.ZP)(),r=(0,E.F)().checkExperiment("business_access_employees_api_v4_migration").anyEnabled,s=e.employer,i=s.user,a=i.id,c=i.full_name,l=i.image_small_url,d=s.biz_roles,_=s.business_roles,f=e.onClose,p=(0,o.useRouteMatch)().params.userBizId,h=(function(e){if(Array.isArray(e))return e}(t=r?void 0===_?[]:_:void 0===d?[]:d)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return iN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],b=(0,u.Z)().id,y=(0,o.useHistory)(),v=a===p;return(0,D.jsx)(m.iP,{onTap:function(){v||(y.push((0,g.Z)("DASHBOARD",a)),f())},rounding:4,children:(0,D.jsxs)(m.xu,{display:"flex",rounding:4,justifyContent:"between",children:[(0,D.jsxs)(m.xu,{display:"flex",padding:1,children:[(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.qE,{name:c,src:l,size:"sm"})}),(0,D.jsxs)(m.xu,{padding:1,children:[(0,D.jsx)(m.xv,{weight:"bold",children:(0,D.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-all"}},children:c})}),(0,D.jsx)(m.xv,{size:"100",color:"subtle",children:(void 0===b?"":b)===a?n._('Your business', '[m10n]BizAccess.navigation.switcher.employerCard', 'This option is the viewer\'s own business'):(0,te.B)(n)(h)})]})]}),(0,D.jsx)(m.xu,{padding:2,display:"flex",alignItems:"center",children:v&&(0,D.jsx)(m.JO,{icon:"check",color:"default",accessibilityLabel:n._('Label for an icon marking the selected business', '[m10n]BizAccess.navigation.switcher.employerCard', 'selected a business to manage')})})]})})},ik=function(e){var t=(0,w.ZP)(),n=e.managedBusiness,r=n.id,s=n.full_name,i=n.image_small_url,a=e.onClose,c=(0,o.useRouteMatch)().params.userBizId,l=(0,u.Z)().id,d=(0,o.useHistory)(),_=r===c,f=(void 0===l?"":l)===r;return(0,D.jsx)(m.iP,{onTap:function(){_||(d.push((0,g.Z)("DASHBOARD",r)),a())},rounding:4,children:(0,D.jsxs)(m.xu,{display:"flex",rounding:f?2:4,justifyContent:"between",color:f?"secondary":"transparent",children:[(0,D.jsxs)(m.xu,{display:"flex",padding:1,children:[(0,D.jsx)(m.xu,{paddingX:2,paddingY:f?0:2,children:(0,D.jsx)(m.qE,{name:s,src:i,size:"sm"})}),(0,D.jsxs)(m.xu,{padding:1,display:"flex",direction:"column",justifyContent:"center",children:[(0,D.jsx)(m.xv,{weight:"bold",children:(0,D.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-all"}},children:s})}),!f&&(0,D.jsx)(m.xv,{size:"100",color:"subtle",children:t._('Pinterest support', '[m10n]BizAccess.navigation.switcher.managedBusinessCard', 'This option is a user\'s managed business')})]})]}),(0,D.jsx)(m.xu,{padding:2,display:"flex",alignItems:"center",children:_&&(0,D.jsx)(m.JO,{icon:"check",color:"default",accessibilityLabel:t._('Label for an icon marking the selected business', '[m10n]BizAccess.navigation.switcher.managedBusinessCard.accessibility', 'selected a business to manage')})})]})})},iL=n(385032),iB=n(965108);function iU(e){return function(e){if(Array.isArray(e))return iZ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iH(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||iH(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iH(e,t){if(e){if("string"==typeof e)return iZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iZ(e,t)}}function iZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iG=function(){var e=(0,w.ZP)(),t=(0,o.useRouteMatch)().params.userBizId,n=(0,u.Z)(),r=n.id,s=void 0===r?"":r,i=(0,f.useDispatch)(),a=(0,f.useSelector)(e6.ZP),c=(0,f.useSelector)(e6.pf),l=iM((0,_.useState)(!1),2),d=l[0],p=l[1],h=iM((0,_.useState)(!1),2),b=h[0],y=h[1],g=(0,_.useRef)(null),A=(0,_.useRef)(null),S=new m.Ry(700),x=(0,j.Z)(),E=(0,iB.a)()||{},P=E.headerVisible,I=E.managedBusinesses,O=E.changeClient;(0,_.useEffect)(function(){i((0,iL.N)(x,s))},[s]),(0,_.useEffect)(function(){c&&(c.length>0&&!d?p(!0):0===c.length&&d&&p(!1))},[c,d,p]);var C=(0,_.useMemo)(function(){return n&&a?[(0,e4.Z)(n)].concat(iU(a.sort(function(e,t){return e.user.full_name<t.user.full_name?-1:e.user.full_name>t.user.full_name?1:0}))):[]},[a,n]),z=(0,_.useMemo)(function(){if(!n||!n.isAuth||null==I||!I.length)return[];var e=iU(I);return[{id:n.id,user:{id:n.id,username:n.username,full_name:n.fullName,image_small_url:n.imageSmallUrl,image_medium_url:n.imageMediumUrl,image_xlarge_url:n.imageXLargeUrl,first_name:n.firstName,email:n.email},managedAdAccounts:new Map,ownedAndManagedAdAccounts:0}].concat(iU(e.sort(function(e,t){return e.user.full_name<t.user.full_name?-1:e.user.full_name>t.user.full_name?1:0})))},[I,n]);if(!a&&!(null!=I&&I.length))return null;var R=C.map(function(e){return(0,D.jsx)(iD,{employer:e,onClose:function(){return y(!1)}},e.id)}),N=z.map(function(t,n){return 0===n?(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{padding:3,children:(0,D.jsx)(m.xv,{size:"100",children:e._('Your account', '[m10n]bizAccess.navigation.switcher.pinployee.heading', 'Heading above pinterest employee card')})}),(0,D.jsx)(ik,{managedBusiness:t.user,onClose:function(){O(),y(!1)}},t.id)]}):1===n?(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(m.xu,{padding:3,children:(0,D.jsx)(m.xv,{size:"100",children:e._('Managed accounts', '[m10n]bizAccess.navigation.switcher.managedClients.heading', 'Heading above managed clients cards')})}),(0,D.jsx)(ik,{managedBusiness:t.user,onClose:function(){O(t.user.id),y(!1)}},t.id)]}):(0,D.jsx)(ik,{managedBusiness:t.user,onClose:function(){O(t.user.id),y(!1)}},t.id)}),k=C.find(function(e){return e.user.id===t}),L=z.find(function(e){return e.user.id===t}),B=P?L:k;if(!B)return null;var U=P?z.length>1:C.length>1,M=U?241:v.cg,H=function(e,t){return e.user.full_name?e.user[t]:P&&e.user.full_name?e.user[(0,iR.Z)(t)]:""};return(0,D.jsxs)(_.Fragment,{children:[(0,D.jsxs)(m.xu,{display:"flex",justifyContent:"between",marginTop:6,paddingX:3,width:M,alignItems:"center",color:U?"secondary":void 0,rounding:U?"pill":void 0,marginStart:U?"auto":void 0,marginEnd:U?"auto":void 0,children:[(0,D.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",maxWidth:M-(U?158:200),children:[(0,D.jsx)(m.xu,{padding:2,children:(0,D.jsx)(m.qE,{name:H(B,"full_name"),src:H(B,"image_small_url"),size:"sm"})}),(0,D.jsxs)(m.xu,{padding:1,ref:g,width:U?158:200,children:[(0,D.jsx)(m.xv,{weight:"bold",children:H(B,"full_name")}),(0,D.jsx)(m.xv,{size:"100",color:U?"default":"subtle",children:(0,T.nk)(e._('Business ID: {{id}}', '[m10n]bizAccess.navigation.switcher.business.id', 'business id label'),{id:H(B,"id")})})]})]}),(0,D.jsx)(m.xu,{padding:2,children:U&&(0,D.jsx)(m.hU,{accessibilityLabel:e._('Open Employer List', '[m10n]BizAccess.navigation.switcher.employerList.button', 'This button opens a list of business to choose from'),icon:"arrow-down",size:"sm",ref:A,onClick:function(){y(!b)},iconColor:"gray"})})]}),d&&(0,D.jsx)(m.mh,{zIndex:S,children:(0,D.jsx)(m.J2,{anchor:A.current,onDismiss:function(){i(iL.i)},color:"deprecatedBlue",_deprecatedShowCaret:!0,idealDirection:"up",size:"xs",children:(0,D.jsx)(m.xu,{padding:3,children:(0,D.jsx)(m.xv,{color:"inverse",align:"center",children:(0,eE.Z)(e.ngettext('{{businessName}} now appears in your list of businesses', 'You have new businesses in your list of businesses', c.length, '[m10n]businessAccess.accountSwitcher.tooltip.newEmployers', 'Text for a tooltip that tells an employer of new employers in their account switcher'),{businessName:c[0]})})})})}),b&&(0,D.jsx)(m.mh,{children:(0,D.jsx)(m.J2,{anchor:g.current,onDismiss:function(){y(!1)},size:"sm",idealDirection:"down",positionRelativeToAnchor:!1,children:(0,D.jsx)(m.xu,{width:"100%",display:"flex",direction:"column",padding:1,rounding:4,children:N.length>0?N:R})})})]})},iF=n(167606),iq=n(112690),iY=n(333312),iV=n(904202),iQ=n(617126),iW=(0,iV.P1)(iQ.Z,function(e){var t=e.navigation;return null!=t?t:{}}),iJ=(0,iV.P1)(iW,function(e){return e.users.collapse}),iK=(0,iV.P1)(iW,function(e){return e.accounts.collapse}),iX=n(478696);function i$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i0(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i1=function(e){var t,n,r=e.icon,s=e.active,i=(e.hovered,e.rightShifted);return s?(n="inverse",t=1):(n="default",t=0),(0,D.jsxs)(m.xu,{marginStart:i?8:0,marginEnd:r?2:0,children:[r&&r.label&&(0,D.jsx)(m.JO,{accessibilityLabel:r.accessibilityLabel,icon:r.label,color:n,inline:!0}),r&&r.svg&&r.svg[t]]})},i2=function(e){var t,n,r,s=e.active,i=e.dataTestId,o=e.label,a=e.labelBadge,c=e.onClick,l=e.icon,u=e.isSubItem,d=e.experience,f=i$((0,_.useState)(!1),2),p=f[0],h=f[1];s?(t="selected",n="inverse",r="bold"):(t=p?"secondary":"transparent",n="default",r="normal");var b=t,y=n,v=r,g=(0,_.useRef)(null);return(0,D.jsx)(m.xu,{"data-test-id":i,children:(0,D.jsx)(m.iP,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},rounding:2,tapStyle:"compress",onTap:function(){c()},children:(0,D.jsxs)(m.xu,{color:b,padding:3,rounding:2,display:"flex",alignItems:"center",children:[(0,D.jsx)(i1,{icon:l,active:s,hovered:p,rightShifted:void 0===u||u}),(0,D.jsx)(m.xu,{ref:g,display:"flex",children:(0,D.jsxs)(m.xv,{color:y,weight:v,children:[o," ",a,d&&(0,D.jsx)(iY.default,{anchor:g.current,experienceIds:[d.experienceId],placementId:d.placementId,idealDirection:"right",showCaret:!0})]})})]})})})},i3=function(e){var t,n,r=e.children,s=e.id,i=e.dataTestId,o=e.icon,a=e.label,c=(0,w.ZP)(),l=i$((0,_.useState)(!1),2),u=l[0],d=l[1],p=(0,f.useSelector)(iJ),h=(0,f.useSelector)(iK);s===v.Q6.USERS?(t=p,n="TOGGLE_USERS"):(t=h,n="TOGGLE_ACCOUNTS");var b=(0,f.useDispatch)();return(0,D.jsxs)(m.xu,{"data-test-id":i,children:[(0,D.jsx)(m.iP,{accessibilityExpanded:!t,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},rounding:2,tapStyle:"compress",onTap:function(){return b({type:n})},children:(0,D.jsxs)(m.xu,{color:u?"secondary":void 0,padding:3,rounding:2,display:"flex",alignItems:"center",justifyContent:"between",children:[(0,D.jsxs)(m.kC,{direction:"row",children:[(0,D.jsx)(m.xu,{marginEnd:2,children:o&&(0,D.jsx)(m.JO,{accessibilityLabel:o.accessibilityLabel,icon:o.label,size:20,color:"default",inline:!0})}),(0,D.jsx)(m.xv,{children:a})]}),t?(0,D.jsx)(m.JO,{accessibilityLabel:c._('More sections', '[m10n]bizAccess.nav.sectionsCollapsed', '[m10n] accessibility label for icon denoting subsections collapsed for this navigation section'),icon:"arrow-down",color:"default",inline:!0}):(0,D.jsx)(m.JO,{accessibilityLabel:c._('More sections', '[m10n]bizAccess.nav.sectionsExpanded', '[m10n] accessibility label for icon denoting subsections expanded for this navigation section'),icon:"arrow-up",color:"default",inline:!0})]})}),!t&&r]})};function i6(e){var t=e.width,n=e.topItems,r=e.bottomItems,s=e.groups,i=e.onChange,o=e.selectedItem,a=(0,iq.Z)();return(0,D.jsx)(m.xu,{marginTop:3,children:(0,D.jsxs)(iX.Z,{width:t,position:"none",children:[n.map(function(e){return(0,D.jsx)(i2,{label:e.label,icon:e.icon,isSubItem:!1,onClick:function(){i({activeItem:e.key,activeSubItem:null}),e.elementType&&a({event_type:101,element:e.elementType}),e.logger&&e.logger({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-access-navigation-sidebar",element:"BUSINESS_ACCESS_LINK",elementId:e.key})},active:o===e.key,dataTestId:e.label},e.label)}),s.map(function(e){return(0,D.jsx)(i3,{id:e.key,label:e.label,icon:e.icon,dataTestId:e.key,children:e.children.map(function(e){return(0,D.jsx)(i2,{label:e.childLabel,onClick:function(){i({activeItem:e.childKey,activeSubItem:null}),e.elementType&&a({event_type:101,element:e.elementType})},labelBadge:e.labelBadge,active:o===e.childKey,dataTestId:e.childKey},e.childKey)})},e.key)}),r.map(function(e){return(0,D.jsx)(i2,{label:e.label,labelBadge:e.labelBadge,icon:e.icon,isSubItem:!1,onClick:function(){i({activeItem:e.key,activeSubItem:null}),e.elementType&&a({event_type:101,element:e.elementType})},dataTestId:e.key,active:o===e.key},e.key)})]})})}var i4=n(399673),i8=n(231705),i9=n(634613);function i5(e){return(i5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i7(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){i7(i,r,s,o,a,"next",e)}function a(e){i7(i,r,s,o,a,"throw",e)}o(void 0)})}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t,n){var r;return(r=function(e,t){if("object"!==i5(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i5(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i5(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e,t,n,r,s,i,o,a){if(s&&i||"EMPLOYEE"===t||n||a.isBusinessHierarchyAlphaEnabled&&o)return[];var c=[{key:v.Q6.USERS,label:r._('Members', '[m10n]bizAccess.nav.header.members', 'Side navigation collapsable item that includes members consisting of Employees and Partners'),icon:{label:"people",accessibilityLabel:r._('people', '[m10n]bizAccess.nav.header.usersIcon', 'Icon to represent users navigation section')},children:[{childKey:v.Q6.PEOPLE,childLabel:r._('Employees', '[m10n]bizAccess.nav.link.employees', 'Side navigation item to visit employee management section of the Business Manager')},{childKey:v.Q6.PARTNERS,childLabel:r._('Partners', '[m10n]bizAccess.nav.link.partner', 'Side navigation item to visit partner management section of the Business Manager')}]},{key:v.Q6.ASSETS,label:r._('Assets', '[m10n]bizAccess.nav.header.assets', 'Side navigation collapsable item that includes accounts consisting of Ad Accounts and Profiles'),icon:{label:"ad-group",accessibilityLabel:r._('assets', '[m10n]bizAccess.nav.header.assetsIcon', 'Icon to represent assets navigation section')},children:[{childKey:v.Q6.AD_ACCOUNTS,childLabel:r._('Ad accounts', '[m10n]bizAccess.nav.link.assets', 'Side navigation item to visit ad account management section of the Business Manager')}]}];return a.orbacBeta&&c[1].children.push({childKey:v.Q6.PROFILES,childLabel:r._('Profiles', '[m10n]bizAccess.nav.link.profiles', 'Side navigation item to visit the profiles page on business access'),experience:a.orbacGA?{experienceId:504997,placementId:1000303}:null}),a.assetGroups&&c[1].children.push({childKey:v.Q6.ASSET_GROUPS,childLabel:r._('Asset groups', '[m10n]bizAccess.nav.link.assetGroups', 'Side navigation item to visit the asset groups page on business access')}),a.audienceSharing?c[1].children.push({childKey:v.Q6.AUDIENCES,childLabel:r._('Audiences', '[m10n]bizAccess.nav.link.audiences', 'Side navigation item to visit the shared audiences page on business access')}):a.audienceSharingAlphaAwareness&&c[1].children.push({childKey:v.Q6.AUDIENCES,childLabel:r._('Audiences', '[m10n]bizAccess.nav.link.audiences', 'Side navigation item to visit the shared audiences page on business access'),labelBadge:(0,D.jsx)(m.Ct,{position:"middle",text:r._('Coming soon', '[m10n]bizAccess.nav.link.audiences.titleBadge.comingSoon', 'badge to signify that this feature coming soon')})}),a.sharedTags&&c[1].children.push({childKey:v.Q6.SHARED_TAGS,childLabel:r._('Tags', '[m10n]bizAccess.nav.link.tags', 'Side navigation item to visit the sharedTags page on business access'),labelBadge:(0,D.jsx)(m.Ct,{position:"middle",text:r._('Alpha', '[m10n]bizAccess.tags.titleBadge.alpha', 'badge to signify that this is an alpha feature')})}),c},os=function(e,t,n,r,s,i,o,a,c,l,u,d){if(n&&r)return[];if((o||a)&&i){var _=[{key:v.Q6.DASHBOARD,label:t._('Dashboard', '[m10n]bizAccess.nav.link.dashboard.redesign', 'Side navigation item to visit business user dashboard section of the Business Manager'),icon:{svg:[iC,iw],accessibilityLabel:t._('dashboard', '[m10n]bizAccess.nav.link.dashboardIcon', 'Icon within side navigation item to visit business user dashboard section of the Business Manager')},logger:d}];return s||(_.push({key:v.Q6.BUSINESS_HIERARCHY,label:t._('Business hierarchy', '[m10n]bizAccess.nav.link.businessHierarchy', 'Side navigation item to visit business hierarchy section of the Business Manager'),icon:{svg:[iT,iz],accessibilityLabel:t._('business hierarchy', '[m10n]bizAccess.nav.link.businessHierarchyIcon', 'Icon within side navigation item to visit business hierarchy section of the Business Manager')},logger:d},{key:v.Q6.MANAGERS,label:t._('Managers', '[m10n]bizAccess.nav.link.managers', 'Side navigation item to visit managers section of the Business Manager'),icon:{label:"people",accessibilityLabel:t._('managers', '[m10n]bizAccess.nav.link.managersIcon', 'Icon within side navigation item to visit managers section of the Business Manager')},logger:d}),l&&_.push({key:v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,label:t._('Business security', '[m10n]bizAccess.nav.link.security', 'Side navigation item to visit business security section of Business Hierarchy'),icon:{label:"security",accessibilityLabel:t._('business hierarchy business security', '[m10n]bizAccess.nav.link.businessHierarchy.businessSecurityIcon', 'Icon within side navigation item to visit business security section of Business Hierarchy')},logger:d})),_}return[{key:v.Q6.DASHBOARD,label:t._('Dashboard', '[m10n]bizAccess.nav.link.dashboard.redesign', 'Side navigation item to visit business user dashboard section of the Business Manager'),icon:{svg:[iC,iw],accessibilityLabel:t._('dashboard', '[m10n]bizAccess.nav.link.dashboardIcon', 'Icon within side navigation item to visit business user dashboard section of the Business Manager')}}]},oi=function(e,t,n,r,s,i,o,a){var c={key:v.Q6.INVOICE_MANAGEMENT,label:n._('Invoice management', '[m10n]bizAccess.nav.link.invoicemanagement', 'Side navigation item to visit invoice management section of the Business Manager'),icon:{label:"invoice",accessibilityLabel:n._('invoice', '[m10n]bizAccess.nav.link.invoiceManagementIcon', 'Icon within side navigation item to visit business invoice management section of the Business Manager')},labelBadge:(0,D.jsx)(m.Ct,{position:"middle",text:n._('Beta', '[m10n]bizAccess.billing.invoice_access.badge', 'Badge for invoice management indicating that this is still a beta feature')})},l={key:v.Q6.SHARED_TAGS,label:n._('Tags', '[m10n]bizAccess.nav.link.tagsAgency', 'Side navigation item to visit the sharedTags page on business access'),icon:{label:"ad-group",accessibilityLabel:n._('tags', '[m10n]bizAccess.nav.header.shareTagIcon', 'Icon to represent tags navigation section')}},u=[];return"EMPLOYEE"===e||t||o.isBusinessHierarchyAlphaEnabled&&i?("EMPLOYEE"===e&&o.invoiceManagementUi&&u.push(c),"EMPLOYEE"===e&&o.sharedAgencyTags&&a&&u.push(l)):r&&s?o.pinSupportTool&&u.push({key:v.Q6.SUPPORT_TOOL,label:n._('Managed clients', '[m10n]bizAccess.nav.link.managedClients', 'Side navigation item to visit the support managed clients page on business access'),icon:{label:"ads-overview",accessibilityLabel:n._('support', '[m10n]bizAccess.nav.link.managedClientsIcon', 'Icon within side navigation item to visit managed clients section of the business access')},labelBadge:(0,D.jsx)(m.Ct,{position:"middle",text:n._('New', '[m10n]bizAccess.managedClients.titleBadge.new', 'badge to signify that this is a new feature')})}):(o.invoiceManagementUi&&u.push(c),o.mfaEnforcement&&u.push({key:v.Q6.BUSINESS_SECURITY,label:n._('Business security', '[m10n]bizAccess.nav.link.businessSecurity', 'Side navigation item to visit the business security page on business access'),icon:{label:"security",accessibilityLabel:n._('security', '[m10n]bizAccess.nav.header.securityIcon', 'Icon to represent business security navigation section')},experience:{experienceId:505046,placementId:1000303}}),u.push({key:v.Q6.HISTORY,label:n._('History', '[m10n]bizAccess.nav.link.history', 'Side navigation item to visit history section of the Business Manager'),icon:{label:"history",accessibilityLabel:n._('history', '[m10n]bizAccess.nav.link.historyIcon', 'Icon within side navigation item to visit business history section of the Business Manager')}})),u},oo=(on(i={},v.Q6.DASHBOARD,v.Q6.DASHBOARD),on(i,v.Q6.PEOPLE,v.Q6.PEOPLE),on(i,v.Q6.PEOPLE_DETAIL,v.Q6.PEOPLE),on(i,v.Q6.PEOPLE_INVITES,v.Q6.PEOPLE),on(i,v.Q6.PARTNERS,v.Q6.PARTNERS),on(i,v.Q6.PARTNERS_DETAIL,v.Q6.PARTNERS),on(i,v.Q6.SHARED_PARTNERS_DETAIL,v.Q6.PARTNERS),on(i,v.Q6.AD_ACCOUNTS,v.Q6.AD_ACCOUNTS),on(i,v.Q6.AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS),on(i,v.Q6.AD_ACCOUNTS_PENDING_TAB,v.Q6.AD_ACCOUNTS),on(i,v.Q6.PENDING_AD_ACCOUNTS_DETAIL,v.Q6.AD_ACCOUNTS),on(i,v.Q6.HISTORY,v.Q6.HISTORY),on(i,v.Q6.CHOOSER,v.Q6.CHOOSER),on(i,v.Q6.PARTNERS_REQUEST_PAGE,v.Q6.PARTNERS),on(i,v.Q6.PARTNERS_INVITE_PAGE,v.Q6.PARTNERS),on(i,v.Q6.PROFILES,v.Q6.PROFILES),on(i,v.Q6.ASSET_GROUPS,v.Q6.ASSET_GROUPS),on(i,v.Q6.PROFILES_DETAIL,v.Q6.PROFILES),on(i,v.Q6.PARTNERS_PENDING_TAB,v.Q6.PARTNERS),on(i,v.Q6.PEOPLE_PENDING_TAB,v.Q6.PEOPLE),on(i,v.Q6.BUSINESS_SECURITY,v.Q6.BUSINESS_SECURITY),on(i,v.Q6.SUPPORT_TOOL,v.Q6.SUPPORT_TOOL),on(i,v.Q6.INVOICE_MANAGEMENT,v.Q6.INVOICE_MANAGEMENT),on(i,v.Q6.BUSINESS_HIERARCHY,v.Q6.BUSINESS_HIERARCHY),on(i,v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,v.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY),on(i,v.Q6.MANAGERS,v.Q6.MANAGERS),on(i,v.Q6.AUDIENCES,v.Q6.AUDIENCES),on(i,v.Q6.SHARED_TAGS,v.Q6.SHARED_TAGS),i),oa=function(e){var t,n=e.pageType,r=e.width,s=(0,f.useDispatch)();(0,iO.Z)(1000483);var i=(0,im._)({id:1000483}),a=!!(i&&505651===i.experience_id),c=(0,w.ZP)(),l=(0,E.F)().checkExperiment,d=(0,o.useRouteMatch)().params,h=d.businessHierarchyId,b=d.userBizId,S=(0,o.useHistory)().push,x=(0,N.KJ)(),I=function(e){if(Array.isArray(e))return e}(t=(0,_.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=I[0],O=I[1],C=(0,f.useSelector)(e6.ZP),T=(0,u.Z)(),z=(0,A.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),R=(0,ij.Z)(T),k=(0,iI.u)().is_sterling_on_steroids,L=(0,iB.a)(),B=(0,y.C)().businessHierarchies,U=(L||{}).headerVisible,M=l("ads_billing_invoice_management_ui").anyEnabled,H=(0,f.useSelector)(i9.gs),Z="ALLOWED"===H;(0,_.useEffect)(function(){var e,t=(e=oe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i4.dB)(x);case 3:t=e.sent,s((0,i8.w)(t.length>0?"ALLOWED":"NOT-ALLOWED")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s((0,i8.w)("NOT-ALLOWED"));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)});M?"PROGRESS"===H&&t():s((0,i8.w)("NOT-ALLOWED"))},[s,H,x,M]);var G={orbacBeta:l("web_m10n_business_access_orbac_www").anyEnabled,orbacGA:l("web_m10n_business_access_orbac_ga").anyEnabled,audienceSharing:l("web_m10n_audience_sharing_ga").anyEnabled,audienceSharingAlphaAwareness:l("web_m10n_audience_sharing_alpha").anyEnabled,mfaEnforcement:l("ba_mfa_enabled").anyEnabled,employeeApiMigration:l("business_access_employees_api_v4_migration").anyEnabled,pinSupportTool:l("web_m10n_pin_support_tool").anyEnabled,assetGroups:(0,rV.Z)(),invoiceManagementUi:M&&Z,isBusinessHierarchyAlphaEnabled:l("web_m10n_business_hierarchy_alpha").anyEnabled,isBusinessHierarchyBetaEnabled:l("web_m10n_business_hierarchy_beta").anyEnabled,isBusinessHierarchyGateEnabled:a,inAccountSwitcherExperiment:(0,p.Z)(),sharedTags:l("web_m10n_business_access_tag_sharing").anyEnabled,sharedAgencyTags:l("web_m10n_business_access_agency_tag_sharing").anyEnabled,mfaEnforcementBHBusinessSecurityPage:l("web_business_access_mfa_enforcement").anyEnabled},F=l("exp_ia_navigation_mega_nav_m1").anyEnabled,q=T.isAuth?T.id:"";(0,_.useEffect)(function(){if(l("web_m10n_business_access_agency_tag_sharing").anyEnabled){var e,t=l("business_access_assets_and_history_api_v4_migration").anyEnabled;x&&(e=oe(regeneratorRuntime.mark(function e(){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ti.QC)({id:x,businessId:x,personId:q,startIndex:0,page:1,searchBy:"name",searchTerm:"",sortBy:"name",sortDirection:"ASCENDING",limit:v.cU,includeAssetSummary:!0});case 2:(s=(r=e.sent).data.data&&t?Object.values(r.data.data):null!==(n=r.data.data)&&void 0!==n?n:[]).length>0&&(i=[v.gO.CAMPAIGN_MANAGER,v.gO.ADMIN],s.some(function(e){return i.some(function(n){return t?e.permissions.includes(n):e.roles.includes(n)})})&&O(!0));case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[x,q,l]);var Y=(0,te._4)(C,x,G.employeeApiMigration,B,G.isBusinessHierarchyBetaEnabled),V=(0,iF.Z)(Y,x,h).viewerNeedsToSetupMfa;if(!C||null==R||"PROGRESS"===H)return null;var Q=F?0:P.M,W=(0,D.jsxs)(m.xu,{as:"nav",height:G.isBusinessHierarchyBetaEnabled?"calc(100% - ".concat(of+Q,"px)"):void 0,overflow:G.isBusinessHierarchyBetaEnabled?"auto":void 0,children:[!G.isBusinessHierarchyAlphaEnabled&&(0,D.jsx)(iG,{}),(0,D.jsx)(i6,{width:r,groups:or(b,Y,V,c,U,T.id===b,h,G),topItems:os(Y,c,U,T.id===b,V,h,G.isBusinessHierarchyAlphaEnabled,G.isBusinessHierarchyBetaEnabled,G.isBusinessHierarchyGateEnabled,G.mfaEnforcementBHBusinessSecurityPage,k,z),bottomItems:oi(Y,V,c,U,T.id===b,h,G,j),onChange:function(e){var t=e.activeItem;e.activeSubItem,h?S((0,g.Z)(t,null,null,h)):S((0,g.Z)(t,b))},selectedItem:oo[n]})]});return G.isBusinessHierarchyBetaEnabled&&(W=(0,D.jsx)(m.xu,{position:"fixed",height:"100%",children:W})),(0,D.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #efefef"}},height:"100%",overflow:"hidden",width:"100%",children:W})};function oc(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var ol=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_ACTING_USER"}),t.prev=1,t.next=4,(0,z.b)(e);case 4:n({type:"GET_ACTING_USER_SUCCESS",payload:t.sent}),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(1),n({type:"GET_ACTING_USER_ERROR",error:t.t0}),t.t0;case 12:case"end":return t.stop()}},t,null,[[1,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){oc(i,r,s,o,a,"next",e)}function a(e){oc(i,r,s,o,a,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)}},ou=n(483388),od=n(913033),o_=n(789165),of=80,om=function(e){var t=e.children;return(0,D.jsx)(I.g,{children:(0,D.jsx)(iP,{children:t})})},op=function(e){var t=(0,S.v)().logContextEvent,n=(0,N.HL)().setRouterParams,r=e.children,s=e.pageType,i=(0,o.useLocation)(),c=(0,o.useRouteMatch)().params,l=c.userBizId,I=c.detailId,O=(0,o.useHistory)(),C=(0,a.Z)(),w=(0,u.Z)(),T=w.id,z=void 0===T?"":T,R=(0,f.useDispatch)(),k=(0,f.useSelector)(e6.ZP),L=(0,f.useSelector)(e6.$H),B=(0,A.ZP)((0,A.QK)(s)),U=(0,iB.a)()||{},M=U.headerVisible,H=U.viewerAdvertiser,Z=(0,E.F)().checkExperiment,G=Z("web_m10n_pin_support_tool").anyEnabled&&!!M&&!!H,F=Z("business_access_employees_api_v4_migration").anyEnabled,q=Z("web_m10n_business_hierarchy_alpha").anyEnabled,Y=(0,p.Z)(),V=Z("web_business_access_business_hierarchy_invite_flow").anyEnabled,Q=Z("web_m10n_business_hierarchy_beta").anyEnabled,W=Z("web_business_access_quick_edit").anyEnabled,J=Z("web_m10n_business_access_asset_groups").anyEnabled,K=Z("ads_billing_invoice_management_ui").anyEnabled,X=Z("web_m10n_business_access_tag_sharing").anyEnabled,$=Z("web_m10n_business_access_agency_tag_sharing").anyEnabled,ee=Z("exp_ia_navigation_mega_nav_m1").anyEnabled,et=(0,j.Z)(),en=(0,y.C)(),er=en.businessHierarchies,es=en.loadingAccounts,ei=en.fetchData,eo=(0,b.d9)().setSelectedAccount;(0,_.useEffect)(function(){if(s&&l&&k){var e=(0,te._4)(k,l,F,er,Q);B({eventName:"BUSINESS_ACCESS_PAGE_VIEW",business_role:e}),t({event_type:8960,component:(0,o_.Z)(s),aux_data:{business_id:l,session_id:C,business_role:e}}),(0,sY.nP)("web.business_access.page.view",{sampleRate:1,tags:{pageType:s}})}},[s,l,k,er]),(0,_.useEffect)(function(){R((0,iL.N)(et,z))},[z]),(0,_.useEffect)(function(){ei()},[ei]);var ea=s&&s.includes("DETAIL");if((0,_.useEffect)(function(){var e;l&&(R(ol(l)),(!ea||I)&&(n({businessId:l,detailId:I}),R({type:"SET_ROUTER_PARAMS",payload:{detailId:(e={businessId:l,detailId:I}).detailId,businessId:e.businessId}})))},[l,I]),(0,_.useEffect)(function(){"DASHBOARD"===s&&R(od.p)},[s]),(0,_.useEffect)(function(){V&&"DASHBOARD"===s&&R((0,ou.O)(l||""))},[s,V]),(0,_.useEffect)(function(){if(k&&(!Q||!es)){var e,t,n,r=k.filter(function(e){return F?e.business_roles.includes("BIZ_ADMIN"):e.biz_roles.includes("BIZ_ADMIN")}).sort(function(e,t){return e.user.full_name.localeCompare(t.user.full_name)}),s=er.filter(function(e){return"BUSINESS_HIERARCHY"===e.entity_type}),o=Q&&s.some(function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.some(function(e){return e.user.id===l})});(l&&l!==z&&!(k.some(function(e){return e.id===l})||o||G)||(e=O.location.pathname).endsWith("business-access/")||e.endsWith("business-access")||e.endsWith("business-manager/")||e.endsWith("business-manager"))&&(Y&&0!==s.length?(t={type:h.Oz.BUSINESS_HIERARCHY,id:s[0].id,name:s[0].name||"",img:s[0].img_medium_url||""},n=(0,g.Z)("DASHBOARD",null,null,s[0].id)):0!==r.length?(n=(0,g.Z)("DASHBOARD",r[0].id),t={type:h.Oz.BUSINESS_ACCOUNT,id:r[0].id,name:(r[0].user||{}).full_name,img:(r[0].user||{}).image_medium_url}):0!==k.length?(n=(0,g.Z)("DASHBOARD",k[0].id),t={type:h.Oz.BUSINESS_ACCOUNT,id:k[0].id,name:(k[0].user||{}).full_name,img:(k[0].user||{}).image_medium_url}):(n=(0,g.Z)("DASHBOARD",z),t={type:h.Oz.BUSINESS_ACCOUNT,id:z,name:w.fullName||"",img:w.imageMediumUrl||""}),eo(t),O.push(n)),!l||l===z||r.find(function(e){return e.id===l})||o||O.location.pathname.includes("dashboard")||G||K&&O.location.pathname.includes("invoice-management")||X&&$&&(0,x.Q8)(i)||O.push((0,g.Z)("DASHBOARD",l))}},[k,es]),L)throw L;if(!k||Q&&es)return(0,D.jsx)(m.kC,{alignContent:"center",width:"100%",height:"calc(100vh - ".concat(of,"px)"),children:(0,D.jsx)(nh.Z,{})});var ec=(q||J&&(0,x.Y8)(i))&&((0,x.Y8)(i)||(0,x.lY)(i)||(0,x.dK)(i)||(0,x.dm)(i)||(0,x.QD)(i)||(0,x.H_)(i)||(0,x.Lj)(i))||W&&((0,x.f8)(i)||(0,x.z6)(i))||X&&((0,x.Q8)(i)||$),el=ee?0:P.M,eu=(0,D.jsx)(m.xu,{"data-test-id":"".concat(s,"-page"),width:Q?void 0:"calc(100% - ".concat(v.cg,"px)"),minWidth:1e3,minHeight:Q?"calc(100vh - ".concat(of+el,"px)"):void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:ec?"var(--color-gray-roboflow-50)":"var(--color-transparent)"}},children:(0,D.jsxs)(d.ZP,{name:"businessAccessPage",pageType:s,errorType:"PARTIAL",children:[ec&&r,!ec&&(0,D.jsx)(m.xu,{padding:6,children:r})]})});return Q&&(eu=(0,D.jsx)(m.xu,{width:"100%",overflow:"auto",children:eu})),(0,D.jsx)(m.xu,{minWidth:Q?void 0:1024,children:(0,D.jsx)(d.ZP,{name:"businessAccessRoot",pageType:s,errorType:"FULL_PAGE",children:(0,D.jsxs)(om,{children:[!ee&&(0,D.jsx)(P.Z,{}),(0,D.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",minHeight:"calc(100vh - ".concat(of+el,"px)"),width:"100%",children:[(0,D.jsx)(m.xu,{minHeight:"100%",width:v.cg,minWidth:Q?v.cg:void 0,children:(0,D.jsx)(oa,{pageType:s,width:v.cg})}),eu]}),(0,D.jsx)(d.ZP,{name:"businessAccessModal",pageType:s,errorType:"MODAL",children:(0,D.jsx)(ig,{})})]})})})},oh=(0,l.Z)(1000303)(function(e){var t=e.children,n=e.pageType,r=(0,a.Z)(),s=(0,o.useRouteMatch)().params.userBizId;(0,c.Q)({view_type:465,aux_data:{session_id:r,business_id:s}},r);var i=(0,u.Z)(),l=(0,o.useHistory)();return i.isPartner?(0,D.jsx)(d.ZP,{name:"businessAccessRouteWrapper",pageType:n,errorType:"FULL_PAGE",children:(0,D.jsx)(op,{pageType:n,children:t})}):(l.replace("/"),null)})},216651:function(e,t,n){"use strict";var r=n(76911),s=n(908390),i=n(326884),o=n(852260),a=n(898781),c=n(391254),l=n(773285),u=n(299862),d=n(898708),_=n(515198);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||p(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e.includes("OWNER")||e.includes("ADMIN");if(t&&"NO_ACCESS"===e[0])return["NO_ACCESS"];if(n&&r)return t?["NO_ACCESS"].concat(m(i.Hg)):i.Hg;if(r)return t?["NO_ACCESS"].concat(m(i.j$)):i.j$;var s=e.filter(function(e){return i.j$.includes(e)||t&&"NO_ACCESS"===e});return 0===s.length?t?["NO_ACCESS","ANALYST"]:["ANALYST"]:t?["NO_ACCESS"].concat(m(s)):s},y=["ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],v=function(e){var t=e.permission,n=e.selectedPermissions;if("ADMIN"===t)return n.includes("ADMIN")?[]:["ADMIN"].concat(y);if("NO_ACCESS"===t)return n.includes("NO_ACCESS")?[]:["NO_ACCESS"];if(n.includes(t))return y.includes(t)&&n.includes("ADMIN")?y.filter(function(e){return e!==t}):n.filter(function(e){return e!==t});var r=[].concat(m(n.filter(function(e){return"NO_ACCESS"!==e})),[t]);return 0===y.filter(function(e){return!r.includes(e)}).length?["ADMIN"].concat(m(r)):r},g=function(e,t){return function(n,r){return{value:n,label:(0,d.e6)(e,t)(n),subtext:(0,d.To)(e)(n,r)}}};t.ZP=function(e){var t=e.onChange,n=e.noAccessAllowed,i=e.permissions,m=e.ownerRoles,p=e.id,h=e.assetType,y=e.isForRequestAdAccountAccess,A=e.disabled,S=void 0!==A&&A,x=e.resetAccess,E=void 0!==x&&x,P=e.errorMessage,I=(0,a.ZP)(),j=new s.Ry(1e3),O=(0,l.F)().checkExperiment,C=O("web_m10n_business_manager_ui_improvements").anyEnabled,w=O("web_m10n_business_manager_ui_improvements_asset_requests").anyEnabled,T=new s.H3([u.C,j]),z=f((0,r.useState)(!1),2),R=z[0],N=z[1],D=f((0,r.useState)(i),2),k=D[0],L=D[1],B=(0,r.useRef)(null),U="PROFILE"===h,M=b(m,void 0!==n&&n,U),H=k.includes("ADMIN")?(0,d.e6)(I,C)("ADMIN"):k.map((0,d.e6)(I,C)).join((0,o.bH)(I));return(0,r.useEffect)(function(){E&&L([])},[E]),(0,_.jsxs)(s.xu,{width:"100%",marginBottom:P?2:0,children:[(0,_.jsxs)(s.iP,{accessibilityLabel:I._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),accessibilityControls:"menu",accessibilityExpanded:R,accessibilityHaspopup:!0,onTap:function(){R||N(!R)},disabled:S,children:[(0,_.jsx)(c.Z,{unsafeCSS:'\n            div[id$="-flyout"] button { margin-left: -35px; }\n            div[id$="-flyout"] input {\n              text-overflow: ellipsis;\n              padding-right: 30px;\n            }\n          '}),(0,_.jsxs)(s.xu,{id:"".concat(p,"-flyout"),ref:B,display:"flex",justifyContent:"between",alignItems:"center",width:"100%",children:[(0,_.jsx)(s.nv,{size:"md",onChange:function(){},onBlur:function(){},onFocus:function(){},onKeyDown:function(){},id:"".concat(p,"-textfield"),placeholder:w&&void 0!==y&&y?I._('Select permission', '[m10n]bizAccess.accessControlFlyout.new.permissionsPlaceholder', 'Placeholder for selecting permissions'):I._('Select access', '[m10n]bizAccess.accessControlFlyout.permissionsPlaceholder', 'Placeholder for selecting permissions'),value:H,disabled:S,errorMessage:P}),(0,_.jsx)(s.xu,{marginBottom:P?5:0,children:(0,_.jsx)(s.hU,{size:"xs",icon:"arrow-down",iconColor:"darkGray",bgColor:"transparent",onClick:function(){return N(!R)},accessibilityLabel:I._('Change access permissions', '[m10n]bizAccess.business.accessRolesEditorFlyout', 'Click to change access permissions for an ad account'),disabled:S})})]})]}),R&&(0,_.jsx)(s.Lt,{anchor:B.current,id:p,idealDirection:"down",onDismiss:function(){t(k),N(!1)},zIndex:T,children:M.map(function(e){return(0,_.jsx)(s.Lt.Item,{onSelect:function(){L(v({permission:e,selectedPermissions:k}))},option:g(I,C)(e,U),selected:k.map(function(e){return g(I,C)(e,U)})},e)})})]})}},42572:function(e,t,n){"use strict";var r=n(908390),s=n(499128),i=n(898781),o=n(515198);t.Z=function(e){var t=e.onHide,n=e.primaryAction,a=(0,i.ZP)();return(0,o.jsx)(s.ZP,{duration:1e4,dismissButton:{onDismiss:t},onHide:t,text:(0,o.jsx)(r.xv,{children:(0,o.jsxs)(r.kC,{direction:"column",children:[(0,o.jsx)(r.xv,{children:a._('Permissions updated. Changes may take several hours to process.', '[m10n] businessAccess.permissionUpdate.successToast.part1', 'Toast confirming you have updated a user permission')}),(0,o.jsx)(r.xv,{children:a._('Members will retain their existing permissions until requested changes are processed.', '[m10n] businessAccess.permissionUpdate.successToast.part2', 'Toast explaining the permissions update will take some time to be processed')})]})}),type:"success",primaryAction:n})}},322777:function(e,t,n){"use strict";n.d(t,{DI:function(){return y},Di:function(){return p},Ym:function(){return b},h2:function(){return v},yM:function(){return h},zi:function(){return g}});var r=n(76911),s=n(908390),i=n(121151),o=n(898781),a=n(349700),c=n(677303),l=n(924593),u=n(299862),d=n(732603),_=n(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.errorCodes,n=void 0===t?[]:t,r=e.size,i=(0,o.ZP)(),c=(0,_.jsxs)(s.xu,{children:[(0,_.jsx)(s.qE,{size:"xl",name:""}),(0,_.jsx)(s.xu,{color:"secondary",width:120,height:10,marginTop:2}),(0,_.jsx)(s.xu,{color:"secondary",width:120,height:10,marginTop:2})]}),l=(0,_.jsx)(s.X6,{size:"400",accessibilityLevel:1,align:"center",children:i._('Oops! An error occurred and this page could not load.', '[m10n]bizAccess.errorHandler.errorPages.fullPageTitle', 'Title for error full page')}),u=(0,_.jsxs)(s.xv,{size:"200",weight:"bold",align:"center",children:[i._('Oops! An error occurred and this data could not load.', '[m10n]bizAccess.errorHandler.errorPages.modalTitle', 'Title for error modal')," "]}),d={FULL:i._('We recommend disabling ad-blockers or checking your internet connection. Please refresh page to continue.', '[m10n]bizAccess.errorHandler.errorPages.subTitle', 'Subtitle for full error page error if no error is supplied.'),MODAL:i._('Please try again.', '[m10n]bizAccess.errorHandler.errorPages.modalSubTitle', 'Subtitle for modal error page.'),SHEET:i._('Please close this sheet and try again.', '[m10n]bizAccess.errorHandler.errorPages.sheetSubTitle', 'Subtitle for sheet error page.'),SIDEBAR:i._('Please refresh page.', '[m10n]bizAccess.errorHandler.errorPages.sidebarSubTitle', 'Subtitle for sidebar error page.'),TABLE:i._('Please refresh this page and try again.', '[m10n]bizAccess.errorHandler.errorPages.tableSubTitle', 'Subtitle for table error page.')},f="FULL"===r?"200":"100";return(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",children:["SIDEBAR"===r&&(0,_.jsx)(s.xu,{marginBottom:6,children:c}),(0,_.jsx)(s.xu,{marginBottom:6,children:{FULL:l,MODAL:u,SHEET:u,SIDEBAR:u,TABLE:u}[r]}),(0,_.jsx)(s.xu,{marginBottom:6,maxWidth:"600px",children:(0,_.jsxs)(s.xv,{size:f,align:"center",children:[d[r]," ",n&&i._('If the problem persists, please reach out with the error code listed bellow.', '[m10n]bizAccess.errorHandler.errorPages.errorCodeSubTitle', 'Complementary subtitle for error page')]})}),n.map(function(e){return(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.xv,{size:f,align:"center",color:"subtle",children:(0,a.nk)(i._('Error code: {{ errorCode }}.', '[m10n]bizAccess.errorHandler.errorPages.errorCode', 'Error code for different page errors'),{errorCode:e})})},e)})]})},p=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:8,width:"100%",height:"100%",justifyContent:"center",children:m({errorCodes:t,size:"FULL"})})},h=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:8,width:"100%",minHeight:"calc(95vh - ".concat(l.M,"px)"),justifyContent:"center",children:m({errorCodes:t,size:"FULL"})})},b=function(e){var t,n=e.errorCodes,o=e.error,a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],p=o instanceof c.zu?o.modalTitle:null;return l?(0,_.jsx)(i.ZP,{accessibilityModalLabel:"error a11y",size:"lg",onDismiss:function(){return u(!1)},children:(0,_.jsxs)(s.xu,{padding:8,children:[(0,_.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"between",children:[p&&(0,_.jsx)(s.X6,{size:"500",accessibilityLevel:1,children:p}),(0,_.jsx)(s.hU,{accessibilityLabel:"cancel",icon:"cancel",iconColor:"gray",size:"sm",onClick:function(){return u(!1)}})]}),(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:8,width:"100%",height:"".concat(d.M,"px"),justifyContent:"center",children:m({errorCodes:n,size:"MODAL"})})]})}):null},y=function(e){var t=e.errorCodes,n=e.error,r=n instanceof c.jX?n.sheetTitle:"";return(0,_.jsx)(u.Z,{title:r,hideSheet:function(){},children:(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:8,width:"100%",height:"100%",justifyContent:"center",children:m({errorCodes:t,size:"SHEET"})})})},v=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:2,maxWidth:250,height:"100%",justifyContent:"center",children:m({errorCodes:t,size:"SIDEBAR"})})},g=function(e){var t=e.errorCodes;return(0,_.jsx)(s.xu,{alignItems:"center",display:"flex",padding:2,maxWidth:"100%",height:"400px",justifyContent:"center",children:(0,_.jsx)(s.xu,{maxWidth:"380px",children:m({errorCodes:t,size:"TABLE"})})})}},200089:function(e,t){"use strict";var n=Object.freeze({FULL_PAGE_ERROR:"UOM-3CJW-CSON",TABLE_DATA_ERROR:"AIO-AHXG-KPOV",SEARCH_DATA_ERROR:"EYT-X76C-DPAG",META_DATA_ERROR:"XGQ-HS3U-EEWR",ASSIGNMENT_MODAL_ERROR:"V2H-EJUP-NQQV",SHEET_DATA_ERROR:"FBK-B1BW-QHXA",SIDEBAR_DATA_ERROR:"DEG-LNNK-JSRR"});t.Z=n},299862:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var r=n(908390),s=n(898781),i=n(515198),o=new r.Ry(671),a=new r.H3([o]);t.Z=function(e){var t=e.title,n=e.footer,o=e.children,c=e.subTitle,l=e.hideSheet,u=e.size,d=(0,s.ZP)();return(0,i.jsx)(r.mh,{zIndex:a,children:(0,i.jsx)(r.To,{size:void 0===u?"sm":u,heading:t,footer:n,onDismiss:l,subHeading:(0,i.jsx)(r.xu,{paddingX:8,paddingY:0,marginTop:-6,children:(0,i.jsx)(r.xv,{size:"200",color:"subtle",children:c})},"sheet-base-overlay-panel-subheading"),accessibilityDismissButtonLabel:d._('Close', '[m10n]bizAccess.close.sheet', 'Closes an open sheet of information.'),accessibilityLabel:t,children:o},"sheet-base-overlay-panel")})}},82347:function(e,t,n){"use strict";n.d(t,{g:function(){return tp},o:function(){return tf}});var r=n(76911),s=n(425288),i=n(677303),o=n(577937),a=n(506979),c=n(908390),l=n(812173),u=n(326884),d=n(15099),_=n(499128),f=n(898781),m=n(66699),p=n(343341),h=n(515198),b=function(e){var t=e.closeButton,n=e.deleteButton,r=e.declineButton,s=e.acceptButton,i=e.resendButton,o=(0,f.ZP)();return(0,h.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,h.jsxs)(c.xu,{children:[r&&(0,h.jsx)(c.xu,{"data-test-id":"partner-send-invite-decline",children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:r.onDecline,disabled:r.disabled,text:r.buttonText||o._('Decline Invite', '[m10n]bizAccess.sheet.decline', 'Decline the active invite')})}),n&&(0,h.jsx)(c.xu,{"data-test-id":"partner-send-invite-delete",children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:n.onDelete,disabled:n.disabled,text:n.buttonText||o._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the active invite')})})]}),(0,h.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:t.onClose,disabled:t.disabled,text:t.buttonText||o._('Close', '[m10n]bizAccess.close.sheet', 'Closes the active invite')})}),(0,h.jsxs)(c.xu,{marginStart:2,flex:"none",children:[s&&(0,h.jsx)(c.xu,{"data-test-id":"accept-invite-button",children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:s.onAccept,disabled:s.disabled,text:s.buttonText||o._('Accept Invite', '[m10n]bizAccess.sheet.resend', 'Resend visible invite')})}),i&&(0,h.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:i.onResend,disabled:i.disabled,text:i.buttonText||o._('Resend Invite', '[m10n]bizAccess.sheet.resend', 'Resend visible invite')})]})]})]})},y=n(299862),v=n(663592),g=n(483388),A=n(273453);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t,n=e.hideSheet,s=e.invite,i=(0,a.useDispatch)(),o=(0,f.ZP)(),x=(0,p.F9)().showToast,E=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=E[0],I=E[1],j=s.sender_business_hierarchy,O=s.receiver_user_info,C=s.sender_user_info,w=s.invite_data,T=s.id,z=(0,A.KJ)(),R=(0,d.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY_INVITE"),N=(0,l.d9)().selectedAccount,D=(null==N?void 0:N.name)||"";if(!j||!O||!w||!C)return null;var k=o._('Approve or reject business hierarchy request', '[m10n]bizAccess.businessHierarchy.invite.sheet.header', 'Header for reviewing business hierarchy invite you have received');return(0,h.jsx)(y.Z,{title:k,footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(b,{closeButton:{onClose:n},declineButton:{onDecline:function(){T&&i((0,v.As)({inviteId:T,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"REJECT",onSuccess:function(){R({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:z,business_hierarchy_id:j.id||""}),t(),x(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:o._('Invitation rejected', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.success', 'Toast message for successfully rejecting an invite')})}),i((0,g.F)(z||""))},onFailure:function(e){var n=o._('There was an error in rejecting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.error', 'Error message if rejecting an invite fails');t(),x(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},buttonText:o._('Reject', '[m10n]bizAccess.businessHierarchy.invite.sheet.reject.buttonText', 'Button text for the reject invite button for a received business hierarchy invite')},acceptButton:{onAccept:function(){T&&i((0,v.As)({inviteId:T,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"ACCEPT",onSuccess:function(){t(),R({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:z,business_hierarchy_id:j.id||""}),x(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,m.Z)(o._('You are now a part of {{ hierarchyName }}\u2019s business hierarchy', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.accept.success', 'Toast message for successfully accepting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:j.name||""})})}),i((0,g.F)(z||""))},onFailure:function(e){var n=o._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.accept.error', 'Error message if accepting an invite fails');t(),x(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e.message_detail||n,type:"error"})})}}))},disabled:!P,buttonText:o._('Approve', '[m10n]bizAccess.businessHierarchy.invite.sheet.approve.buttonText', 'Button text for the approve invite button for a received business hierarchy invite')}},"sheet-base-footer")},hideSheet:n,children:(0,h.jsxs)(c.xu,{"data-test-id":"bh-child-business-invite-review-sheet",marginTop:4,children:[(0,h.jsx)(c.xv,{children:(0,m.Z)(o._('{{senderName}} ({{senderEmail}}) at {{hierarchyName}} has requested to add you to their business hierarchy', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.description', 'Description text for a received child business business hierarchy invite. hierarchyName: name of the business hierarchy senderName: name of the user that sent the invitation senderEmail: email of the user that sent the invitation'),{senderName:C.full_name||"",senderEmail:C.email||"",hierarchyName:j.name||""})}),(0,h.jsx)(c.xu,{marginBottom:4}),(0,h.jsxs)(c.aV,{label:(0,h.jsx)(c.xv,{weight:"bold",children:(0,m.Z)(o._('Approving this request will allow {{hierarchyName}} to:', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.label', 'Label for the bulleted explanation of a received child business business hierarchy invite. hierarchyName: name of the business hierarchy'),{hierarchyName:j.name||""})},"approving-this-request"),type:"unordered",children:[(0,h.jsx)(c.aV.Item,{text:(0,h.jsx)(c.xv,{children:o._('Create and manage assets you own and those that are shared with you', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.assetPermissions', 'List item text explaining which asset permissions the business hierarchy will gain upon the user accepting the invite')})},"create-and-manage-assets"),(0,h.jsx)(c.aV.Item,{text:(0,h.jsx)(c.xv,{children:o._('Add and manage your employees and partners', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.userPermissions', 'List item text explaining which user (employees, partners, etc.,) permissions the business hierarchy will gain upon the user accepting the invite')})},"add-and-manage-your-employees-and-partners"),(0,h.jsx)(c.aV.Item,{text:(0,h.jsx)(c.xv,{children:o._('Enforce security features on your business from your account', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.explanation.securityFeatures', 'List item text explaining which security features the business hierarchy will be able to control upon the user accepting the invite')})},"enforce-security-features")]}),(0,h.jsx)(c.xu,{marginBottom:6}),(0,h.jsx)(c.J0,{iconAccessibilityLabel:o._('Warning', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.warning.icon', 'A11y description of warning icon in for a warning banner in a child business business hierarchy invite'),type:"warning",message:(0,h.jsx)(c.xv,{children:(0,m.Z)(o._('Once approved, {{hierarchyName}} will have full access to your Business Manager. You may remove your business from their hierarchy by contacting support.', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.warning', 'Warning text for a child business business hierarchy invite. hierarchyName: name of the business hierarchy'),{hierarchyName:j.name||""})},"sheet-base-content-slim-banner")}),(0,h.jsx)(c.xu,{marginBottom:4}),(0,h.jsx)(c.XZ,{checked:P,id:"childBusinessBusinessHierarchyconfirmationChecked",label:(0,m.Z)(o._('I confirm that {{childBusinessName}} can be managed by {{hierarchyName}}', '[m10n]bizAccess.businessHierarchy.invite.childBusiness.confirmationChecked.label', 'Label for the confirmationChecked checkbox for a child business business hierarchy invite. hierarchyName: name of the business hierarchy childBusinessName: name of the child business'),{hierarchyName:j.name||"",childBusinessName:D||O.full_name||""}),onChange:function(e){return I(e.checked)}})]},"sheet-base-content")})},E=n(453933),P=n(356997),I=n(298361),j=n(349700),O=function(e){var t=e.hideSheet,n=e.invite,r=(0,a.useDispatch)(),s=(0,f.ZP)(),i=(0,p.F9)().showToast,o=(0,I.Z)(),S=n.sender_business_hierarchy,x=n.invite_data,O=n.receiver_user_info,C=n.id,w=(0,A.KJ)(),T=(0,d.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY_INVITE"),z=(0,E.C)().fetchData,R=(0,l.d9)().selectedAccount,N=(null==R?void 0:R.name)||"";return(0,h.jsx)(y.Z,{title:s._('Organization manager invite', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header', 'Header for reviewing organization manager invite you have received'),subTitle:null!=x&&x.last_updated_time?o(new Date(x.last_updated_time).toString()):"",footer:function(e){var n=e.onDismissStart;return(0,h.jsx)(b,{closeButton:{onClose:t},declineButton:{onDecline:function(){C&&r((0,v.As)({inviteId:C,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"REJECT",onSuccess:function(){n(),i(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,m.Z)(s._('You have rejected {{ hierarchyName }}\u2019s invite', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.sheet.reject.success', 'Toast message for successfully rejecting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:(null==S?void 0:S.name)||""})})}),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:w,business_hierarchy_id:(null==S?void 0:S.id)||""}),r((0,g.F)(w||""))},onFailure:function(e){var t=s._('There was an error in rejecting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.reject.error', 'Error message if rejecting an invite fails');n(),i(function(n){var r=n.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e.message_detail||t,type:"error"})})}}))},buttonText:s._('Reject', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.reject.buttonText', 'Button text for the reject invite button for a received business hierarchy invite')},acceptButton:{onAccept:function(){C&&r((0,v.As)({inviteId:C,inviteType:"BUSINESS_HIERARCHY_MEMBER",action:"ACCEPT",onSuccess:function(){n(),i(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,m.Z)(s._('Success! You are now a Manager of {{ hierarchyName }}\u2019s business hierarchy', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.accept.success', 'Toast message for successfully accepting an invite, hierarchyName: name of the business hierarchy.'),{hierarchyName:(null==S?void 0:S.name)||""})})}),T({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-hierarchy-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:w,business_hierarchy_id:(null==S?void 0:S.id)||""}),r((0,g.F)(w||"")),z(!0)},onFailure:function(e){var t=s._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.accept.error', 'Error message if accepting an invite fails');n(),i(function(n){var r=n.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e.message_detail||t,type:"error"})})}}))},buttonText:s._('Approve', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.approve.buttonText', 'Button text for the approve invite button for a received business hierarchy invite')}})},hideSheet:t,children:(0,h.jsxs)(c.xu,{"data-test-id":"bh-om-invite-review-sheet",children:[(0,h.jsx)(c.xu,{display:"flex",justifyContent:"between",alignItems:"start",marginBottom:6,children:(0,h.jsxs)(c.kC,{gap:2,alignItems:"center",children:[(0,h.jsx)(P.qE,{name:(null==S?void 0:S.name)||"",src:(null==S?void 0:S.img_medium_url)||"",size:"md"}),(0,h.jsxs)(c.kC,{gap:1,direction:"column",children:[(0,h.jsx)(c.xv,{color:"default",weight:"bold",size:"400",children:null==S?void 0:S.name}),(0,h.jsx)(c.xv,{color:"subtle",size:"200",children:s._('Parent business', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.parentBusiness.text', 'Text to display the parent business subtitle')})]})]})}),(0,h.jsx)(c.xu,{marginBottom:4,width:"100%",children:(0,h.jsx)(c.xv,{size:"300",align:"start",inline:!0,children:(0,j.nk)(s._('{{ businessHierarchyName }} has invited {{ receiverEmail }} to be an Organization manager of their business hierarchy.', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header.text', 'Text for header organization manager invite. businessHierarchyName: business hierarchy name that is inviting, receiverEmail: invite receiver email.'),{businessHierarchyName:(null==S?void 0:S.name)||"",receiverEmail:(0,h.jsx)(c.xv,{size:"300",align:"start",inline:!0,weight:"bold",children:(0,j.nk)(s._('{{ receiverEmail }}', '[m10n]bizAccess.businessHierarchy.orgManager.invite.sheet.header.text.receiver.email', 'Receiver email for header organization manager invite. receiverEmail: invite receiver email.'),{receiverEmail:N||(null==O?void 0:O.email)||""})},"receiverEmail")})})}),(0,h.jsx)(c.xu,{marginTop:2,marginBottom:2,width:"100%",children:(0,h.jsx)(c.xv,{size:"300",align:"start",weight:"bold",children:(0,j.nk)(s._('As an organization manager of {{ businessHierarchyName }}\u2019s business hierarchy, you will be able to do the following for their associated businesses:', '[m10n]bizAccess.businessHierarchy.orgManager.invite.accept.description', 'Text that describes the accept invite action for an organization manager request page. businessHierarchyName: business hierarchy name that is inviting.'),{businessHierarchyName:(null==S?void 0:S.name)||""})})}),(0,h.jsx)(c.xu,{marginBottom:4,width:"100%",children:(0,h.jsxs)(c.aV,{type:"unordered",spacing:"condensed",children:[(0,h.jsx)(c.aV.Item,{text:s._('Add and delete employees and partners', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.addDeleteEmployeesAndPartners', 'list item explaining the organization manager will add and delete employees and partners')},"add-delete-employees-and-partners"),(0,h.jsx)(c.aV.Item,{text:s._('Create ad accounts', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.createAdAccounts', 'list item explaining the organization manager will create ad accounts')},"create-ad-accounts"),(0,h.jsx)(c.aV.Item,{text:s._('Assign and revoke permissions for employees and partners', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.managePermissionsForEmployeesAndPartners', 'list item explaining the organization manager will manage permissions for employees and partners')},"manage-permissions-for-employees-and-partners"),(0,h.jsx)(c.aV.Item,{text:s._('Enforce two-factor authentication', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.enforce2FactorAuth', 'list item explaining the organization manager will enforce 2-factor authentication')},"enforce-2-factor-auth"),(0,h.jsx)(c.aV.Item,{text:s._('Have full access to all assets including child businesses', '[m10]bizAccess.businessHierarchy.orgManager.invite.accept.description.list.haveFullAccessToAllAssets', 'list item explaining the organization manager will have full access to all assets')},"have-full-access-to-all-assets")]})})]},"sheet-base-content")})},C=n(879990);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t,n=e.id,r=(function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("businessHierarchyInvite",n,!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].data[n];return r.invite_data.invite_type===o.Fe.BUSINESS_HIERARCHY_MEMBER?(0,h.jsx)(O,{hideSheet:e.hideSheet,invite:r}):(0,h.jsx)(x,{hideSheet:e.hideSheet,invite:r})},z=n(407043),R=n(966113),N=function(){var e=(0,f.ZP)();return(0,h.jsx)(c.kC,{gap:{row:0,column:8},direction:"column",children:[{title:e._('What is Business Access?', '[m10n]bizAccess.guide.gettingStarted.section1.title', 'What is Business Access, title'),description:e._('Securely manage the people and partners who work on your Pinterest account\u2014all from a single place.', '[m10n]bizAccess.guide.gettingStarted.section1.description', 'Description of Business Access'),subSections:[{title:e._('Efficiency', '[m10n]bizAccess.guide.gettingStarted.section2.savetime', 'First benefit, save time'),description:e._('Access multiple ad accounts from a single login', '[m10n]bizAccess.guide.gettingStarted.section2.savetime.description', 'First benefit, save time, description')},{title:e._('Security', '[m10n]bizAccess.guide.gettingStarted.section2.improveSecurity', 'Second benefit, Improve security'),description:e._('Easily view and edit who is a part of your business and what permissions they have', '[m10n]bizAccess.guide.gettingStarted.section2.improveSecurity.description', 'Second benefit, Improve security, description')},{title:e._('Collaboration', '[m10n]bizAccess.guide.gettingStarted.section2.increaseCollaboration', 'Third benefit, Increase collaboration'),description:e._('Invite employees and partners to access an ad account, or send a quick request to get access to an ad account', '[m10n]bizAccess.guide.gettingStarted.section2.increaseCollaboration.description', 'Third benefit, Increase collaboration, description')}]},{title:e._('Getting started', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Access?'),description:e._('Navigate to Business Access to begin managing roles and permissions for your employees and partners. ', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Access?'),subSections:[{title:e._('Employees', '[m10n]bizAccess.guide.gettingStarted.section3.agencies', 'First user, Agencies'),description:e._('Add employees to your business and grant them permissions to work on specific ad accounts. You should only add individual people who work for your business, not external partners to the Employee section of Business Access. ', '[m10n]bizAccess.guide.gettingStarted.section3.agencies.description', 'First user, Agencies, description')},{title:e._('Partners', '[m10n]bizAccess.guide.gettingStarted.section3.brands', 'Second user, Brands'),description:e._('Partners are external businesses, such as agencies or clients, with whom you work. You can create a relationship between your and your partner\u2019s business accounts by adding them as a partner.', '[m10n]bizAccess.guide.gettingStarted.section3.brands.description', 'Second user, Brands, description')}]},{title:e._('Assigning permission ', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Access?'),description:e._('Assigning ad account permissions.', '[m10n]bizAccess.guide.gettingStarted.section3.title', 'Title for section Who can use Business Access?'),subSections:[{title:"",description:e._('After you\u2019ve added employees or external partners to your Business Access, you can assign them permission to access your ad accounts.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')},{title:"",description:e._('Permissions (Admin, Analyst, Audience, Finance, Campaign, Catalog) determine the ability to manage that specific ad account.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')},{title:"",description:e._('Each employee or external partner can have more than one permission level assigned to them for a single ad account (except for Admin). For example, if an employee manages billing and also views reporting, but shouldn\u2019t create ads, you can grant them Finance and Analyst access.', '[m10n]bizAccess.guide.gettingStarted.section3.anyCompany.description', 'Third user, Any company, description')}]}].map(function(e,t){return(0,h.jsxs)(c.kC,{gap:{row:0,column:6},direction:"column",children:[(0,h.jsx)(c.X6,{size:"400",children:e.title}),e.description?(0,h.jsx)(c.xv,{children:e.description}):null,e.subSections?e.subSections.map(function(e,n){var r=e.title,s=e.description;return(0,h.jsxs)(c.xu,{children:[(0,h.jsx)(c.xv,{weight:"bold",children:r}),(0,h.jsx)(c.xv,{children:s})]},"getting-started-".concat(t,"-").concat(n))}):null]},"getting-started-".concat(e.title,"-").concat(t))})})},D=function(e){var t=e.navigateToPage,n=e.hideSheet,s=(0,f.ZP)(),i=(0,A.HL)().setOnboardingModal,o=s._('link', '[m10n]bizAccess.guide.sheet.helper.accessibility.link', 'Link');return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(c.kC,{gap:{row:0,column:2},direction:"column",children:[(0,h.jsx)(c.iP,{onTap:function(){t("GETTING_STARTED")},children:(0,h.jsxs)(c.xu,{alignItems:"center",borderStyle:"shadow",direction:"row",display:"flex",padding:6,rounding:2,children:[(0,h.jsx)(c.xu,{marginEnd:1,padding:2,rounding:"circle",color:"education",children:(0,h.jsx)(c.JO,{icon:"star",accessibilityLabel:"Star",color:"inverse"})}),(0,h.jsx)(c.xu,{paddingX:2,children:(0,h.jsxs)(c.kC,{gap:{row:0,column:1},direction:"column",children:[(0,h.jsx)(c.xv,{weight:"bold",size:"300",children:s._('Getting started', '[m10n]bizAccess.guide.sheet.gettingStarted.headline', 'Headline for the getting started box')}),(0,h.jsx)(c.xv,{size:"200",children:s._('What is Business Access?', '[m10n]bizAccess.guide.sheet.gettingStarted.subheader', 'Subheader for the getting started box')})]})})]})}),(0,h.jsx)(c.iP,{onTap:function(){i({onComplete:function(){},onDismiss:function(){}}),n()},children:(0,h.jsxs)(c.xu,{alignItems:"center",borderStyle:"shadow",direction:"row",display:"flex",padding:6,rounding:2,children:[(0,h.jsx)(c.xu,{marginEnd:1,padding:2,rounding:"circle",color:"selected",children:(0,h.jsx)(c.JO,{icon:"play",accessibilityLabel:"Play",color:"inverse"})}),(0,h.jsx)(c.xu,{paddingX:2,children:(0,h.jsxs)(c.kC,{gap:{row:0,column:1},direction:"column",children:[(0,h.jsx)(c.xv,{weight:"bold",size:"300",children:s._('Take the tour', '[m10n]bizAccess.guide.sheet.tour.headline', 'Headline for the take a tour on business access')}),(0,h.jsx)(c.xv,{size:"200",children:s._('Explore key features', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')})]})})]})})]}),(0,h.jsxs)(c.kC,{gap:{row:0,column:2},direction:"column",children:[(0,h.jsx)(c.xu,{marginTop:6,children:(0,h.jsx)(c.X6,{size:"400",children:s._('Common help center topics', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')})}),(0,h.jsxs)(c.xu,{marginTop:4,children:[(0,h.jsx)(c.xv,{size:"200",color:"subtle",children:s._('Team', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')}),[{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17351",label:s._('Add employees', '[m10n]bizAccess.guide.sheet.helper.team.links.addEmployee', 'Link to help site, explaining Add employees'),accessibilityLabel:"".concat(s._('Add employees', '[m10n]bizAccess.guide.sheet.helper.team.links.addEmployee', 'Link to help site, explaining Add employees'),", ").concat(o," ")},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17366",label:s._('Assign ad account permissions to employees', '[m10n]bizAccess.guide.sheet.helper.team.links.permissions', 'Link to help site, explaining How to assign permissions employees'),accessibilityLabel:"".concat(s._('Assign ad account permissions to employees', '[m10n]bizAccess.guide.sheet.helper.team.links.permissions', 'Link to help site, explaining How to assign permissions employees'),", ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17381",label:s._('View and edit employees\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.team.links.editPermissions', 'Link to help site, explaning how to view and edit ad accounts'),accessibilityLabel:"".concat(s._('View and edit employees\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.team.links.editPermissions', 'Link to help site, explaning how to view and edit ad accounts'),", ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17396",label:s._('Manage employees\' roles', '[m10n]bizAccess.guide.sheet.helper.team.links.manageRoles', 'Link to help site, explaning how to manage employees roles'),accessibilityLabel:"".concat(s._('Manage employees\' roles', '[m10n]bizAccess.guide.sheet.helper.team.links.manageRoles', 'Link to help site, explaning how to manage employees roles'),", ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17411",label:s._('Remove employees', '[m10n]bizAccess.guide.sheet.helper.team.links.removeEmployees', 'Link to help site, explaning how to remove and employee'),accessibilityLabel:"".concat(s._('Remove employees', '[m10n]bizAccess.guide.sheet.helper.team.links.removeEmployees', 'Link to help site, explaning how to remove and employee'),",  ").concat(o)}].map(function(e,t){var n=e.link,s=e.label,i=e.accessibilityLabel;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(c.Tg,{accessibilityLabel:i,href:n,target:"blank",children:(0,h.jsxs)(c.xu,{direction:"row",display:"flex",alignItems:"center",justifyContent:"between",paddingY:3,children:[(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:s}),(0,h.jsx)(c.xu,{marginEnd:1,padding:2,children:(0,h.jsx)(c.JO,{icon:"arrow-up-right",accessibilityLabel:"Play",color:"default"})})]})}),(0,h.jsx)(c.iz,{})]},"helper-team-".concat(s,"-").concat(t))})]}),(0,h.jsxs)(c.xu,{marginTop:4,children:[(0,h.jsx)(c.xv,{size:"200",color:"subtle",children:s._('Partner', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Subheader for the take a tour on business access')}),[{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17431",label:s._('Add partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.addPartner', 'Link to help site, explaning how to Add partners'),accessibilityLabel:"".concat(s._('Add partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.addPartner', 'Link to help site, explaning how to Add partners'),",  ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17446",label:s._('Request to be a partner', '[m10n]bizAccess.guide.sheet.helper.partners.links.requestPartnership', 'Link to help site, explaning how to Request to be a partner'),accessibilityLabel:"".concat(s._('Request to be a partner', '[m10n]bizAccess.guide.sheet.helper.partners.links.requestPartnership', 'Link to help site, explaning how to Request to be a partner'),",  ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17461",label:s._('Assign ad account permissions to partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.permissions', 'Link to help site, explaning how to assing ad account permissions'),accessibilityLabel:"".concat(s._('Assign ad account permissions to partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.permissions', 'Link to help site, explaning how to assing ad account permissions'),",  ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17476",label:s._('Request access to ad accounts', '[m10n]bizAccess.guide.sheet.helper.partners.links.access', 'Link to help site, explaning how to request access to ad accounts'),accessibilityLabel:"".concat(s._('Request access to ad accounts', '[m10n]bizAccess.guide.sheet.helper.partners.links.access', 'Link to help site, explaning how to request access to ad accounts'),",  ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17491",label:s._('View and edit partners\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.partners.links.editPermissions', 'Link to help site, explaning how to view and edit ad account permissions'),accessibilityLabel:"".concat(s._('View and edit partners\' ad account permissions', '[m10n]bizAccess.guide.sheet.helper.partners.links.editPermissions', 'Link to help site, explaning how to view and edit ad account permissions'),",  ").concat(o)},{link:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17506",label:s._('Remove partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.removePartner', 'Link to help site, explaning how to remove partners'),accessibilityLabel:"".concat(s._('Remove partners', '[m10n]bizAccess.guide.sheet.helper.partners.links.removePartner', 'Link to help site, explaning how to remove partners'),",  ").concat(o)}].map(function(e,t){var n=e.link,s=e.label,i=e.accessibilityLabel;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(c.Tg,{accessibilityLabel:i,href:n,target:"blank",children:(0,h.jsxs)(c.xu,{direction:"row",display:"flex",alignItems:"center",justifyContent:"between",paddingY:3,children:[(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:s}),(0,h.jsx)(c.xu,{marginEnd:1,padding:2,children:(0,h.jsx)(c.JO,{icon:"arrow-up-right",accessibilityLabel:"Play",color:"default"})})]})}),(0,h.jsx)(c.iz,{})]},"helper-partner-".concat(s,"-index-").concat(t))})]})]})]})};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(e,t){return U(U({},e),{},{activePage:t,prevPage:t!==e.initialPage?e.activePage:null})},H=function(e){var t,n=e.hideSheet,s=e.page,i=void 0===s?"HOME":s,o=(0,z.v)().logContextEvent,a=(0,f.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(M,{initialPage:i,activePage:i,prevPage:null}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=u.activePage,_=u.prevPage,m=l[1],p=function(e){o({event_type:101,component:8,element:e}),n()};return(0,h.jsxs)(y.Z,{title:a._('Business Access Guide', '[m10n]bizAccess.guide.sheet.title', 'Business Access Guide sheet title'),footer:(0,h.jsxs)(c.kC,{direction:"row",justifyContent:"between",children:[null!=_?(0,h.jsx)(c.zx,{text:a._('Back', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Visit the Help Center button/link'),color:"transparent",onClick:function(){m(_)}}):(0,h.jsx)(c.xu,{}),(0,h.jsx)(c.ZP,{text:a._('Visit the Help Center', '[m10n]bizAccess.guide.sheet.tour.subheader', 'Visit the Help Center button/link'),onClick:function(){return p(8002)},href:"".concat(R.SrI),target:"blank"})]}),hideSheet:n,children:["HOME"===d&&(0,h.jsx)(D,{navigateToPage:function(e){m(e)},hideSheet:n}),"GETTING_STARTED"===d&&(0,h.jsx)(N,{})]})},Z=n(773285),G=n(19121),F=n(912997),q=n(631375),Y=n(688069);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=function(e){var t=e.data,n=e.weight,r=e.size,s=(0,f.ZP)(),i="PROFILE"===t.type,o=i?(0,j.nk)(s._('{{ name }}\'s profile permissions', '[m10n]bizAccess.invite.profile.name', 'Invite profile asset name, name:name of business whose profile is being shared'),{name:t.owner.full_name}).join(""):t.name,a=i||!t.asset_id?void 0:(0,j.nk)(s._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:t.asset_id}).join("");return(0,h.jsx)(Y.Z,{text:o,subtext:a,weight:n,size:r})},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:F.I.weights.bold,clickable:!0,size:"md",isAOAAAdAccount:!1},n=t.weight,r=t.clickable,s=t.size;return{field:"name",sortable:!1,headerName:t.isAOAAAdAccount?e._('Ad account name', '[m10n]bizAccess.business.sheet.adAccountName', 'Name of ad account requested for creation'):e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,h.jsx)(J,W(W({},e),{},{clickable:r,size:s}))},minWidth:F.I.columnWidths.lg,isActivelySorted:!0,weight:n,getMinHeight:function(e){return"PROFILE"!==e.type&&e.asset_id?54:void 0}}};function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==X(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et=function(e){var t,n=e.rowData,r=e.customEmptyState,s=(0,(0,Z.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,i=(0,f.ZP)(),o=(0,A.KJ)(),a=(null===(t=n[0])||void 0===t?void 0:t.owner.id)===o;return(0,h.jsxs)(c.xu,{marginTop:8,children:[(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:i._('Invited permissions', '[m10n]bizAccess.invite.sheet.accesToAdAccountHeader', 'Header for the section of the sheet with assets and access granted')})}),(0,h.jsx)(F.Z,{id:"INVITE_AD_ACCOUNTS_SHEET",isLoading:!1,rowData:n,columnDefs:[K(i,{clickable:a}),(0,q.Z)(i,{field:s?"permissions":"roles"})],onRowCountChange:function(){},config:ee(ee({},F.I),{},{borderStyle:"none"}),customEmptyState:r,pageType:u.Q6.AD_ACCOUNTS})]})},en=function(e){var t=e.title,n=e.subTitle,r=e.imageUrl;return(0,h.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(c.qE,{name:t,size:"md",src:void 0===r?"https://s.pinimg.com/images/user/default_60.png":r}),(0,h.jsxs)(c.xu,{display:"flex",marginStart:2,justifyContent:"center",direction:"column",children:[(0,h.jsx)(c.X6,{size:"400",accessibilityLevel:1,children:t}),n&&(0,h.jsx)(c.xv,{color:"subtle",size:"200",children:n})]})]})},er=n(491242),es=n(6189),ei=n(576452);function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ea(e){var t;return((function(e){if(Array.isArray(e))return eo(e)})(t=e||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return+("PROFILE"===t.type)-+("PROFILE"===e.type)})}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el=function(e){var t,n,s,o,l,v,g,S=e.hideSheet,x=e.id,E=(0,p.F9)().showToast,P=(0,f.ZP)(),O=(0,Z.F)().checkExperiment,w=O("web_m10n_business_access_error_handling").anyEnabled,T=O("web_m10n_business_access_employee_redesign").anyEnabled,z=O("business_access_invites_api_v4_migration").anyEnabled,R=(0,I.Z)(),N=(0,a.useDispatch)(),D=function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("memberInvite",x,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,4)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=D[0],L=D[1],B=D[2],U=D[3],M=(null==k?void 0:null===(n=k.user)||void 0===n?void 0:n.username)||(null==k?void 0:null===(s=k.user)||void 0===s?void 0:s.email)||"",H=(0,a.useSelector)(ei.ZP),F=(0,A.KJ)(),q=(0,G.Z)(),Y=H.find(function(e){return e.id===F}),V=q.isAuth?q.fullName:"",Q=(null==Y?void 0:null===(o=Y.user)||void 0===o?void 0:o.full_name)||V,W=(null==k?void 0:null===(l=k.invite_data)||void 0===l?void 0:l.invite_status)==="EXPIRED",J=(0,d.ZP)("BUSINESS_ACCESS_EMPLOYEES_PENDING"),K=P._('Review your invite', '[m10n]bizA;ccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(w&&L)throw new i.jX(L,K);if(B||L)return null;var X=ea(null==k?void 0:k.assets),$=z?null==k?void 0:k.business_roles[0]:null==k?void 0:k.biz_roles[0];return(0,h.jsxs)(y.Z,{title:K,subTitle:(null==k?void 0:null===(v=k.invite_data)||void 0===v?void 0:v.sent_at)&&R(new Date(k.invite_data.sent_at).toString()),footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(b,{closeButton:{onClose:S},deleteButton:{onDelete:function(){N((0,es.UF)({businessId:F,type:"MEMBER",inviteId:x,onSuccess:function(){t(),T&&N((0,er.de)({id:x})),J({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"employee-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),E(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(P._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:M}).join("")})})},onError:function(e){var n=P._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails');t(),E(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){N((0,es.c_)({businessId:F,inviteId:x,type:"MEMBER",onSuccess:function(){T&&(U(),N((0,er.hE)({id:x}))),t(),J({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"employee-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),E(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(P._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:M}).join("")})})},onError:function(e){var n=P._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),E(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))}}})},hideSheet:S,children:[(0,h.jsx)(en,{imageUrl:null==k?void 0:null===(g=k.extended_user_info)||void 0===g?void 0:g.image_small_url,title:M}),(0,h.jsx)(c.xu,{marginTop:8,children:W?(0,h.jsx)(c.J0,{iconAccessibilityLabel:"Info",type:"warning",message:(0,h.jsxs)(c.xv,{children:["BIZ_ADMIN"===$&&(0,m.Z)(P._('Your invite to {{name}} to join {{businessName}} as a \'Manager\' has expired. Once they accept your invite, they will be able to work on the assets listed below.', '[m10n]bizAccess.employeeSendRequestSheet.managerExpiredText', 'Warning text for a sent expired manager request. businessName: Business that sent the employee invite name: Name of the employee'),{name:M,businessName:Q}),"EMPLOYEE"===$&&(0,m.Z)(P._('Your invite to {{name}} to join {{businessName}} as an employee has expired. Once they accept your invite, they will be able to work on the assets listed below.', '[m10n]bizAccess.employeeSendRequestSheet.employeeExpiredText', 'Warning text for a sent expired employee request. businessName: Business that sent the employee invite name: Name of the employee'),{name:M,businessName:Q})]},"invite-review-sheet-banner-msg")}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(c.xu,{children:(0,h.jsxs)(c.xv,{children:["BIZ_ADMIN"===$&&(0,m.Z)(P._('You\'ve invited {{name}} as an employee of {{businessName}} and assigned them the \'Manager\' role.', '[m10n]bizAccess.employeeeSendRequestSheet.managerInfoText', 'Description text on the manager relationship'),{name:M,businessName:Q}),"EMPLOYEE"===$&&(0,m.Z)(P._('You\'ve invited {{name}} as an employee of {{businessName}}.', '[m10n]bizAccess.employeeeSendRequestSheet.employeeInfoText', 'Description text on the employee relationship'),{name:M,businessName:Q})]})}),(0,h.jsx)(c.xu,{marginTop:4,children:(0,h.jsxs)(c.xv,{children:["BIZ_ADMIN"===$&&P._('Managers have the ability to add and remove employees and partners from your business, and also create ad accounts.', '[m10n]bizAccess.employeeeSendRequestSheet.managerAdditionalInfoText', 'Additional description text on the manager relationship'),"EMPLOYEE"===$&&P._('Employees can only work on assigned ad accounts.', '[m10n]bizAccess.employeeeSendRequestSheet.employeeAdditionalInfoText', 'Additional description text on the employee relationship')]})})]})}),(0,h.jsx)(et,{rowData:null!=X?X:[]})]})},eu=n(154928),ed=n(892819),e_=n(780280),ef=n(137043),em=n(392437),ep=n(244965),eh=n(67347),eb=function(e){var t,n,s=e.hideSheet,i=e.invoiceDetail,o=(0,f.ZP)(),a=(0,e_.B)().locale,l=(0,ed.Z)(),u=(0,r.useCallback)(function(e){var t=e.onDismissStart,n=e.advertiserId,r=e.invoiceId;return(0,h.jsxs)(c.kC,{justifyContent:"end",gap:2,children:[(0,h.jsx)(c.zx,{text:o._('Close', '[m10n]bizAccess.invoiceDetailSheet.closeButton', 'Close the invoice detail'),onClick:t}),(0,h.jsx)("a",{href:(0,ef.M)(n,r),download:!0,onClick:function(){return(0,eh.nP)("bizAccess.invoiceDetail.downloadInvoicePdf",{sampleRate:1,tags:{pageLocation:"invoice_summary_table"}})},children:(0,h.jsx)(c.zx,{color:"red",text:o._('Download PDF', '[m10n]bizAccess.invoiceDetailSheet.downloadPdfButton', 'Download the invoice detail in PDF')})})]})},[o]),d=(0,j.nk)(o._('Invoice {{documentNumber}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, documentNumber:the invoice number that will be displayed'),{documentNumber:i.invoice_id}).join(""),_=function(e){var t=e.title;return(0,h.jsx)(c.xu,{marginBottom:4,children:(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:t})})},m={border:"1px solid #efefef"};return(0,h.jsxs)(y.Z,{title:d,hideSheet:s,size:"md",footer:function(e){return u({onDismissStart:e.onDismissStart,advertiserId:i.advertiser.advertiser_id,invoiceId:i.id})},children:[(0,h.jsxs)(c.xu,{borderStyle:"shadow",color:"elevationFloating",rounding:4,children:[(0,h.jsx)(function(e){var t=e.data,n=e.i18n;return(0,h.jsxs)(c.xu,{padding:4,children:[(0,h.jsx)(_,{title:n._('Business details', '[m10n]businessAccess.invoiceDetailSheet.businessDetails', 'The business details to an invoice')}),(0,h.jsxs)(c.kC,{direction:"row",alignContent:"center",alignItems:"center",justifyContent:"between",children:[(0,h.jsxs)(c.xu,{marginStart:4,children:[(0,h.jsxs)(c.xu,{marginBottom:4,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"400",children:t.parent_business.business_name}),(0,h.jsx)(c.xv,{size:"200",children:(0,j.nk)(n._('Business ID: {{businessId}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, businessId:the business id that will be displayed'),{businessId:t.parent_business.business_id}).join("")})]}),(0,h.jsxs)(c.xu,{children:[(0,h.jsx)(c.xv,{weight:"bold",size:"300",children:t.advertiser.advertiser_name}),(0,h.jsx)(c.xv,{size:"200",children:(0,j.nk)(n._('Ad account ID: {{accountId}}', '[m10n]bizAccess.invoiceDetailSheet.title', 'The title to be displayed to an invoice detail, accountId:the account id that will be displayed'),{accountId:t.advertiser.advertiser_id}).join("")})]})]}),(0,h.jsxs)(c.xu,{marginEnd:4,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"300",children:n._('Billed to', '[m10n]businessAccess.invoiceDetailSheet.billedTo', 'The invoice date to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.address.bill_to_address_1}),(0,h.jsx)(c.xv,{size:"200",children:"".concat(t.address.bill_to_address_2,", ").concat(t.address.bill_to_address_3)}),(0,h.jsx)(c.xv,{size:"200",children:"".concat(t.address.bill_to_city,", ").concat(t.address.bill_to_state," ").concat(t.address.bill_to_postal_code)}),(0,h.jsx)(c.xv,{size:"200",children:t.address.bill_to_country})]})]})]})},{data:i,i18n:o}),(0,h.jsx)("hr",{style:m}),(0,h.jsx)(function(e){var t=e.data,n=e.i18n,r=e.locale;return(0,h.jsxs)(c.xu,{padding:4,children:[(0,h.jsx)(_,{title:n._('Dates', '[m10n]businessAccess.invoiceDetailSheet.dates', 'The date related to an invoice')}),(0,h.jsxs)(c.kC,{direction:"row",children:[(0,h.jsxs)(c.xu,{marginStart:4,width:212,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Invoice date', '[m10n]businessAccess.invoiceDetailSheet.invoiceDate', 'The invoice date to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:(0,em.vs)((0,eu.Z)(t.invoice_creation_date||0),{locale:r})})]}),(0,h.jsxs)(c.xu,{width:212,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Billing period', '[m10n]businessAccess.invoiceDetailSheet.billingPeriod', 'The billing period to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:(0,j.nk)(n._('{{billingPeriodFrom}} to {{billingPeriodTo}}', '[m10n]billing.DiscountSummary.messaging', 'The period to an invoice billingPeriodFrom:Billing period start, billingPeriodTo:Billing period end'),{billingPeriodFrom:(0,em.vs)((0,eu.Z)(t.billing_period_start_date||0),{locale:r}),billingPeriodTo:(0,em.vs)((0,eu.Z)(t.billing_period_end_date||0),{locale:r})})})]}),(0,h.jsxs)(c.xu,{marginEnd:4,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Due date', '[m10n]businessAccess.invoiceDetailSheet.dueDate', 'The due date to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:(0,em.vs)((0,eu.Z)(t.invoice_due_date||0),{locale:r})})]})]})]})},{data:i,i18n:o,locale:a}),(0,h.jsx)("hr",{style:m}),(0,h.jsx)(function(e){var t=e.data,n=e.i18n;return(0,h.jsxs)(c.xu,{padding:4,children:[(0,h.jsx)(_,{title:n._('Campaign details', '[m10n]businessAccess.invoiceDetailSheet.campaignDetails', 'The campaign details to an invoice')}),(0,h.jsxs)(c.kC,{direction:"row",children:[(0,h.jsxs)(c.xu,{marginStart:4,width:424,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Campaign name', '[m10n]businessAccess.invoiceDetailSheet.campaignName', 'The campaign name to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.campaign_name})]}),(0,h.jsxs)(c.xu,{width:164,maxWidth:164,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Media buyer/planner', '[m10n]businessAccess.invoiceDetailSheet.mediaBuyerPlanner', 'The media buyer planner to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.media_planner_name})]})]})]})},{data:i,i18n:o}),(0,h.jsx)("hr",{style:m}),(0,h.jsx)(function(e){var t=e.data,n=e.i18n;return(0,h.jsxs)(c.xu,{padding:4,children:[(0,h.jsx)(_,{title:n._('Invoice details', '[m10n]businessAccess.invoiceDetailSheet.invoiceDetails', 'The details to an invoice')}),(0,h.jsxs)(c.kC,{direction:"row",children:[(0,h.jsxs)(c.xu,{marginStart:4,width:212,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Terms', '[m10n]businessAccess.invoiceDetailSheet.terms', 'The terms to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.payment_terms})]}),(0,h.jsxs)(c.xu,{width:212,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('Reference number', '[m10n]businessAccess.invoiceDetailSheet.recefenceNumber', 'The reference number to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.sfdc_opportunity_id||"-"})]}),(0,h.jsxs)(c.xu,{marginEnd:4,children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:n._('PO number', '[m10n]businessAccess.invoiceDetailSheet.poNumber', 'The PO number to an invoice')}),(0,h.jsx)(c.xv,{size:"200",children:t.purchase_order_id})]})]})]})},{data:i,i18n:o})]}),(0,h.jsxs)(c.xu,{margin:4,children:[(0,h.jsx)(c.xv,{size:"200",children:o._('Total amount', '[m10n]businessAccess.invoiceDetailSheet.totalAmount', 'The total amount to an invoice')}),(0,h.jsx)(c.xv,{size:"500",weight:"bold",children:(t=(0,ep.Fr)({data:i,colDef:{field:"amount_billed_micro_currency"}}),n=i.currency,null!==t?l(a,t,{style:"currency",currency:n}):"-")})]})]})},ey=n(599689),ev=n(668040),eg=n(34639);function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eS=function(e){var t,n,r,s,o,l,v,g=e.hideSheet,A=e.id,S=e.partnerId,x=(0,f.ZP)(),E=(0,(0,Z.F)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,P=(0,I.Z)(),O=(0,p.F9)().showToast,w=(0,a.useDispatch)(),T=function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("partnerInvite",A,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=T[0],R=T[1],N=T[2],D=(null==z?void 0:null===(n=z.user)||void 0===n?void 0:n.username)||(null==z?void 0:null===(r=z.user)||void 0===r?void 0:r.email)||(null==z?void 0:null===(s=z.extended_user_info)||void 0===s?void 0:s.username)||"",k=(0,ey.useHistory)(),L=(0,ey.useRouteMatch)().params.userBizId,B=(null==z?void 0:null===(o=z.invite_data)||void 0===o?void 0:o.invite_status)==="EXPIRED",U=(0,d.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),M=(0,eg.Z)(),H=x._('Review your invite', '[m10n]bizAccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(E&&R)throw new i.jX(R,H);if(N||R)return null;var G=ea(null==z?void 0:z.assets);return(0,h.jsxs)(y.Z,{title:H,subTitle:(null==z?void 0:null===(l=z.invite_data)||void 0===l?void 0:l.sent_at)&&P(new Date(z.invite_data.sent_at).toString()),footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(b,{closeButton:{onClose:g},acceptButton:B?void 0:{onAccept:function(){w((0,es.Ol)({acceptInviteInterface:M,businessId:null!=L?L:"",type:"PARTNER",inviteId:A,onSuccess:function(){U({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-invite",business_id:L,partner_invite_id:A}),t(),O(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(x._('Accepted invite from {{name}}', '[m10n]bizAccess.invite.accept.success', 'Toast message for successfully accepting an invite'),{name:D}).join("")})}),k.push((0,ev.Z)("SHARED_PARTNERS_DETAIL",L,S))},onError:function(e){var n=x._('There was an error in accepting the invite. Please try again.', '[m10n]bizAccess.invite.accept.error', 'Error message if accepting an invite fails');t(),O(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))}},declineButton:{onDecline:function(){w((0,es.dq)({acceptInviteInterface:M,businessId:null!=L?L:"",type:"PARTNER",inviteId:A,onSuccess:function(){U({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-invite-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-invite",business_id:L,partner_invite_id:A}),t(),O(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(x._('The invite from {{name}} has successfully been declined', '[m10n]bizAccess.invite.decline.success', 'Toast message for successfully declining an invite'),{name:D}).join("")})})},onError:function(e){var n=x._('There was an error in declining the invite. Please try again.', '[m10n]bizAccess.invite.decline.error', 'Error message if declining an invite fails');t(),O(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))},buttonText:B?x._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the expired invite'):void 0}})},hideSheet:g,children:[(0,h.jsx)(en,{imageUrl:null==z?void 0:null===(v=z.extended_user_info)||void 0===v?void 0:v.image_small_url,title:D,subTitle:S}),(0,h.jsx)(c.xu,{"data-test-id":"partner-receive-invite-description",children:(0,h.jsx)(c.xu,{marginTop:8,children:B?(0,h.jsx)(c.J0,{iconAccessibilityLabel:"Info",type:"warning",message:(0,h.jsx)(c.xv,{children:(0,m.Z)(x._('{{businessName}}\'s request to partner with you has expired. To reinstate this invite, please ask them to resend.', '[m10n]bizAccess.partnerReceiveInviteSheet.expiredText', 'Warning text for a received expired partner invite. businessName: Business that sent the partner invite'),{businessName:D})},"partner-receive-invite-sheet-expired-text")}):(0,h.jsxs)(c.xu,{children:[(0,h.jsx)(c.xv,{children:(0,m.Z)(x._('You\'ve received an invite to partner with {{businessName}}.', '[m10n]bizAccess.partnerReceiveInvitesheet.infoText', 'Description text on the partner relationship'),{businessName:D})}),(null==z?void 0:z.assets)&&(0,h.jsx)(c.xu,{marginTop:4,children:(0,h.jsx)(c.xv,{children:x._('Accepting this invite gives you permission to work on the assets listed below.', '[m10n]bizAccess.partnerReceiveInvitesheet.assetsInfoText', 'Description text on the partner relationship assets')})})]})})}),(0,h.jsx)(et,{rowData:G,customEmptyState:(0,h.jsx)(function(){return(0,h.jsx)(c.xu,{marginTop:12,paddingY:7,children:(0,h.jsxs)(c.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:x._('No assets assigned', '[m10n]bizAccess.invite.sheet.emptyState.bold', 'No assets assigned to this partner on the invite')}),(0,h.jsx)(c.xv,{size:"200",children:x._('You can request access to assets from the partner page.', '[m10n]bizAccess.invite.sheet.emptyState.description', 'No assets assigned to this partner on the invite')})]})})},{})})]})},ex=n(216651);function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eP=function(e,t){var n=t.onAccessChange;return{field:"access",headerName:e._('Permissions', '[m10n]bizAccess.business.people.bizRoleAccess', 'Permissions granted to user'),minWidth:F.I.columnWidths.md,TableCellComponent:function(e){var t,r,s,i=e.data,o=i.asset_id,a=i.roles,l=i.permissions,u=(0,(0,Z.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,d=(function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("adAccount",o,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],_=null!==(r=null==d?void 0:d.type)&&void 0!==r?r:"";return(0,h.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"start",width:"100%",marginEnd:-10,children:(0,h.jsx)(ex.ZP,{onChange:function(e){return n({roles:e,assetId:o,assetType:_})},id:o,noAccessAllowed:!0,permissions:u?l||[]:a||[],ownerRoles:null!==(s=null==d?void 0:d.roles)&&void 0!==s?s:[],assetType:_})})},sortable:!1}};function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==eI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eI(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eC=function(e){var t=e.data,n=e.weight,r=e.size,s=(0,f.ZP)(),i="PROFILE"===t.type,o=i?(0,j.nk)(s._('{{ name }}\'s profile permissions', '[m10n]bizAccess.invite.profile.name', 'Invite profile asset name, name:name of business whose profile is being shared'),{name:t.owner.full_name}).join(""):s._('Ad account', '[m10n]bizAccess.table.asset.adAccountLabel', 'Label for ad account'),a=i?void 0:(0,j.nk)(s._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:t.asset_id}).join("");return(0,h.jsx)(Y.Z,{text:o,subtext:a,weight:n,size:r})},ew=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:F.I.weights.bold,clickable:!0,size:"md"},n=t.weight,r=t.clickable,s=t.size;return{field:"name",sortable:!1,headerName:e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,h.jsx)(eC,eO(eO({},e),{},{clickable:r,size:s}))},minWidth:F.I.columnWidths.lg,isActivelySorted:!0,weight:n,getMinHeight:function(e){return"PROFILE"===e.type?void 0:54}}};function eT(e){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==eT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eT(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eN=function(e){var t=e.rowData,n=e.onAccessChange,r=void 0===n?void 0:n,s=e.customEmptyState,i=(0,(0,Z.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,o=(0,f.ZP)();return(0,h.jsxs)(c.xu,{marginTop:8,children:[(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.xv,{size:"300",weight:"bold",children:o._('Requested Permissions', '[m10n]bizAccess.request.sheet.accesToAdAccountHeader', 'Header for ad account permissions section of sheet')})}),(0,h.jsx)(F.Z,{id:"REQUEST_ASSET_ACCOUNTS_SHEET",isLoading:!1,rowData:t,columnDefs:[r?K(o):ew(o),r?eP(o,{onAccessChange:r,i18n:o}):(0,q.Z)(o,{field:i?"permissions":"roles"})],onRowCountChange:function(){},config:eR(eR({},F.I),{},{borderStyle:"none"}),customEmptyState:s,pageType:u.Q6.AD_ACCOUNTS})]})},eD=function(e){var t=e.closeButton,n=e.deleteButton,r=e.declineButton,s=e.acceptButton,i=e.resendButton,o=e.submit,a=(0,f.ZP)();return(0,h.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,h.jsxs)(c.xu,{children:[r&&(0,h.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:r.onDecline,text:r.buttonText||a._('Decline request', '[m10n]bizAccess.sheet.decline', 'Decline the active request')}),n&&(0,h.jsx)(c.xu,{"data-test-id":"delete-request-button",children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:n.onDelete,text:n.buttonText||a._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the active request')})})]}),(0,h.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"between",children:[t&&(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"gray",onClick:t.onClose,text:t.buttonText||a._('Close', '[m10n]bizAccess.close.sheet', 'Closes the active request')})}),o&&(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:o.onSubmit,disabled:o.disabled,text:a._('Submit', '[m10n]bizAccess.submit.sheet', 'Submits the active request(s)')})}),(0,h.jsxs)(c.xu,{marginStart:2,flex:"none",children:[s&&(0,h.jsx)(c.xu,{"data-test-id":"accept-request-button",children:(0,h.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:s.onAccept,text:s.buttonText||a._('Accept request', '[m10n]bizAccess.sheet.resend', 'Accept visible request')})}),i&&(0,h.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:i.onResend,text:i.buttonText||a._('Resend request', '[m10n]bizAccess.sheet.resend', 'Resend visible request')})]})]})]})},ek=n(347174),eL=["asset_id"];function eB(e){return(eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eM(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){eG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eG(e,t,n){var r;return(r=function(e,t){if("object"!==eB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===eB(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eF=function(e){var t,n,s,o,l,b,v,g,A=e.hideSheet,S=e.id,x=e.partnerId,E=(0,f.ZP)(),P=(0,Z.F)().checkExperiment,O=P("web_m10n_business_access_error_handling").anyEnabled,w=P("business_access_invites_api_v4_migration").anyEnabled,T=(0,I.Z)(),z=(0,p.F9)().showToast,R=(0,a.useDispatch)(),N=(0,a.useSelector)(ek.wk),D=eU((0,C.Z)("partnerRequest",S,!0),3),k=D[0],L=D[1],B=D[2],U=(null==k?void 0:null===(t=k.user)||void 0===t?void 0:t.username)||(null==k?void 0:null===(n=k.extended_user_info)||void 0===n?void 0:n.full_name)||(null==k?void 0:null===(s=k.extended_user_info)||void 0===s?void 0:s.username)||(null==k?void 0:null===(o=k.user)||void 0===o?void 0:o.email)||"",M=null==k?void 0:null===(l=k.created_by_biz)||void 0===l?void 0:l.id,H=(0,ey.useHistory)(),G=(0,ey.useRouteMatch)().params.userBizId,F=eU((0,r.useState)(void 0),2),q=F[0],Y=F[1],V=eU((0,r.useState)(void 0),2),Q=V[0],W=V[1],J=(null==k?void 0:null===(b=k.invite_data)||void 0===b?void 0:b.invite_status)==="EXPIRED",K=(0,d.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),X=w?null==k?void 0:k.business_roles[0]:null==k?void 0:k.biz_roles[0];(0,r.useEffect)(function(){var e;Y(null!=X?X:void 0),W((null!==(e=null==k?void 0:k.assets)&&void 0!==e?e:[]).reduce(function(e,t){var n=t.asset_id,r=t.roles,s=t.permissions;return eZ(eZ({},e),{},eG({},n,w?s:r))},{}))},[X,null==k?void 0:k.assets,w]);var $=function(){return(0,h.jsx)(c.xu,{marginTop:12,paddingY:7,children:(0,h.jsxs)(c.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:E._('No assets requested', '[m10n]bizAccess.request.sheet.emptyState.title', 'Title for the empty state when no assets requested by this partner to the user')}),(0,h.jsx)(c.xv,{size:"200",children:E._('You can assign access to assets from the partner page.', '[m10n]bizAccess.request.sheet.emptyState.description', 'Indicate the action that the user can take, like assig access to assets in the partner page')})]})})},ee=E._('You\'ve received a request!', '[m10n]bizAccess.request.sheet.headerReceived', 'Header for reviewing a request you have received');if(O&&L)throw new i.jX(L,ee);if(B||L)return null;var et=ea(null==k?void 0:k.assets).map(function(e){var t=e.asset_id,n=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,eL);return eZ(eZ({},n),{},{asset_id:t,roles:Q?Q[t]:n.roles},w&&{permissions:Q?Q[t]:n.permissions})});return(0,h.jsxs)(y.Z,{title:ee,subTitle:(null==k?void 0:null===(v=k.invite_data)||void 0===v?void 0:v.sent_at)&&T(new Date(k.invite_data.sent_at).toString()),footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(eD,{closeButton:{onClose:A},acceptButton:J?void 0:{onAccept:function(){R((0,es.ED)({businessId:null!=G?G:"",acceptedRole:q,acceptedAssets:Q,requestId:S,onSuccess:function(){K({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-request",business_id:G,partner_request_id:S}),t(),z(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(E._('The partner request from {{name}} has been accepted', '[m10n]bizAccess.request.accept.success', 'Toast message for successfully accepting a request'),{name:U}).join("")})}),H.push((0,ev.Z)("PARTNERS_DETAIL",G,x))},onError:function(e,n){K({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"accept-request",errorClass:n,errorMessage:e,business_id:G,partner_request_id:S});var r=E._('There was an error in accepting the request. Please try again.', '[m10n]bizAccess.request.accept.error', 'Error message if accepting a request fails');t(),z(function(t){var n=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:n,text:e||r,type:"error"})})}}))}},declineButton:{onDecline:function(){R((0,es.hY)({businessId:null!=G?G:"",requestId:S,onSuccess:function(){K({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-request",business_id:G,partner_request_id:S}),t(),z(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(E._('The request from {{name}} has successfully been declined', '[m10n]bizAccess.request.decline.success', 'Toast message for successfully declining a request'),{name:U}).join("")})})},onError:function(e,n){K({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"decline-request",errorClass:n,errorMessage:e,business_id:G,partner_request_id:S});var r=E._('There was an error in declining the request. Please try again.', '[m10n]bizAccess.request.decline.error', 'Error message if declining a request fails');t(),z(function(t){var n=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:n,text:e||r,type:"error"})})}}))},buttonText:J?E._('Delete', '[m10n]bizAccess.sheet.delete', 'Delete the expired request'):void 0}})},hideSheet:A,children:[(0,h.jsx)(en,{imageUrl:null==k?void 0:null===(g=k.extended_user_info)||void 0===g?void 0:g.image_small_url,title:U,subTitle:M}),(0,h.jsx)(c.xu,{id:"partner-receive-request-sheet",children:(0,h.jsx)(c.xu,{marginTop:8,children:J?(0,h.jsx)(c.J0,{iconAccessibilityLabel:"Info",type:"warning",message:(0,h.jsx)(c.xv,{children:(0,m.Z)(E._('{{businessName}}\'s request to partner with you has expired. To reinstate this request, please ask them to resend.', '[m10n]bizAccess.partnerReceiveRequestSheet.expiredText', 'Warning text for a received expired partner request. businessName: Business that sent the partner request'),{businessName:U})},"partner-Receive-request-sheet-expired-tex")}):(0,h.jsx)(c.xv,{children:null!=k&&k.assets&&0!==k.assets.length?(0,m.Z)(E._('You\'ve received a request to partner with {{businessName}}. Accepting this request means you can grant them access to the assets listed below.', '[m10n]bizAccess.partnerReceiveRequestSheet.infoText', 'Description text on the partner relationship. businessName:business name'),{businessName:U}):(0,m.Z)(E._('You\'ve received a request to partner with {{businessName}}. Accepting this request means you can grant them access to your assets.', '[m10n]bizAccess.partnerReceiveRequestSheet.infoText', 'Description text on the partner relationship. businessName:business name'),{businessName:U})})})}),N?(0,h.jsx)(c.$j,{show:!0,size:"sm",delay:!1,accessibilityLabel:E._('Loading ad accounts', '[m10n]bizAccess.partnerRequest.loadingAdAccounts', 'Spinner for loading ad accounts')}):J?(0,h.jsx)(eN,{rowData:et,customEmptyState:(0,h.jsx)($,{})}):(0,h.jsx)(eN,{rowData:et,onAccessChange:function(e){var t=e.roles,n=e.assetId;K(eZ(eZ({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-receive-request-sheet",element:"BUSINESS_ACCESS_FIELD",elementId:"change-access"},"PROFILE"===e.assetType?{profile_id:n}:{ad_account_id:n}),{},{business_id:G,partner_request_id:S})),W(eZ(eZ({},Q),{},eG({},n,0===t.length?["NO_ACCESS"]:t)))},customEmptyState:(0,h.jsx)($,{})})]})};function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eY=function(e){var t,n,s,o,l,v,g,S=e.hideSheet,x=e.id,E=(0,f.ZP)(),P=(0,(0,Z.F)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,O=(0,I.Z)(),w=(0,p.F9)().showToast,T=(0,a.useDispatch)(),z=function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("partnerInvite",x,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eq(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=z[0],N=z[1],D=z[2],k=(null==R?void 0:null===(n=R.user)||void 0===n?void 0:n.username)||(null==R?void 0:null===(s=R.user)||void 0===s?void 0:s.email)||(null==R?void 0:null===(o=R.extended_user_info)||void 0===o?void 0:o.username)||"",L=(0,A.KJ)(),B=(null==R?void 0:null===(l=R.invite_data)||void 0===l?void 0:l.invite_status)==="EXPIRED",U=(0,d.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),M=E._('Review your invite', '[m10n]bizAccess.invite.sheet.header', 'Header for reviewing an invite you have sent');if(P&&N)throw new i.jX(N,M);if(D||N)return null;var H=ea(null==R?void 0:R.assets);return(0,h.jsxs)(y.Z,{title:M,subTitle:(null==R?void 0:null===(v=R.invite_data)||void 0===v?void 0:v.sent_at)&&O(new Date(R.invite_data.sent_at).toString()),footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(c.xu,{"data-test-id":"partner-send-invite-sheet-footer",children:(0,h.jsx)(b,{closeButton:{onClose:S},deleteButton:{onDelete:function(){T((0,es.UF)({businessId:L,type:"PARTNER",inviteId:x,onSuccess:function(){U({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-invite"}),t(),w(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(E._('The invite for {{name}} has successfully been deleted', '[m10n]bizAccess.invite.delete.success', 'Toast message for successfully deleting an invite'),{name:k}).join("")})})},onError:function(e){var n=E._('There was an error in deleting the invite. Please try again.', '[m10n]bizAccess.invite.delete.error', 'Error message if deleting an invite fails');t(),w(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){T((0,es.c_)({businessId:L,inviteId:x,type:"PARTNER",onSuccess:function(){U({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-invite-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-invite"}),w(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(E._('New invite sent to {{name}}', '[m10n]bizAccess.invite.resend.success', 'Toast message for successfully resending an invite'),{name:k}).join("")})}),t()},onError:function(e){var n=E._('There was an error in resending the invite. Please try again.', '[m10n]bizAccess.invite.resend.error', 'Error message if resending an invite fails');t(),w(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{type:"error",duration:u.QE,onHide:r,text:e||n})})}}))}}})})},hideSheet:S,children:[(0,h.jsx)(en,{imageUrl:null==R?void 0:null===(g=R.extended_user_info)||void 0===g?void 0:g.image_small_url,title:k}),(0,h.jsx)(c.xu,{marginTop:8,children:B?(0,h.jsx)(c.J0,{iconAccessibilityLabel:"Info",type:"warning",message:(0,h.jsx)(c.xv,{children:(0,m.Z)(E._('{{businessName}} hasn\'t responded to your partner invite. To work on the assets below, you can resend your invite.', '[m10n]bizAccess.partnerSendInviteSheet.expiredText', 'Warning text for a sent expired partner invite. businessName: Business you sent invite to partner with'),{businessName:k})},"partner-send-inviteSheet-expired-text")}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.xv,{children:(0,m.Z)(E._('You invited {{businessName}} to partner with your business.', '[m10n]bizAccess.partnerSendInviteSheet.infoText', 'Description text on the partner relationship'),{businessName:k})})}),(0,h.jsx)(c.xu,{marginTop:4,children:(0,h.jsx)(c.xv,{children:null!=R&&R.assets&&0===R.assets.lengh?E._('A partner can only do work on assets they have been granted access to. Granting access won\'t impact ownership.', '[m10n]bizAccess.partnerSendInviteSheet.noAdAccountInfoText', 'Additional description text on the partner relationship'):(0,m.Z)(E._('Once {{businessName}} accepts this invite, they can work on any assets listed below.', '[m10n]bizAccess.partnerSendInviteSheet.adAccountInfoText', 'Additional description text on the partner relationship. businessName: Name of business invited to partner.'),{businessName:k})})})]})}),(null==R?void 0:R.assets)&&(0,h.jsx)(et,{rowData:H,customEmptyState:(0,h.jsx)(function(){return(0,h.jsx)(c.xu,{marginTop:12,paddingY:7,children:(0,h.jsxs)(c.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:E._('No assets assigned', '[m10n]bizAccess.invite.sent.sheet.emptyState.title', 'Title for the empty state when no assets asssigned by this user to the partner')}),(0,h.jsx)(c.xv,{size:"200",children:E._('You can assigns assets from the partner page.', '[m10n]bizAccess.invite.sent.sheet.emptyState.description', 'Indicate the action that the user can take, like assign access to assets in the partner page')})]})})},{})})]})};function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eQ=function(e){var t,n,r,s,o,l,b,v,g,S=e.hideSheet,x=e.id,E=(0,f.ZP)(),P=(0,(0,Z.F)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,O=(0,I.Z)(),w=(0,p.F9)().showToast,T=(0,a.useDispatch)(),z=function(e){if(Array.isArray(e))return e}(t=(0,C.Z)("partnerRequest",x,!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,3)||function(e,t){if(e){if("string"==typeof e)return eV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(e,t)}}(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=z[0],N=z[1],D=z[2],k=(0,A.KJ)(),L=(null==R?void 0:null===(n=R.invite_data)||void 0===n?void 0:n.invite_status)==="EXPIRED",B=(0,d.ZP)("BUSINESS_ACCESS_PARTNERS_PENDING"),U=(null==R?void 0:null===(r=R.user)||void 0===r?void 0:r.username)||(null==R?void 0:null===(s=R.extended_user_info)||void 0===s?void 0:s.full_name)||(null==R?void 0:null===(o=R.extended_user_info)||void 0===o?void 0:o.username)||(null==R?void 0:null===(l=R.user)||void 0===l?void 0:l.email)||"",M=null==R?void 0:null===(b=R.user)||void 0===b?void 0:b.id,H=E._('Review your request', '[m10n]bizAccess.request.sheet.header', 'Header for reviewing an request you have sent');if(P&&N)throw new i.jX(N,H);if(D||N)return null;var G=ea(null==R?void 0:R.assets);return(0,h.jsxs)(y.Z,{title:H,subTitle:(null==R?void 0:null===(v=R.invite_data)||void 0===v?void 0:v.sent_at)&&O(new Date(R.invite_data.sent_at).toString()),footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(eD,{closeButton:{onClose:S},deleteButton:{onDelete:function(){T((0,es.Jl)({businessId:k,requestId:x,onSuccess:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-request-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"delete-request"}),t(),w(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(E._('The request for {{name}} has successfully been deleted', '[m10n]bizAccess.request.delete.success', 'Toast message for successfully deleting an request'),{name:U}).join("")})})},onError:function(e){var n=E._('There was an error in deleting the request. Please try again.', '[m10n]bizAccess.request.delete.error', 'Error message if deleting an request fails');t(),w(function(t){var r=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:r,text:e||n,type:"error"})})}}))}},resendButton:{onResend:function(){T((0,es.JJ)({businessId:k,requestId:x,onSuccess:function(){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"partner-send-request-review-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"resend-request"}),t(),w(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:E._('Your partnership request was successfully resent!', '[m10n]bizAccess.request.resend.success', 'Toast message for successfully resending an request')})})},onError:function(e,n){var r=E._('There was an error in resending the request. Please try again.', '[m10n]bizAccess.request.resend.error', 'Error message if resending an request fails');[2760].includes(n)&&(e=E._('Rate of resending requests exceeds limit.', '[m10n]bizAccess.request.resend.error', 'Error message if there is already pending requests sent')),t(),w(function(t){var n=t.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:n,text:e||r,type:"error"})})}}))}}})},hideSheet:S,children:[(0,h.jsx)(en,{imageUrl:null==R?void 0:null===(g=R.extended_user_info)||void 0===g?void 0:g.image_small_url,title:U,subTitle:M}),(0,h.jsx)(c.xu,{children:(0,h.jsx)(c.xu,{marginTop:8,children:L?(0,h.jsx)(c.J0,{iconAccessibilityLabel:"Info",type:"warning",message:(0,h.jsx)(c.xv,{children:(0,m.Z)(E._('{{businessName}} hasn\'t responded to your partner request. To work on the assets below, you can resend your request.', '[m10n]bizAccess.partnerSendRequestSheet.expiredText', 'Warning text for a sent expired partner request. businessName: Business you sent request to partner with'),{businessName:U})},"partner-send-request-sheet-expired-text")}):(0,h.jsx)(c.xv,{children:null!=R&&R.assets&&0!==R.assets.length?(0,m.Z)(E._('You\'ve asked {{businessName}} to partner and share their business assets with you. Once {{businessName}} approves this request, you can assign employees to work on these assets.', '[m10n]bizAccess.partnerSendRequestSheet.noAdAccountInfoText. businessName: Business you sent request to partner with', 'Additional description text on the partner relationship with no assets. businessName:business name'),{businessName:U}):(0,m.Z)(E._('You\'ve asked {{businessName}} to partner and share their business assets with you. Once {{businessName}} approves this request, they can grant you to access to work on their assets.', '[m10n]bizAccess.partnerSendRequestSheet.adAccountInfoText. businessName: Business you sent request to partner with', 'Additional description text on the partner relationship. businessName: business name'),{businessName:U})})})}),(null==R?void 0:R.assets)&&(0,h.jsx)(eN,{rowData:G,customEmptyState:(0,h.jsx)(function(){return(0,h.jsx)(c.xu,{marginTop:12,paddingY:7,children:(0,h.jsxs)(c.kC,{alignItems:"center",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(c.xv,{weight:"bold",size:"200",children:E._('No assets requested', '[m10n]bizAccess.request.sent.sheet.emptyState.title', 'Title for the empty state when no assets requested by this user to the parter')}),(0,h.jsx)(c.xv,{size:"200",children:E._('You can request access to assets from the partner page.', '[m10n]bizAccess.request.sent.sheet.emptyState.description', 'Indicate the action that the user can take, like assign access to assets in the partner page')})]})})},{})})]})},eW=n(988811);function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eK=function(e){var t,n,s=e.onSelectChange,i=e.responseStatuses,o=e.data,a=(0,f.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eJ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1],_=(0,r.useRef)(null),m=function(e){var t=e.item;s(o.requestId,"approve"===t.value)},p={approve:a._('Approve', '[m10n].bizAccess.RespondAOAACell.approve', 'option to approve ad account creation'),reject:a._('Reject', '[m10n].bizAccess.RespondAOAACell.reject', 'option to reject ad account creation'),select:a._('Select', '[m10n].bizAccess.RespondAOAACell.select', 'text for button before selecting approve or reject')};if(i[o.requestId]){var b=i[o.requestId].isApproved;n={value:b?"approve":"reject",label:b?p.approve:p.reject}}else n={value:"",label:p.select};return(0,h.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsxs)(c.xu,{bottom:!0,display:"flex",justifyContent:"center",children:[(0,h.jsx)(c.zx,{accessibilityControls:"truncation-dropdown-example",accessibilityExpanded:u,accessibilityHaspopup:!0,iconEnd:"arrow-down",onClick:function(){return d(function(e){return!e})},ref:_,selected:u,size:"lg",text:n.label}),u&&(0,h.jsxs)(c.Lt,{id:o.requestId,anchor:_.current,onDismiss:function(){return d(!1)},children:[(0,h.jsx)(c.Lt.Item,{onSelect:m,option:{label:p.approve,value:"approve"},selected:n}),(0,h.jsx)(c.Lt.Item,{onSelect:m,option:{label:p.reject,value:"reject"},selected:n})]})]})})},eX=function(e){var t=e.responseStatuses,n=e.onSelectChange;return{field:"id",headerName:"",minWidth:F.I.columnWidths.sm,TableCellComponent:function(e){var r=e.data;return(0,h.jsx)(eK,{onSelectChange:n,responseStatuses:t,data:r})},justifying:"center"}},e$=n(989721),e0=n(445617),e1=n(977130),e2=n(823010);function e3(e){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e6(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function e4(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){e6(i,r,s,o,a,"next",e)}function a(e){e6(i,r,s,o,a,"throw",e)}o(void 0)})}}function e8(e,t){if(e){if("string"==typeof e)return e9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e9(e,t)}}function e9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e,t,n){var r;return(r=function(e,t){if("object"!==e3(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e3(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===e3(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){var t,n=e.hideSheet,s=(0,f.ZP)(),o=(0,A.KJ)(),l=(0,(0,Z.F)().checkExperiment)("web_m10n_business_access_error_handling").anyEnabled,m=(0,p.F9)().showToast,b=(0,A.nU)(),v=(0,ey.useHistory)(),g=(0,d.ZP)("BUSINESS_ACCESS_AD_ACCOUNTS"),S=(0,a.useDispatch)(),x=(0,ey.useRouteMatch)().path,E=x.includes(":userBizId/ad-accounts/pending"),P=(0,a.useSelector)(e2.Mr),I=0,O=e7({},Object.keys(P).reduce(function(e,t){var n,r=P[t];if("PENDING"!==r.status||r.client_business.id!==o)return e;I+=1;var s=r.owner_business.id,i=r.permissions.findIndex(function(e){return Object.keys(e).includes(o)}),a={name:r.name,agencyUserId:r.owner_business.id,agencyName:r.owner_business.full_name,agencyImage:r.owner_business.image_small_url||"",permissions:r.permissions[i][o],clientUserId:o,requestId:r.request_id};return e7(e7({},e),{},te({},s,[].concat(function(e){if(Array.isArray(e))return e9(e)}(n=e[s]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||e8(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e7(e7({},a),{},{requestId:t})])))},{})),C=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||e8(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=C[0],T=C[1],z={isLoading:!1,error:null},R=z.isLoading,N=z.error,D=Object.keys(w).length===I,k=s._('Approve or reject ad account creation requests', '[m10n]bizAccess.aoaa.request.sheet.header', 'Header for reviewing an ad account request from a partner agency');if(l&&N)throw new i.jX(N,k);if(R||N)return null;var L=function(e){var t=e.agencyId,n=e.requests,r=n[0].agencyImage,i=n[0].agencyName;return(0,h.jsxs)(c.xu,{rounding:3,borderStyle:"sm",marginTop:3,padding:3,children:[(0,h.jsx)(en,{imageUrl:r,title:i}),(0,h.jsx)(F.Z,{id:t,rowData:n,config:e7(e7({},F.I),{},{borderStyle:"none"}),isLoading:!1,onRowCountChange:function(){},pageType:u.Q6.AD_ACCOUNTS_DETAIL,columnDefs:[K(s,{clickable:!1,weight:"bold",isAOAAAdAccount:!0}),(0,eW.Z)(s,{isAOAAAdAcccount:!0}),eX({responseStatuses:w,onSelectChange:function(e,t){T(function(n){return n[e]={isApproved:t},e7({},n)})}})]},t)]})};return(0,h.jsx)(y.Z,{title:k,footer:function(e){var t=e.onDismissStart;return(0,h.jsx)(eD,{submit:{onSubmit:function(){e4(regeneratorRuntime.mark(function e(){var n,r,i,a,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.keys(w).filter(function(e){return w[e].isApproved}),r=Object.keys(w).reduce(function(e,t){return e+(w[t].isApproved?1:0)},0),e.next=5,Promise.all(n.map(function(){var e=e4(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e1.u_)({clientBusinessId:o,country:P[t].country,requestId:t});case 2:return r=e.sent,e.abrupt("return",t===b?null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.id:null);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:if(i=e.sent,!((a=Object.keys(w).filter(function(e){return!w[e].isApproved})).length>0)){e.next=10;break}return e.next=10,(0,e1.iL)({businessId:o,requestIds:a});case 10:c=i.find(function(e){return!!e}),x.includes("details")&&c&&v.push((0,ev.Z)("AD_ACCOUNTS_DETAIL",o,c)),S({type:"CLEAR_AOAA_REQUESTS"}),S((0,e0.vm)({businessId:o,updateDataOnly:!E,statuses:x.includes("details")?["PENDING","ACCEPTED","DECLINED"]:["PENDING"]})),E||S((0,e$.cE)({businessId:o,sortBy:"name",sortDirection:u.IR.ASCENDING})),g({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"respond-aoaa-requests-sheet",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",business_id:o}),t(),m(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{duration:u.QE,onHide:t,text:(0,j.nk)(s.ngettext('{{numAdAccountsApproved}} ad account approved', '{{numAdAccountsApproved}} ad accounts approved', r, '[m10n]bizAccess.aoaa.request.sheet.numAdAccountsApproved', 'number of agency-owned ad accounts that were just approved numAdAccountsApproved:number of ad accounts approved'),{numAdAccountsApproved:r}).join("")})}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),m(function(e){var t=e.hideToast;return(0,h.jsx)(_.ZP,{type:"error",duration:u.QE,onHide:t,text:s._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user that the profile role assignment has failed.')})}),g({eventName:"BUSINESS_ACCESS_ERROR",component:"BUSINESS_ACCESS_FORM",componentId:"create-ad-account-form",element:"BUSINESS_ACCESS_BUTTON",elementId:"submit-button",errorClass:JSON.stringify(e.t0).slice(0,64),errorMessage:(null===(l=e.t0.stack)||void 0===l?void 0:l.slice(0,4096))||e.t0.message});case 24:case"end":return e.stop()}},e,null,[[0,20]])}))()},disabled:!D}})},hideSheet:n,children:(0,h.jsxs)(c.xu,{children:[(0,h.jsx)(c.xu,{marginBottom:5,children:(0,h.jsx)(c.xv,{children:s._('Approve or reject ad account creation requests listed below. The partner who creates the ad account will own the ad account and determine your level of permission. You will lose ad account access when the partnership ends.', '[m10n]bizAccess.aoaa.request.infoText', 'Description text on the agency-owned ad account respond sheet')})}),(0,h.jsx)(c.xu,{marginBottom:5,children:(0,h.jsx)(c.UW,{iconAccessibilityLabel:s._('Informing user that there is an incoming agency owned ad account creation request.', '[m10n]bizAccess.aoaa.request.iconAccessibilityLabel', 'Information to advertisers mentioning what happens if they approve an ad account creation request'),type:"info",message:s._('Once you approve, the agency will have access to your tag and will be able to create audiences on your behalf.', '[m10n]bizAccess.aoaa.request.calloutMessage', 'Information to advertisers displayed on callout mentioning what happens if they approve an ad account creation request')})}),(0,h.jsx)(function(){return Object.keys(O).map(function(e){return(0,h.jsx)(L,{requests:O[e],agencyId:e},e)})},{})]})})};function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tr=function(e){var t,n=e.handleApplyFilter,s=e.hideSheet,i=e.FILTER_OWNER_LABEL,o=e.filterParams,a=(0,f.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null==o?void 0:o.owner))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],_=l[1],m=function(e){_(e)},p=(0,h.jsx)(c.To.DismissingElement,{children:function(e){var t=e.onDismissStart;return(0,h.jsx)(c.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsx)(c.zx,{color:"red",text:a._('Apply', '[m10n].bizAccess.TagsNotEmpty.filters.aply', 'Button to apply filter tags'),onClick:function(){return n(t,d)}})})}});return(0,h.jsx)(y.Z,{title:a._('Filters', '[m10n].bizAccess.TagsNotEmpty.filters.header', 'Header for overlay filters panel'),footer:p,hideSheet:s,children:(0,h.jsx)(c.kC,{direction:"column",gap:{row:0,column:12},children:(0,h.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},children:[(0,h.jsxs)(c.xu,{children:[(0,h.jsx)(c.xv,{inline:!0,weight:"bold",size:"400",children:a._('Owner', '[m10n].bizAccess.TagsNotEmpty.filters.owner.header', 'Tag sharing filters, owner section')}),(0,h.jsx)(c.xv,{size:"100",children:a._('Filter tags by owner', '[m10n].bizAccess.TagsNotEmpty.filters.owner.filter', 'Describe the filter purpose.')})]}),(0,h.jsx)(c.pg,{legend:"",legendDisplay:"hidden",children:(0,h.jsxs)(c.kC,{direction:"column",gap:{row:0,column:3},children:[(0,h.jsx)(c.EU,{label:i[u.pg.ALL_TAGS],name:"filterOwner",value:u.pg.ALL_TAGS,checked:d===u.pg.ALL_TAGS,onChange:function(){return m(u.pg.ALL_TAGS)},id:"all"}),(0,h.jsx)(c.EU,{label:i[u.pg.OWNED],name:"filterOwner",value:u.pg.OWNED,checked:d===u.pg.OWNED,onChange:function(){return m(u.pg.OWNED)},id:"owned"}),(0,h.jsx)(c.EU,{label:i[u.pg.SHARED],name:"filterOwner",value:u.pg.SHARED,checked:d===u.pg.SHARED,onChange:function(){return m(u.pg.SHARED)},id:"shared"})]})})]})})})};function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ti=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(void 0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=n[0],i=n[1],o=(0,A.HL)().clearIntent,a=(0,A.vg)();return(0,r.useEffect)(function(){a&&(e===a.type&&i(a),(null==s?void 0:s.type)===e&&o())},[o,a,null==s?void 0:s.type,e]),s};function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==to(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==to(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===to(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tu={sheetType:void 0,props:void 0},td=(0,s.Z)("SheetContext"),t_=td.Provider,tf=td.useHook,tm=function(e,t){switch(t.type){case"OPEN_SHEET":return t.payload;case"CLOSE_SHEET":return tu;default:return e}},tp=function(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(tm,tu))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=s[0],a=o.sheetType,c=o.props,l=s[1],u=ti("OPEN_SHEET");(0,r.useEffect)(function(){u&&l(u)},[u]);var d=function(){l({type:"CLOSE_SHEET"})},_={name:"businessAccessSheet",errorType:"SHEET",pageType:"DASHBOARD"};switch(a){case"INVITE_REVIEW":_.pageType="PEOPLE";break;case"PARTNER_RECEIVE_INVITE":case"PARTNER_SEND_INVITE":case"PARTNER_RECEIVE_REQUEST":case"PARTNER_SEND_REQUEST":_.pageType="PARTNER";break;default:_.pageType="DASHBOARD"}return(0,h.jsxs)(t_,{value:{openSheet:function(e,t){l({type:"OPEN_SHEET",payload:{sheetType:e,props:t}})}},children:[n,(0,h.jsxs)(i.ZP,tc(tc({},_),{},{children:["INVITE_REVIEW"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(el,tc(tc({},c),{},{hideSheet:d})),"BUSINESS_HIERARCHY_INVITE_REVIEW"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(T,tc(tc({},c),{},{hideSheet:d})),"PARTNER_RECEIVE_INVITE"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(eS,tc(tc({},c),{},{hideSheet:d,partnerId:c.partnerId?c.partnerId:""})),"PARTNER_SEND_INVITE"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(eY,tc(tc({},c),{},{hideSheet:d})),"PARTNER_SEND_REQUEST"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(eQ,tc(tc({},c),{},{hideSheet:d})),"PARTNER_RECEIVE_REQUEST"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(eF,tc(tc({},c),{},{hideSheet:d,partnerId:c.partnerId?c.partnerId:""})),"GUIDE"===a&&c&&(0,h.jsx)(H,{id:"guideSheet",hideSheet:d,page:c.page?c.page:"HOME"}),"RESPOND_AOAA_REQUESTS"===a&&(null==c?void 0:c.id)&&(0,h.jsx)(tt,{id:c.id,hideSheet:d}),"INVOICE_DETAIL"===a&&(null==c?void 0:c.invoiceDetail)&&(0,h.jsx)(eb,tc({hideSheet:d},c)),"SHARED_TAG_FILTERS"===a&&(null==c?void 0:c.sharedTagFiltersSheet)&&(0,h.jsx)(tr,tc({hideSheet:d},c.sharedTagFiltersSheet))]}))]})}},34639:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(186656),s=n(773285);function i(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function o(){var e,t,n=(0,(0,s.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled;return e=regeneratorRuntime.mark(function e(t){var s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.id,i=t.accept,!n){e.next=8;break}return e.next=4,(0,r.Z)({url:"/ads/v4/business_access/invites/".concat(s,"/"),method:"POST",data:{accept_invite:i}});case 4:return o=e.sent,e.abrupt("return",o.resource_response.data);case 8:return e.next=10,(0,r.Z)({url:"/ads/internal/business_access/invites/".concat(s,"/"),method:"POST",data:{accept:i}});case 10:return a=e.sent,e.abrupt("return",a.resource_response.data);case 12:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function a(e){i(o,r,s,a,c,"next",e)}function c(e){i(o,r,s,a,c,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},442860:function(e,t,n){"use strict";var r=n(506979),s=n(773285),i=n(663592);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,r.useDispatch)(),n=(0,(0,s.F)().checkExperiment)("holiday_2023_business_hierarchy_ad_account_success_bugfix").anyEnabled;return e?function(r){var s=r||{},o=s.searchTerm,a=s.limit,l=s.page,u=c(c(c({searchBy:"name_or_id",searchTerm:o,businessId:e,sortBy:s.sortBy,sortDirection:s.sortDirection},a?{limit:a}:{}),l?{page:l}:{}),{},{includeAssetSummary:!0});t((0,i.cE)(u,n))}:null}},323225:function(e,t,n){"use strict";var r=n(506979),s=n(773285),i=n(736126);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){var n=(0,s.F)(),o=(0,r.useDispatch)();return e&&t?function(r){var s=r||{},a=s.searchTerm,l=s.limit,u=s.page,d=s.sortBy,_=s.sortDirection,f=c(c(c({searchBy:a&&/\d{12}/.test(a)?"id":void 0,searchTerm:a,businessId:e,detailId:t,sortBy:d,sortDirection:_,experimentsClient:n},l?{limit:l}:{}),u?{page:u}:{}),{},{includeAssetSummary:!0});o((0,i.UQ)(f))}:null}},177695:function(e,t,n){"use strict";var r=n(506979),s=n(773285),i=n(736126);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e,t){var n=(0,s.F)(),o=(0,r.useDispatch)();return e&&t?function(r){var s=r||{},a=s.searchTerm,l=s.limit,u=s.page,d=s.sortBy,_=s.sortDirection,f=c(c(c({searchBy:a&&/\d{12}/.test(a)?"id":void 0,searchTerm:a,businessId:e,detailId:t,sortBy:d,sortDirection:_,experimentsClient:n},l?{limit:l}:{}),u?{page:u}:{}),{},{includeAssetSummary:!0});o((0,i.fR)(f))}:null}},623432:function(e,t,n){"use strict";var r=n(506979),s=n(773285),i=n(663592);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,(0,s.F)().checkExperiment)("business_access_employees_api_v4_migration").anyEnabled,n=(0,r.useDispatch)();return e?function(r){var s=r||{},o=s.searchTerm,a=s.limit,l=s.page,u=s.sortBy,d=s.sortDirection;n((t?i.ip:i.fN)(c(c({searchBy:t?["FULL_NAME","EMAIL"]:"full_name,email",searchTerm:o,businessId:e,sortBy:u,sortDirection:d},a?{limit:a}:{}),l?{page:l}:{})))}:null}},896282:function(e,t,n){"use strict";var r=n(506979),s=n(663592);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=(0,r.useDispatch)();return e?function(n){var r=n||{},i=r.searchTerm,o=r.limit,c=r.page,l=r.sortBy,u=r.sortDirection;t((0,s.Eg)(a(a({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:i,businessId:e,sortBy:l,sortDirection:u,includeAssetSummary:!0},o?{limit:o}:{}),c?{page:c}:{})))}:null}},213697:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911),s=n(506979),i=n(619357),o=n(273453);function a(){var e=(0,s.useSelector)(i.eI)||[],t=(0,s.useSelector)(i.T0)||[],n=(0,s.useSelector)(i.Kz)||[],a=(0,s.useSelector)(i.G$)||[],c=(0,s.useSelector)(i.ou)||[],l=(0,s.useSelector)(i.Gw)||[],u=(0,o.KJ)(),d=c.filter(function(e){return n.includes(e)}).length>0,_=!!a&&!!a.length,f=e.some(function(e){var t=e.id,n=e.assetIds;return t!==u&&(n||[]).some(function(e){return c.includes(e)})}),m=t.some(function(e){var t=e.id,n=e.assetIds;return t!==u&&(n||[]).some(function(e){return l.includes(e)})});return(0,r.useMemo)(function(){return{containsSharedPartner:_,containsSharedAssetOrAOAA:f||m||d}},[_,f,m,d])}},879990:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(76911),s=n(506979),i=n(773285),o=n(989721),a=n(663592),c=n(6189),l=n(582618),u=n(736126),d=n(483388),_=n(347174),f=n(239894),m=n(904202),p=n(617126),h=(0,m.P1)(p.Z,function(e){var t=e.inviteOrRequestData;return null!=t?t:{}}),b=(0,m.P1)(h,function(e){return e.loading}),y=(0,m.P1)(h,function(e){return e.error}),v=(0,m.P1)(h,function(e){var t=e.invites;return null!=t?t:{}}),g=(0,m.P1)(h,function(e){var t=e.requests;return null!=t?t:{}}),A=(0,m.P1)(v,function(e){var t=e.members;return null!=t?t:{}}),S=(0,m.P1)(v,function(e){var t=e.partners;return null!=t?t:{}}),x=(0,m.P1)(g,function(e){var t=e.partners;return null!=t?t:{}}),E=n(392499),P=n(809173),I=n(792157),j=n(273453),O=function(e,t,n,r,s){switch(e){case"people":var i=s("business_access_employees_api_v4_migration").anyEnabled;return{getter:function(){return(0,u.Ay)({businessId:t,detailId:r,personId:n,force:!0,useGetPeopleEndpoint:i})},data:P.gF,loading:P.gB,error:P.xC};case"partner":return{getter:function(){return(0,l.kW)({businessId:t,partnerId:n,detailId:r,inEmployeeApiMigration:!1})},data:E.Sl,loading:E._1,error:E.X7};case"adAccount":return{getter:function(){return(0,o.Fd)({businessId:t,adAccountId:n})},data:_.Xy,loading:_.wk,error:_.op};case"memberInvite":return{getter:function(){return(0,c.wW)(n,t)},data:A,loading:b,error:y};case"partnerInvite":return{getter:function(){return(0,c.YK)(n,t)},data:S,loading:b,error:y};case"partnerRequest":return{getter:function(){return(0,c.$R)(n,t)},data:x,loading:b,error:y};case"businessHierarchyChildBusinessInvite":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"CHILD_BUSINESS"})},data:(0,f.nf)(n),loading:f.QE,error:f.ge};case"businessHierarchyChildBusinessInviteTable":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"CHILD_BUSINESS"})},data:(0,f.Rc)(n),loading:f.QE,error:f.ge};case"businessHierarchyOrganizationManagersInvite":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"ORGANIZATION_MANAGER"})},data:(0,f.Qz)(n),loading:f.QE,error:f.ge};case"businessHierarchyOrganizationManagersInviteTable":return{getter:function(){return(0,a.mH)({hierarchyId:n,type:"ORGANIZATION_MANAGER"})},data:(0,f.Q7)(n),loading:f.QE,error:f.ge};case"businessHierarchyInvite":return{getter:function(){return(0,d.F)(t)},data:(0,I.DU)(n),loading:I._4,error:I.j7};default:return{getter:function(){},data:function(){},loading:function(){},error:function(){}}}},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,c=(0,j.KJ)(o),l=(0,j.nU)(o),u=(0,s.useDispatch)(),d=O(e,a||c,t,l,(0,i.F)().checkExperiment),_=(0,s.useSelector)(d.data),f=!!(0,s.useSelector)(d.loading),m=(0,s.useSelector)(d.error),p=_&&_[t],h=(0,r.useRef)(null),b=function(){return u(d.getter())};return(0,r.useEffect)(function(){!n||p||f||m||p===h.current||b()},[p,f,m,n]),(0,r.useEffect)(function(){h.current=p},[p]),[p,m,f,b]}},611711:function(e,t,n){"use strict";var r=n(76911);t.Z=function(e,t,n){var s=(0,r.useRef)(!1),i=(0,r.useCallback)(e,n);(0,r.useEffect)(function(){if(!s.current)return s.current=!0,function(){};var e=setTimeout(function(){i()},t);return function(){clearTimeout(e)}},[i,t])}},215026:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(773285);function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.F)().checkExperiment,n=t("web_m10n_business_access_asset_groups").anyEnabled,s=t("web_m10n_business_access_asset_groups_ga").anyEnabled;return n&&(!e||s)}},167606:function(e,t,n){"use strict";var r=n(373232),s=n(410841),i=n(166518),o=n(378518),a=n(773285),c=n(19121);t.Z=function(e,t,n){var l=(0,r.u)().is_sterling_on_steroids,u=(0,i.Z)(),d=(0,a.F)().checkExperiment,_=d("ba_mfa_enabled").anyEnabled,f=d("web_m10n_business_access_2023_holiday_2fa_ui").anyEnabled,m=(0,c.Z)(),p=(0,s.Z)(m),h=(0,o._)({id:1000483}),b=!!(h&&505651===h.experience_id),y=u||[],v=f?y.length>0&&(y.includes(e)||m.id===t):y.length>0&&y.includes(e)&&m.id!==t,g=f?!l&&!b&&_&&(!!n||v):!l&&!b&&_&&(!!n||v||p),A=f?g&&!m.has_mfa_enabled&&!p:g&&!m.has_mfa_enabled;return{businessRequiresMfa:!!g,viewerNeedsToSetupMfa:!!A}}},822618:function(e,t,n){"use strict";var r=n(599689),s=n(908390),i=n(898781),o=n(349700),a=n(773285),c=n(273453),l=n(515198);t.Z=function(e){var t=e.display,n=e.oneLine,u=(0,i.ZP)(),d=(0,c.MC)(),_=(0,(0,a.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,f=(0,r.useRouteMatch)().params.businessHierarchyId;return _&&f&&d?(0,l.jsxs)(s.xu,{display:"flex",alignItems:"center",borderStyle:"sm",color:"elevationAccent",padding:4,rounding:4,dangerouslySetInlineStyle:{__style:{borderColor:"var(--color-background-secondary-base)"}},children:[(0,l.jsx)(s.qE,{name:d.user.full_name||"",src:d.user.image_medium_url||"",size:"xs"}),(0,l.jsx)(s.xu,{marginStart:4,display:void 0===t?"flex":t,children:void 0!==n&&n?(0,l.jsx)(s.kC,{children:(0,l.jsx)(s.xv,{inline:!0,children:(0,o.nk)(u._('These changes will be applied to: {{ businessName }} (ID: {{ businessId }})', '[m10n]businessAccess.childBusiness.callout.content', 'Callout to the target of the changes. businessName: name of business selected in business hierarchy, businessId: numeric id of business selected in business hierarchy'),{businessName:(0,l.jsx)(s.xv,{weight:"bold",inline:!0,children:d.user.full_name},"1"),businessId:d.user.id})},"0")}):(0,l.jsxs)(s.xu,{children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.xv,{children:u._('These changes will be applied to:', '[m10n]businessAccess.childBusiness.callout.preText', 'Text before the name and id of child business')})}),(0,l.jsx)(s.kC,{children:(0,l.jsx)(s.xv,{inline:!0,children:(0,o.nk)(u._('{{ businessName }} (ID: {{ businessId }})', '[m10n]businessAccess.childBusiness.callout.business', 'Name and Id of the business. businessName: name of business selected in business hierarchy, businessId: numeric id of business selected in business hierarchy'),{businessName:(0,l.jsx)(s.xv,{weight:"bold",inline:!0,children:d.user.full_name},"1"),businessId:d.user.id})},"0")})]})})]}):null}},732603:function(e,t,n){"use strict";n.d(t,{Z:function(){return K},M:function(){return J}});var r=n(76911),s=n(908390),i=n(852260),o=n(407043),a=n(898781),c=n(349700),l=n(773285),u=n(121326),d=n(515198),_=function(e){var t=e.text,n=e.subtext,r=e.image,i=e.counterText;return(0,d.jsxs)(s.xu,{display:"flex",paddingX:2,paddingY:3,justifyContent:"between",alignItems:"center",children:[(0,d.jsxs)(s.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[r&&(0,d.jsx)(s.xu,{marginStart:2,children:r}),(0,d.jsxs)(s.xu,{marginStart:2,children:[(0,d.jsx)(s.xv,{weight:"bold",size:"300",children:t}),n&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{size:"200",children:n})})]})]}),(0,d.jsx)(s.xu,{children:i?(0,d.jsx)(s.xv,{size:"200",children:i}):null})]})},f=n(251230);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t,n=e.invitedPeopleIdentifiers,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],c=i[1],l=n.length,u=(0,a.ZP)(),_=(0,f.LK)(n,u);return(0,d.jsxs)(s.xu,{display:"block",paddingX:3,paddingY:4,children:[(0,d.jsxs)(s.kC,{width:"100%",children:[(0,d.jsxs)(s.xu,{flex:"grow",children:[(0,d.jsx)(s.xv,{weight:"bold",inline:!0,children:u._('Assigning permissions for: ', '[m10n]bizAccess.sendInvite.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",_]})]}),l>2&&(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.hU,{accessibilityLabel:"Expand invitees",icon:o?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:function(){c(!o)},size:"xs"})})]}),o&&(0,d.jsx)(s.xu,{paddingY:3,children:(0,d.jsx)(s.xv,{overflow:"normal",children:n.join(", ")})})]})};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t,n=e.title,i=e.children,o=e.open,c=e.level,u=(0,a.ZP)(),_=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],p=f[1],b=m?u._('Collapse', '[m10n]businesAccess.collapsableCard.collapse', 'Label for collapsing a menu'):u._('Expand', '[m10n]businesAccess.collapsableCard.expand', 'Label for expanding a menu');return(0,d.jsxs)(s.xu,{paddingX:3+4*(void 0===c?0:c),marginBottom:5,children:[(0,d.jsx)(s.st,{children:(0,d.jsx)(s.xu,{"data-test-id":"expand-collapse-button",children:(0,d.jsx)(s.iP,{onTap:function(){p(function(e){return!e})},children:(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.hU,{icon:m?"arrow-down":"arrow-forward",size:"sm",accessibilityLabel:b,iconColor:"gray"})}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.xu,{children:n})})]})})})}),m&&(0,d.jsx)(s.xu,{marginTop:5,marginStart:4,borderStyle:"lg",dangerouslySetInlineStyle:_?{__style:{borderWidth:"0"}}:{__style:{borderWidth:"0 0 0 2px"}},children:i})]})},y=function(e){var t=e.id,n=e.text,r=e.subtext,i=e.children,o=e.defaultOpen,a=e.image,c=e.level,u=void 0===c?0:c,_=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,f=(0,d.jsxs)(s.xu,{children:[(0,d.jsxs)(s.xu,{marginBottom:1,children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:n})," ",(!_||1===u)&&(0,d.jsxs)(s.xv,{inline:!0,color:"subtle",children:["(",i.length,")"]})]}),r&&(0,d.jsx)(s.xv,{size:"200",children:r})]}),m=(0,d.jsxs)(s.kC,{alignItems:"center",children:[(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.qE,{name:n,src:a,size:"sm"})}),f]});return(0,d.jsx)(b,{title:_&&a&&0===u?m:f,open:o,level:u,children:i},t)},v=n(333312),g=n(121151),A=function(e){var t=e.title,n=e.subTitle,r=e.subTitleColor,i=e.image,o=e.disabled,a=e.size;return(0,d.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:1,marginEnd:-1,children:[i&&(0,d.jsx)(s.xu,{paddingX:1,marginEnd:2,children:i}),(0,d.jsxs)(s.xu,{paddingX:1,children:[(0,d.jsx)(s.xv,{weight:"bold",color:o?"subtle":"default",size:a&&"100"===a?a:"300",children:t}),n&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{size:a&&"100"===a?a:"200",color:r||(a&&"100"!==a?"subtle":"default"),children:n})})]})]})};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.text,n=e.anchor,r=e.isOpen,i=e.idealDirectionDown;return r?(0,d.jsx)(s.mh,{children:(0,d.jsx)(s.xu,{position:"absolute",top:!0,zIndex:g.b7,children:(0,d.jsx)(s.J2,{anchor:n,idealDirection:i?"down":"right",onDismiss:function(){},size:i?"xs":"flexible",positionRelativeToAnchor:!1,color:"darkGray",children:(0,d.jsx)(s.xu,{alignItems:"center",display:"flex",padding:2,children:(0,d.jsx)(s.xv,{color:"inverse",size:"200",overflow:i?"normal":"noWrap",children:t})})})})}):null},P=function(e){var t=e.title,n=e.subTitle,i=e.isSelected,o=e.hasAccessDefined,c=e.image,l=e.isAlreadyAssigned,u=e.experience,_=e.permissionAssignmentSkipped,f=(0,a.ZP)(),m=(0,r.useRef)(null),p=(0,r.useRef)(null),h=(0,r.useRef)(),b=S((0,r.useState)(!1),2),y=b[0],g=b[1],x=S((0,r.useState)(!1),2),P=x[0],I=x[1],j=function(e){return function(){l&&("enter"===e?g(!0):g(!1))}};return(0,d.jsx)(s.xu,{marginBottom:4,children:(0,d.jsx)(s.st,{active:!l&&(!!i||void 0),onMouseEnter:j("enter"),onMouseLeave:j("leave"),children:(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsxs)(s.xu,{ref:m,display:"flex",children:[(0,d.jsx)(A,{disabled:l,title:t,subTitle:n,image:c}),(0,d.jsx)(E,{anchor:m.current,isOpen:l&&y,text:f._('Currently assigned', '[m10n]businessAccess.bizRoleUpdateCard.currentlyAssignedText', 'Currently assigned text shows when a resource/principal is already assigned')}),(0,d.jsx)(s.xu,{paddingX:1,display:"inlineBlock",ref:p}),u&&(0,d.jsx)(v.default,{anchor:p.current,experienceIds:[u.experienceId],placementId:u.placementId,idealDirection:"right",showCaret:!0})]}),(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[o&&(0,d.jsx)(s.xu,{marginEnd:2,children:(0,d.jsx)(s.JO,{icon:"check",accessibilityLabel:f._('Has roles checked', '[m10n]businessAccess.bizRoleUpdateCard.greenCheckA11yLabel', 'An accessibility label text for indicating when a resource/principal in the list already has access defined'),color:"success"})}),_&&(0,d.jsxs)(s.xu,{marginEnd:2,ref:h,children:[(0,d.jsx)(E,{anchor:h.current,text:f._('Partner permissions must be assigned to continue', '[m10n]businessAccess.bizRoleUpdateCard.partnerPermissionsNotAssigned', 'Tooltip that shows ad account permissions must be assigned to partner'),isOpen:P,idealDirectionDown:!0}),(0,d.jsx)(s.iP,{onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},children:(0,d.jsx)(s.qb,{type:"problem",accessibilityLabel:f._('has no permission selected for person', '[m10n]businessAccess.bizRoleUpdateCard.workflowStatusProblem', 'Accessibility label for permission not being assigned')})})]})]})]})})})},I=function(e){var t=e.id,n=e.text,r=e.subtext,i=e.image,o=e.disabled,a=e.selected,c=e.modified,l=e.onClick,u=e.experience,_=e.permissionAssignmentSkipped,f=(0,d.jsx)(s.xu,{paddingX:8,marginBottom:5,children:(0,d.jsx)(P,{title:n,subTitle:r,image:i?(0,d.jsx)(s.qE,{size:"sm",src:i,name:n}):void 0,isSelected:a,hasAccessDefined:c,isAlreadyAssigned:o,experience:u,permissionAssignmentSkipped:_})},t);return o?f:(0,d.jsx)(s.iP,{onTap:l,children:(0,d.jsx)(s.xu,{"data-test-id":"account-assignment-selection-".concat(t),children:f})},t)};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function e(t){var n=t.modifiedIds,s=t.selectionOptions,i=t.selectionCategories,o=t.selectedOption,a=t.setSelectedOption,c=t.level,l=void 0===c?0:c,u=i.filter(function(e){return e.level===l}),_=s.filter(function(e){return e.level===l});return u&&u.length>0&&(0,d.jsxs)(r.Fragment,{children:[u.map(function(e){return(0,r.createElement)(y,C(C({},e),{},{key:e.id,defaultOpen:1===u.length,level:l}),_.filter(function(t){return t.category===e.id}).map(function(e){return(0,r.createElement)(I,C(C({},e),{},{key:e.id,selected:e.id===o,modified:n.includes(e.id),onClick:function(){a(e.id)},level:l}))}))}),(0,d.jsx)(e,{modifiedIds:n,selectionCategories:i,selectionOptions:s,selectedOption:o,setSelectedOption:a,level:0===l?1:2})]})};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.modifiedIds,n=e.selectionCategories,i=e.filteredSelectionOptions,o=e.selectedOption,c=e.setSelectedOption,u=e.isAoaaAssignmentModal,_=void 0!==u&&u,f=(0,a.ZP)(),m=(0,(0,l.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,p=N((0,r.useState)(!1),2),h=p[0],b=p[1],v=(0,r.useMemo)(function(){return _&&i.find(function(e){return e.isPartner&&t.includes(e.id)})},[i,_,t]),g=function(e){return(0,r.createElement)(I,R(R({},e),{},{key:e.id,selected:e.id===o,modified:t.includes(e.id),onClick:function(){_&&(e.isPartner?b(!1):v||b(!0)),c(e.id)},permissionAssignmentSkipped:_&&e.isPartner&&h}))};if(_){var A=i.filter(function(e){return!0===e.isPartner}).map(g),S=i.filter(function(e){return!1===e.isPartner}).map(g);return(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xu,{marginTop:2,marginBottom:4,paddingX:8,children:(0,d.jsx)(s.xv,{weight:"bold",children:"Partner permissions"})}),A,(0,d.jsx)(s.xu,{marginTop:2,marginBottom:4,paddingX:8,children:(0,d.jsx)(s.xv,{weight:"bold",children:"Employee permissions"})}),S]})}return n&&n.length>0?n.map(function(e){var t=i.filter(function(t){return t.category==="ad-account-".concat(e.id)}).map(g),o=i.filter(function(t){return t.category==="profile-".concat(e.id)}).map(g);return(0,r.createElement)(y,R(R({},e),{},{key:e.id,defaultOpen:1===n.length}),m&&o.length>0?(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(s.xu,{marginStart:7,children:g({id:e.id,text:f._('Profile', '[m10n]bizAccess.SelectionColumn.profile', 'Text to display for the profile permissions category'),experience:e.experience})}),t.length>0&&(0,d.jsx)(y,{id:e.id,text:"Ad Accounts",level:1,children:t})]}):t)}):i.map(g)},L=function(e){var t=e.modifiedIds,n=e.searchPlaceholder,i=e.selectionOptions,o=e.selectionCategories,a=e.selectedOption,c=e.setSelectedOption,l=e.hasSelectionTreeCategories,u=e.isAoaaAssignmentModal,_=void 0!==u&&u,f=N((0,r.useState)(""),2),m=f[0],p=f[1],h=i.filter(function(e){return e.id===m||e.text.toLowerCase().includes(m.toLowerCase())||_&&e.subtext&&e.subtext.toLowerCase().includes(m.toLowerCase())}),b=void 0!==l&&l?(0,d.jsx)(w,{modifiedIds:t,selectionCategories:o||[],selectionOptions:h,selectedOption:a,setSelectedOption:c}):(0,d.jsx)(k,{modifiedIds:t,selectionCategories:o,filteredSelectionOptions:h,selectedOption:a,setSelectedOption:c,isAoaaAssignmentModal:_});return(0,d.jsxs)(s.xu,{padding:2,children:[(0,d.jsx)(s.xu,{marginBottom:5,marginStart:1,marginEnd:1,children:(0,d.jsx)(s.Um,{accessibilityLabel:n,id:"filterField",onChange:function(e){p(e.value)},placeholder:n,size:"lg"})}),(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.xu,{"data-test-id":"available-ad-accounts",children:b})})]})},B=function(e){var t=e.businessName,n=e.adAccountName,r=(0,a.ZP)();return(0,d.jsx)(s.xu,{paddingX:4,paddingY:4,children:(0,d.jsxs)(s.kC,{alignItems:"start",justifyContent:"start",direction:"row",gap:6,children:[(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xv,{weight:"bold",inline:!0,children:r._('Creating ad account for: ', '[m10n]bizAccess.aoaaPermissionAssignment.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",t]})]}),(0,d.jsxs)(s.xu,{children:[(0,d.jsx)(s.xv,{weight:"bold",inline:!0,children:r._('Assigning permissions to: ', '[m10n]bizAccess.aoaaPermissionAssignment.assignPermissions.modalHeader.text', 'Text that shows who we are inviting to join our business')}),(0,d.jsxs)(s.xv,{inline:!0,children:[" ",n]})]})]})})},U=n(822618),M=n(895409),H=n(136656),Z=n(273453);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){Y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=524,K=function(e){var t=e.modalTitle,n=e.modalAccessibilityLabel,f=e.buttonLabel,m=e.text,h=e.subtext,b=e.image,y=e.invitedPeopleIdentifiers,v=e.counterTextFunction,g=e.searchPlaceholder,A=e.selectionPlaceholder,S=e.selectionOptions,x=e.selectionCategories,E=e.hasSelectionTreeCategories,P=e.selectedOptionDetailsText,I=e.selectedOptionDetailsGetter,j=void 0===I?function(e){return{name:e.selectedOptionDetails.text}}:I,O=e.loading,C=e.footerSecondaryContent,w=e.cancelText,T=e.onDismiss,z=e.onSubmit,R=e.isAoaaAssignmentModal,N=void 0!==R&&R,D=(0,o.v)().logContextEvent,k=(0,a.ZP)(),G=(0,Z.KJ)(),F=(0,l.F)().checkExperiment,W=F("web_m10n_business_access_orbac_ga").anyEnabled,K=F("web_m10n_business_hierarchy_beta").anyEnabled,X=Q((0,r.useState)({}),2),$=X[0],ee=X[1],et=Object.keys($),en=Q((0,r.useState)(""),2),er=en[0],es=en[1],ei=S.find(function(e){return e.id===er}),eo=N&&S.find(function(e){return!0===e.isPartner})||{};if(O)return(0,d.jsx)(M.Z,{accessibilityLabel:n,primaryAction:(0,d.jsx)(s.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,d.jsx)(s.zx,{size:"lg",color:"red",text:f,disabled:!0})}),cancelText:w,hideCancelAction:N,title:t,size:"lg",children:(0,d.jsx)(s.kC,{alignItems:"stretch",direction:"column",height:600,justifyContent:"center",width:"100%",children:(0,d.jsx)(s.$j,{accessibilityLabel:(0,i.hC)(k),show:!0})})});var ea=(0,d.jsx)(_,{text:m,subtext:h,image:b,counterText:v&&v(et.length)});return y&&y.length>0?ea=(0,d.jsx)(p,{invitedPeopleIdentifiers:y||[]}):N&&(ea=(0,d.jsx)(B,{businessName:m,adAccountName:h||""})),(0,d.jsxs)(M.Z,{accessibilityLabel:n,primaryAction:(0,d.jsx)(s.xu,{"data-test-id":"ad-account-access-submit-button",children:(0,d.jsx)(s.zx,{size:"lg",color:"red",text:f,onClick:function(){z($)},disabled:N?!et.includes(eo.id):0===et.length})}),title:t,size:"lg",cancelText:w,footerSecondaryContent:C,onDismiss:T,hideCancelAction:N,children:[K&&(0,d.jsx)(s.xu,{marginBottom:4,children:(0,d.jsx)(U.Z,{oneLine:!0})}),(0,d.jsxs)(s.xu,{borderStyle:"sm",rounding:2,children:[(0,d.jsx)(s.xu,{width:"100%",borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"0 0 1px"}},children:ea}),(0,d.jsxs)(s.kC,{alignItems:"stretch",height:J,width:"100%",children:[(0,d.jsx)(s.xu,{height:"100%",flex:"grow",borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderWidth:"0 1px 0 0"}},overflow:"auto",children:(0,d.jsx)(L,{modifiedIds:et,searchPlaceholder:g,selectionOptions:S,selectionCategories:x,selectedOption:er,setSelectedOption:es,hasSelectionTreeCategories:void 0!==E&&E,isAoaaAssignmentModal:N})}),(0,d.jsx)(s.xu,{height:"100%",width:488,overflow:"auto",children:ei?(0,d.jsxs)(s.xu,{marginTop:6,marginStart:6,marginEnd:6,children:[!N&&(0,d.jsx)(s.xu,{marginBottom:3,children:(0,d.jsx)(s.xv,{weight:"bold",children:(0,c.nk)(P,j({selectedOptionDetails:ei}))})}),(!!ei.extendedSubtext||!!ei.subtext)&&(0,d.jsx)(s.xu,{marginBottom:6,children:!W&&(0,d.jsx)(s.xv,{size:"200",color:"subtle",children:ei.extendedSubtext||ei.subtext})}),(0,d.jsx)(u.Z,{assignableRoles:ei.assignableRoles,initialRoles:$[er]||[],isAoaaAssignmentModal:N,onChange:function(e){0===e.length?($[er],ee(function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}($,[er].map(V)))):ee(q(q({},$),{},Y({},er,e))),(0,H.Z)(D,{event_type:8964,component:13640,aux_data:{business_id:G,field_name:"role-picker"}})}},er)]}):(0,d.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,d.jsx)(s.xv,{weight:W?"bold":"normal",children:A})})})]})]})]})}},709992:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var r=n(326884),s=function(e){if(e.includes("OWNER")||e.includes("ADMIN"))return r.j$;var t=e.filter(function(e){return r.j$.includes(e)});return 0===t.length?["ANALYST"]:t}},895409:function(e,t,n){"use strict";var r=n(506979),s=n(908390),i=n(852260),o=n(121151),a=n(898781),c=n(273453),l=n(515198);t.Z=function(e){var t,n,u=e.accessibilityLabel,d=e.cancelText,_=e.children,f=e.footerSecondaryContent,m=e.primaryAction,p=e.size,h=e.subtitle,b=e.title,y=e.onDismiss,v=e.id,g=e.hideCancelAction,A=e.hideFooter,S=e.style,x=(0,a.ZP)(),E=(0,r.useDispatch)(),P=(0,c.HL)().clearModal,I=function(){P(),E({type:"CLEAR_ERROR"}),y&&y()},j=(0,l.jsxs)(s.xu,{children:[(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,l.jsx)(s.X6,{size:"500",accessibilityLevel:1,children:b}),(0,l.jsx)(s.hU,{accessibilityLabel:(0,i.I9)(x),icon:"cancel",iconColor:"darkGray",size:"sm",onClick:I})]}),h&&(0,l.jsx)(s.xu,{marginTop:4,children:(0,l.jsx)(s.xv,{children:h})})]}),O=(0,l.jsx)(s.xu,{as:"footer",marginStart:2,marginEnd:[null,void 0].includes(null==S?void 0:null===(t=S.footer)||void 0===t?void 0:t.marginEnd)?2:null==S?void 0:null===(n=S.footer)||void 0===n?void 0:n.marginEnd,children:(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.xu,{children:f}),(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[!(void 0!==g&&g)&&(0,l.jsx)(s.zx,{size:"lg",text:d||(0,i.I9)(x),onClick:I}),m&&(0,l.jsx)(s.xu,{marginStart:2,children:m})]})]})});return(0,l.jsx)(o.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,heading:j,footer:!A&&O,onDismiss:I,accessibilityModalLabel:u,size:p,children:(0,l.jsx)(s.xu,{marginStart:6,marginEnd:6,id:v,children:_})})}},251230:function(e,t,n){"use strict";n.d(t,{Ab:function(){return l},Ax:function(){return I},BL:function(){return d},Fd:function(){return A},Hp:function(){return b},Jl:function(){return u},LK:function(){return P},T_:function(){return c},Ty:function(){return g},Uo:function(){return y},Vl:function(){return x},ZB:function(){return E},ZE:function(){return h},dg:function(){return S},e$:function(){return _},fv:function(){return v},hu:function(){return m},li:function(){return f},ms:function(){return p},sv:function(){return o},uV:function(){return a}});var r=n(852260),s=n(349700),i=n(66699),o=function(e){return e._('Assign profile permissions', '[m10n]bizAccess.assignProfile.title', 'Title for the modal used to assign profiles')},a=function(e){return e._('Assign profile permissions modal', '[m10n]bizAccess.business.assignProfileRoles.modal', 'Accessibility label for the modal used to assign profiles')},c=function(e){return e._('Permission assignment skipped. Asset will be deleted if permission is not assigned', '[m10n]bizAccess.permissionAssignmentSkipped.accessibilityLabel', 'Accessibility label for modal used to show user skipped permission assignment when creating an asset')},l=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.sumbitLabel', 'Label for the submit button on the assign profiles modal')},u=function(e){return e._('Assign ad account permissions', '[m10n]bizAccess.assignAdAccounts.title', 'Title for the modal used to assign ad accounts to people or partners')},d=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignPermissions.title', 'Title for the modal used to assign ad accounts and profiles to people or partners')},_=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.submitLabel.new', 'Label for the submit button on the account assignment modal')},f=function(e){return e._('Assign ad account roles modal', '[m10n]bizAccess.business.assignAdAccountRoles.modal', 'accessibility label for the modal used to assign ad account roles')},m=function(e){return e._('Assign permissions', '[m10n]bizAccess.assignAdAccounts.submitLabel', 'Label for the submit button on the account assignment modal')},p=function(e){return e._('Permissions for {{name}}', '[m10n]businessAccess.resourceAssignment.accessForText', 'Shows the name of the selected resource.')},h=function(e){return e._('Success modal', '[m10n]bizAccess.modal.successLabel', 'Accessibility label for a success modal')},b=function(e){return e._('Success', '[m10n]bizAccess.modal.successTitle', 'Title for a success modal')},y=function(e,t,n,r){return t>0||n?t>0&&n?(0,s.nk)(r.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account and your profile.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts and your profile.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccountsAndProfile', 'Content in a confirmation dialog, indicating ad accounts and profile associated to partner on invite, name:invitee name, assignedAccountsCount:number of assigned accounts'),{name:e,assignedAccountsCount:t}).join(""):t>0?(0,s.nk)(r.ngettext('{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad account.', '{{ name }} has successfully been invited as a partner and assigned to {{assignedAccountsCount}} ad accounts.', t, '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.adaccounts', 'Content in a confirmation dialog, indicating ad accounts associated to partner on invite, , name:invitee name, assignedAccountsCount:number of assigned accounts'),{name:e,assignedAccountsCount:t}).join(""):n?(0,s.nk)(r._('{{ name }} has successfully been invited as a partner and assigned to your profile.', '[m10n]businessAccess.partnerRequest.successs.inviteSuccessMessage.profile', 'Content in a confirmation dialog, indicating the profile associated to partner on invite, name: invitee name'),{name:e,assignedAccountsCount:t}).join(""):"":(0,s.nk)(r._('{{ name }} has successfully been invited as a partner.', '[m10n]bizAccess.addPartner.inviteSuccessMessage', 'Content in a confirmation dialog, name: invitee name'),{name:e}).join("")},v=function(e){return e._('Access Requested', '[m10n]bizAccess.modal.requestedPartnerSuccessTitleString', 'Title for the success modal for requesting a partner')},g=function(e){return e._('Maybe later', '[m10n]bizAccess.modal.maybeLater', 'Button label for the dismiss button in an unsell dialog')},A=function(e){return e._('Close', '[m10n]bizAccess.modal.close', 'Button label for close modal button')},S=function(e,t,n){switch(e){case 2938:return t._('Sorry! To grant access to this account, you must remove an existing member.', '[m10n]bizAccess.assignment.addNewUser.error', 'Error when adding a user exceeds the number of people who can access the account.');case 2942:if(n)return(0,s.nk)(t._('You reached a limit of {{numOfAdAccounts}} ad accounts shared with this partner. To share more with them, remove access to some of their assigned ad accounts.', '[m10n]bizAccess.assignment.accountAccessExceeded.partner.error', 'Error due to assigned partner exceeding number of accounts have access to. numOfAdAccounts: maximum accounts limit'),{numOfAdAccounts:500}).join("");return(0,s.nk)(t._('You reached a limit of {{numOfAdAccounts}} ad accounts shared with this employee. To share more with them, remove access to some of their assigned ad accounts.', '[m10n]bizAccess.assignment.accountAccessExceeded.employee.error', 'Error due to assigned employee exceeding number of accounts have access to. numOfAdAccounts: maximum accounts limit'),{numOfAdAccounts:500}).join("");default:return t._('Sorry! Something went wrong.', '[m10n]businessAccess.principalAssignment.error.toast', 'Error toast informing user role assignment has failed.')}},x=function(e,t,n){switch(e){case 30:return n._('Sorry, this is not a valid business ID. Please check with your partner and try again.', '[m10n]bizAccess.sendInvite.partnerIdError', 'Error message shown below the Business ID field when adding a partner fails due to invalid Business ID');case 90:return(0,i.Z)(n.ngettext('{{ usernames }} is not a valid user. Please check and try again.', '{{ usernames }} are not valid users. Please check and try again.', t.length, '[m10n]bizAccess.sendInvite.memberError', 'Error message shown when invite input is not a valid email and is not a username corersponding to a user'),{usernames:t.join((0,r.bH)(n))});case 2751:return n._('You\'ve already added this relationship to your business. Please try again.', '[m10n]bizAccess.sendInvite.partnerIdAlreadyExists', 'Error message shown below the Business ID field when try adding a partner for the second time');case 2754:return n._('Sorry, you cannot send an invite or a request to yourself, please try a different business ID.', '[m10n]bizAccess.addPartner.selfInviteOrRequest', 'Error message shown below the Business ID field when trying to send an invite or a request to yourself');case 2768:return n._('This action cannot be taken on this invite.', '[m10n]bizAccess.invite.actionBlockedOnInvite', 'Error message when an invite is not in the correct status to perform an action');case 2769:return n._('You\'ve hit the maximum number of pending invites allowed.', '[m10n]bizAccess.sendInvite.exceedsMaxInvites', 'Error message when the user has exceeded the number of allowed invites');case 2770:return n._('This is not a valid invitation.', '[m10n]bizAccess.invite.inviteIdInvalid', 'Error message when the user tries to access an invite id that does not exist');case 2773:return n._('An invite or request has already been sent to this user. Please check your pending invites or requests to review.', '[m10n]bizAccess.sendInvite.alreadySent', 'Error when an invite to the business has already been sent');case 2930:return n._('This ad account ID is invalid', '[m10n]bizAccess.assignAsset.notAllowed', 'Error when user tries to assign invalid ad accounts IDs');case 2931:return n._('This partner has already sent you an invite or request to partner. Please check your pending invitations or requests to review it.', '[m10n]bizAccess.sendInvite.duplicateInviteOrRequest', 'Error when an invite is sent and an equivalent request already exists or vice-versa');case 2932:return n._('Business invite request invalid.', '[m10n]bizAccess.sendInvite.invalidInvite', 'Error when the invite was created with some invalid data');case 2933:return n._('Business asset access already exists.', '[m10n]bizAccess.sendInvite.assetAlreadyExist', 'Error when the invite id is to one that the user already has access');case 2936:return n._('Make sure you send invites to business accounts.', '[m10n]bizAccess.sendInvite.personalAccount', 'Error message shown to user when trying to invite a user that has a personal Pinterest account');case 2939:return n._('New accounts must wait 24 hours after they\'re created to add employees or partners', '[m10n]bizAccess.sendInvite.newAccountError', 'Error message shown when business is too new to send invites');case 2940:return n._('You reached a limit of 20 pending invites. To continue, delete some pending invites or ask employees/partners to respond to their invites.', '[m10n]bizAccess.sendInvite.pendingInviteCountExceeded', 'Error message shown when business exceeds number of pending invites allowed');case 2941:return n._('You have reached your rate limit for sending invites. Please try again later', '[m10n]bizAccess.sendInvite.guardianRateLimit', 'Error message shown when business has hit their invites rate limit');case 4064:return n._('Oops! Looks like you have already added this user as an employee.', '[m10n]bizAccess.addPartner.employeeRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already an employee');case 4065:return n._('Oops! Looks like you have already added this user as an employee.', '[m10n]bizAccess.addPartner.businessAdminRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already a business admin');case 4066:return n._('Oops! Looks like you have already added this ID as a partner.', '[m10n]bizAccess.addPartner.partnerRelationshipExists', 'Error message shown below the Business ID field when try adding a partner who is already a partner');default:return n._('Sorry, something went wrong on our end. Please try again.', '[m10n]bizAccess.sendInvite.undknowError', 'Error message shown below the Business ID field when an unexpected error occurs')}},E=function(e,t){var n,s;return t?x(null!==(n=t.code)&&void 0!==n?n:t.api_error_code,(null===(s=t.error)||void 0===s?void 0:s.objects)||[],e):(0,r.sQ)(e)},P=function(e,t){var n=e.length,r=e[0];return 2===n?r=(0,s.nk)(t._('{{invitedPersonOne}} and {{invitedPersonTwo}}', '[m10n]businessAccess.BizHub.EmployeeInviteBanner', 'Text informing user they have an invite. invitedPersonOne: First person invited. invitedPersonTwo: Second person invited.'),{invitedPersonOne:e[0],invitedPersonTwo:e[1]}).join(""):n>2&&(r=(0,s.nk)(t._('{{invitedPersonOne}}, {{invitedPersonTwo}}, and {{numberPeopleRemaining}} more', '[m10n]businessAccess.BizHub.EmployeeInviteBanner', 'Text informing user they have an invite. invitedPersonOne: First person invited. invitedPersonTwo: Second person invited. numberPeopleRemaining: Number of people truncated from invite.'),{invitedPersonOne:e[0],invitedPersonTwo:e[1],numberPeopleRemaining:n-2}).join("")),r},I=function(e){var t=e.split("[");if(t.length<=1)return[];var n=t[1].split("]");return 0===n.length?[]:n[0].replace(/\s/g,"").split(",")||[]}},462477:function(e,t,n){"use strict";var r=n(76911),s=n(506979),i=n(908390),o=n(898781),a=n(230412),c=n(515198);function l(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){return new Promise(function(t){return setTimeout(t,e)})};t.Z=function(e){var t,n=e.invoicesIds,_=(0,o.ZP)(),f=(0,s.useSelector)(a.qu).map(function(e){return{invoice_id:e.id,advertiser_id:e.advertiser.advertiser_id}}).filter(function(e){var t=e.invoice_id;return n.includes(t)}),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)("default"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=m[0],h=m[1];return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.zx,{onClick:function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t,n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h("progress"),n=encodeURIComponent(JSON.stringify(f)),e.next=6,fetch("".concat("/business/business-access/invoice_document/download_batch/","?invoices=").concat(n));case 6:return r=e.sent,e.next=9,r.blob();case 9:return s=e.sent,i=window.URL.createObjectURL(s),(o=document.createElement("a")).style.display="none",o.href=i,o.download="invoices.zip",null===(t=document.body)||void 0===t||t.appendChild(o),o.click(),window.URL.revokeObjectURL(i),h("success"),e.next=21,d(5e3);case 21:return e.prev=21,h("default"),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[0,,21,24]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){l(i,r,s,o,a,"next",e)}function a(e){l(i,r,s,o,a,"throw",e)}o(void 0)})},function(){return t.apply(this,arguments)})()},text:_._('Download', '[m10n]bizAccess.invoiceManagement.downloadButton', 'Download button text'),disabled:0===n.length||"progress"===p,size:"lg"}),"default"!==p&&(0,c.jsx)(i.mh,{children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},width:"100%",paddingX:1,position:"fixed",display:"flex",justifyContent:"center",children:(0,c.jsx)(i.FN,{type:p,text:"progress"===p?_._('Invoices downloading...', '[m10n]bizAccess.invoiceManagement.downloading', 'Downloading text'):_._('Invoices downloaded.', '[m10n]bizAccess.invoiceManagement.downloaded', 'Downloaded text')})})})]})}},399673:function(e,t,n){"use strict";n.d(t,{Kx:function(){return E},dB:function(){return O},wM:function(){return I}});var r=n(76911),s=n(599689),i=n(667731),o=n(908390),a=n(15099),c=n(151725),l=n(186656),u=n(176326),d=n(898781),_=n(773285);n(462477);var f=n(273453),m=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){v(i,r,s,o,a,"next",e)}function a(e){v(i,r,s,o,a,"throw",e)}o(void 0)})}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||S(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(){var e=(0,s.useLocation)().search;return(0,r.useMemo)(function(){return new URLSearchParams(e)},[e])}function P(e,t){var n=new Date(e),r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),"start_of_day"===t?0:23,"start_of_day"===t?0:59,"start_of_day"===t?0:59,"start_of_day"===t?0:999);return new Date(r).getTime()}function I(){var e,t,n,s,o,a=E(),l=a.getAll("adAccountIds"),u=function(e){switch(e){case"ALL":default:return"ALL";case"OPEN":return"OPEN";case"CLOSED":return"CLOSED"}}(a.get("status")),d=function(e){switch(e){case"ALL":default:return"ALL";case"INVOICE":return"INVOICE";case"CREDIT_MEMO":return"CREDIT_MEMO"}}(a.get("documentType")),f=(e=E(),t=(0,(0,_.F)().checkExperiment)("ads_billing_invoice_management_beta").anyEnabled,s=(n=function(e,t){try{var n=parseInt(e,10);return Number.isNaN(n)?t:n}catch(e){return t}})(e.get("timeRangeStart"),P((0,i.Z)((0,c.Z)(),3).getTime(),"start_of_day")),o=n(e.get("timeRangeEnd"),P((0,c.Z)().getTime(),"end_of_day")),(0,r.useMemo)(function(){return t?{startTime:s,endTime:o}:{startTime:null,endTime:null}},[t,s,o])),m={adAccountIds:l,timeRange:f,status:u,documentType:d},p=A((0,r.useState)(function(){return m}),2),h=p[0],b=p[1];return(l.length!==h.adAccountIds.length||l.some(function(e){return null==h.adAccountIds.find(function(t){return e===t})})||f.startTime!==h.timeRange.startTime||f.endTime!==h.timeRange.endTime||u!==h.status||d!==h.documentType)&&b(m),h}var j={eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",element:"BUSINESS_ACCESS_FIELD"};function O(e){return C.apply(this,arguments)}function C(){return(C=g(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ads/v4/businesses/".concat(t,"/invoice_access_advertisers"),e.next=4,(0,l.Z)({url:r,callOptions:{timeout:1e4}});case 4:if((null===(n=(s=e.sent).resource_response.data)||void 0===n?void 0:n.ad_accounts)!=null){e.next=7;break}throw Error("No response on getAvailableAdAccountIds");case 7:return i=Array.from(s.resource_response.data.ad_accounts).map(function(e){var t=e.id,n=e.name;if("string"!=typeof t||"string"!=typeof n)throw Error("Invalid response on getAvailableAdAccountIds");return{id:t,name:n}}),e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=function(){var e,t,n,i,c=(0,d.ZP)(),l=(0,a.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),u=(e=(0,f.KJ)(),n=(t=A((0,r.useState)([]),2))[0],i=t[1],(0,r.useEffect)(function(){function t(){return(t=g(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e);case 3:i(t.sent),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),i(function(){throw t.t0});case 11:case"end":return t.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),{availableAdAccounts:n,isLoading:null==n}),_=u.availableAdAccounts,p=u.isLoading,h=I().adAccountIds,v=(0,r.useMemo)(function(){return new Set(h)},[h]),S=A((0,r.useState)(""),2),x=S[0],P=S[1],C=(0,r.useMemo)(function(){return{name:c._('All', '[m10n]bizAccess.adAccounts.search', 'Tag to select all possible ad accounts on the search field'),id:"ALL"}},[c]),w=(0,r.useMemo)(function(){return{name:c._('Loading', '[m10n]bizAccess.adAccounts.search', 'Text to show when the ad accounts are loading'),id:"LOADING"}},[c]),T=h.length===_.length,z=(0,r.useMemo)(function(){if(p)return[w];if(T)return[];var e=x.length>0;return[].concat(y(e?[]:[C]),y(_.filter(function(e){var t=e.id;return!v.has(t)}).filter(function(t){return!e||t.name.toLowerCase().includes(x.toLowerCase())})))},[v,C,w,_,T,p,x]),R="invoice-header-ad-accounts",N=E(),D=(0,s.useHistory)(),k=function(e){if("clear"===e.mode&&N.delete("adAccountIds"),"add"===e.mode&&N.append("adAccountIds",e.id),"remove"===e.mode){var t=N.getAll("adAccountIds");N.delete("adAccountIds"),t.filter(function(t){return t!==e.id}).forEach(function(e){N.append("adAccountIds",e)})}"all"===e.mode&&(N.delete("adAccountIds"),_.forEach(function(e){N.append("adAccountIds",e.id)})),D.push({search:N.toString()}),l(b(b({},j),{},{elementId:R,componentId:"business-access-invoice-filters-ad-accounts"}))},L=(0,r.useRef)(null),B=A((0,r.useState)(!1),2),U=B[0],M=B[1],H=function(e){return{label:e.name,value:e.id,subtext:"ALL"!==e.id&&"LOADING"!==e.id?"ID: ".concat(e.id):void 0}};return(0,m.jsx)(o.BC,{label:c._('Ad accounts', '[m10n]bizAccess.adAccounts.search', 'Search box prompt to allow searching invoices by ad accounts ID or name'),accessibilityClearButtonLabel:c._('Clear the current value', '[m10n]bizAccess.adAccounts.search', 'Text to clear the current value of the ad accounts search field'),id:R,onChange:function(e){return P(e.value)},placeholder:U?c._('Search ad accounts', '[m10n]bizAccess.invoiceManagement.search', 'Search box prompt to allow searching invoices by ad accounts ID or name'):c._('All', '[m10n]bizAccess.adAccounts.search', 'Placeholder text to show when the user has not selected any ad account'),inputValue:x,noResultText:c._('No results for your selection', '[m10n]bizAccess.adAccounts.search', 'Text to show when the user search for an ad account that does not exist'),size:"lg",options:z.map(H),ref:L,onKeyDown:function(e){var t=e.event,n=t.keyCode,r=t.currentTarget;8===n&&0===r.selectionEnd&&k({mode:"remove",id:h[h.length-1]})},onClear:function(){return k({mode:"clear"})},onBlur:function(){P(""),M(!1)},onFocus:function(){return M(!0)},onSelect:function(e){var t=e.item;P(""),"ALL"===t.value?k({mode:"all"}):"LOADING"!==t.value&&k({mode:"add",id:t.value})},selectedOption:T||0===h.length?H(C):void 0,tags:_.filter(function(e){var t=e.id;return v.has(t)}).map(function(e){var t=e.id,n=e.name;return(0,m.jsx)(o.Vp,{accessibilityRemoveIconLabel:"Remove ".concat(n," tag"),onRemove:function(){return k({mode:"remove",id:t})},text:n},t)})})},T=function(){var e=(0,d.ZP)(),t=(0,a.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),n=I().status,r=E(),i=(0,s.useHistory)(),c=function(e){r.set("status",e),i.push({search:r.toString()}),t(b(b({},j),{},{componentId:"business-access-invoice-filters-status",elementId:"search-field"}))},l=[{label:e._('Open', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by status = open'),value:"OPEN"},{label:e._('Closed', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by status = closed'),value:"CLOSED"},{label:e._('All', '[m10n]bizAccess.invoice.filters.status', 'Select list option to select searching invoices by all type of status'),value:"ALL"}];return(0,m.jsx)(o.EI,{label:e._('Status', '[m10n]bizAccess.invoice.filters.status', 'Select list header to allow searching invoices by status (open or closed)'),id:"business-access-invoice-filters-status",onChange:function(e){c(e.value)},size:"lg",value:n,children:l.map(function(e){var t=e.label,n=e.value;return(0,m.jsx)(o.EI.Option,{label:t,value:n},n)})})},z=function(){var e=(0,d.ZP)(),t=(0,a.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),n=I().documentType,r=E(),i=(0,s.useHistory)(),c=function(e){r.set("documentType",e),i.push({search:r.toString()}),t(b(b({},j),{},{componentId:"business-access-invoice-filters-doctype",elementId:"search-field"}))},l=[{label:e._('Invoices', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by document type "Invoice"'),value:"INVOICE"},{label:e._('Credit memo', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by document type "Credit memo"'),value:"CREDIT_MEMO"},{label:e._('All', '[m10n]bizAccess.invoice.filters.docType', 'Select list option to select searching invoices by all document types'),value:"ALL"}];return(0,m.jsx)(o.EI,{label:e._('Document type', '[m10n]bizAccess.invoice.filters.docType', 'Select list header to allow searching invoices by status (open or closed)'),id:"business-access-invoice-filters-doctype",onChange:function(e){c(e.value)},size:"lg",value:n,children:l.map(function(e){var t=e.label,n=e.value;return(0,m.jsx)(o.EI.Option,{label:t,value:n},n)})})},R=function(){var e=(0,d.ZP)(),t=(0,a.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),n=(0,r.useMemo)(function(){return(0,i.Z)((0,c.Z)(),3).getTime()},[]),l=(0,r.useMemo)(function(){return(0,c.Z)().getTime()},[]),_=I().timeRange,f=_.startTime,p=_.endTime,h=E(),y=(0,s.useHistory)(),v=function(e){h.set("timeRangeStart",e.startTime.toString()),h.set("timeRangeEnd",e.endTime.toString()),y.push({search:h.toString()}),t(b(b({},j),{},{componentId:"business-access-invoice-daterange",elementId:"date-range-picker"}))};if(null===f||null===p)return null;var g=new Date(f),A=new Date(p);return(0,m.jsxs)(o.kC,{direction:"column",gap:2,children:[(0,m.jsx)(o.xv,{size:"100",children:e._('Date range', '[m10n]bizAccess.adAccounts.search', 'Search box prompt to allow searching invoices by ad accounts ID or name')}),(0,m.jsxs)(o.kC,{gap:2,children:[(0,m.jsx)(o.kC.Item,{maxWidth:180,children:(0,m.jsx)(u.Mt,{rangeStartDate:g,rangeEndDate:A,id:"invoice-search-start-date",onChange:function(e){var t,r=e.value;v({startTime:null!==(t=null==r?void 0:r.getTime())&&void 0!==t?t:n,endTime:p})},rangeSelector:"start",value:g})}),(0,m.jsx)(o.kC.Item,{maxWidth:180,children:(0,m.jsx)(u.Mt,{rangeStartDate:g,rangeEndDate:A,id:"invoice-search-end-date",onChange:function(e){var t,n=e.value;v({startTime:f,endTime:null!==(t=null==n?void 0:n.getTime())&&void 0!==t?t:l})},rangeSelector:"end",value:A})})]})]})};t.ZP=function(e){var t=e.children;return(0,(0,_.F)().checkExperiment)("ads_billing_invoice_management_beta").anyEnabled?(0,m.jsxs)(o.kC,{gap:2,width:"100%",dataTestId:"invoice-management-filters",alignItems:"end",children:[(0,m.jsx)(o.kC.Item,{flex:"grow",children:(0,m.jsx)(w,{})}),(0,m.jsx)(T,{}),(0,m.jsx)(z,{}),(0,m.jsx)(R,{}),t]}):null}},978206:function(e,t,n){"use strict";var r=n(908390),s=n(852260),i=n(898781),o=n(515198);t.Z=function(){var e=(0,i.ZP)();return(0,o.jsx)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,o.jsx)(r.$j,{accessibilityLabel:(0,s.hC)(e),show:!0})})}},912997:function(e,t,n){"use strict";n.d(t,{I:function(){return z},Z:function(){return N}});var r=n(506979),s=n(908390),i=n(852260),o=n(407043),a=n(898781),c=n(677303),l=n(121151),u=n(230412),d=n(789165),_=n(173717),f=n(761717),m=n(273453),p=n(515198),h=function(e){var t=e.field,n=e.children,i=e.onClick,o=(0,a.ZP)(),c=(0,r.useSelector)(u.fI),l=(0,r.useSelector)(u.C9)===t;return(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.iP,{onTap:function(){return i("ASCENDING"===c&&l?"DESCENDING":"ASCENDING")},children:(0,p.jsx)(s.xu,{paddingY:1,children:(0,p.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(s.xu,{flex:"grow",children:n}),l&&(0,p.jsx)(s.xu,{width:16,marginStart:2,children:(0,p.jsx)(s.JO,{accessibilityLabel:o._('Sort order', '[m10n]businessManager.bizTable.tableHeader', 'Accessibility label for button that changes table sort order'),icon:"ASCENDING"===c?"sort-ascending":"sort-descending",color:"default",size:16})})]})})})})},b=function(e){var t=e.columnDefs,n=e.config,r=e.onSortChange,i=e.id,c=(0,o.v)().logContextEvent,u=(0,m.KJ)(),b=(0,a.ZP)();return(0,p.jsx)(_.Z,{children:(0,p.jsx)(f.Z,{children:t.map(function(e,t){var o=e.minWidth,a=e.headerName,_=e.justifying,f=void 0===_?n.justifying:_,m=e.headerHeight,y=void 0===m?n.rowHeight:m,v=e.field,g=e.sortable,A=(e.initialSortOrder,e.tooltipInfo),S=void 0===A?"":A,x=e.sortField,E=e.verticalAlign,P=e.width;return(0,p.jsx)("th",{style:{borderBottom:n.borderStyle,paddingLeft:"12px",paddingRight:"12px",verticalAlign:void 0===E?"baseline":E,width:P},type:"header",children:(0,p.jsx)(s.xu,{alignItems:"center",display:"flex",height:y,justifyContent:f,paddingY:2,minWidth:o,children:g?(0,p.jsx)(h,{field:x||v,onClick:function(e){r(x||v,e),c({event_type:8968,component:(0,d.Z)(i),aux_data:{business_id:u,table_sort_direction:e,table_sort_field:x||v}})},children:(0,p.jsx)(s.xv,{size:"200",weight:"bold",children:a})}):(0,p.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,p.jsxs)(s.xu,{paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(s.xv,{size:"200",weight:"bold",children:a}),S&&S.length>0&&(0,p.jsx)(s.u,{inline:!0,text:S,zIndex:l.b7,children:(0,p.jsx)(s.xu,{paddingX:1,children:(0,p.jsx)(s.JO,{accessibilityLabel:b._('Tooltip explaining how permissions are assigned in asset groups', '[m10n]businessManager.assetGroups.tableHeader.permissionsTooltipInfo', 'Accessibility label for permissions table column definition'),color:"subtle",icon:"info-circle",inline:!0})})})]})})})},"".concat(t))})})})},y=n(76911),v=n(773285);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t,n=e.children,r=e.rowIdx,s=e.setIsHoveredProps,i=function(e){if(Array.isArray(e))return e}(t=(0,y.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1];return(0,p.jsx)("tr",{style:{backgroundColor:o&&r>=0?"var(--g-colorGray100)":"var(--color-background-default)"},onMouseEnter:function(){a(!0),s&&s(!0)},onMouseLeave:function(){a(!1),s&&s(!1)},children:n})}var S=n(38835);function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.href,n=e.isActionCell,r=e.children,i=e.columnDef,o=e.onRowClick,a=e.data,c=e.minHeight,l=e.isPermissionsCell,u=(0,p.jsx)(s.xu,{display:"flex",padding:l?1:3,minHeight:c,alignItems:"center",children:r});return t&&!n?(0,p.jsx)(s.Tg,{href:t,children:u}):a&&o&&!i.preventColumnRowClick?(0,p.jsx)(s.iP,{role:"button",onTap:function(){return o(a)},children:u}):u}var I=function(e){var t=e.rowData,n=e.columnDefs,r=e.config,i=e.customEmptyState,o=e.customEmptyText,c=e.getOnClickUrl,l=e.onRowClick,u=(0,a.ZP)(),d=(0,v.F)().checkExperiment,_=d("web_m10n_business_access_asset_groups").anyEnabled,f=d("web_business_access_quick_edit").anyEnabled,m=d("web_m10n_business_manager_ui_improvements").anyEnabled,h=o||u._('No data found', '[m10n]bizAccess.tableNoData', 'Indicates the table has no data');function b(e){var t,i=e.rowIdx,o=e.datum,a=e.href,c=e.tableRowContextValue,l=e.onRowClick,u=e.minHeight,d=function(e){if(Array.isArray(e))return e}(t=(0,y.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=d[0],f=d[1];return(0,p.jsx)(A,{rowIdx:i,setIsHoveredProps:f,children:(0,p.jsx)(S.g,{value:c,children:n.map(function(e,t){var n=e.minWidth,i=e.field,c=e.TableCellComponent,d=e.weight,f=void 0===d?r.weight:d,h=e.valueGetter,b=e.justifying,y=void 0===b?r.justifying:b,v=e.height,g=void 0===v?r.rowHeight:v,A=e.onHoverOnly,S="id"===i;return(0,p.jsx)("td",{style:{borderTop:r.borderStyle,borderBottom:r.borderStyle},type:"body",children:(0,p.jsx)(P,{href:a,isActionCell:S,columnDef:e,data:o,onRowClick:l,minHeight:u,isPermissionsCell:"permissions"===i,children:(0,p.jsx)(s.kC,{alignItems:"center",height:g,justifyContent:y,minWidth:n,width:"100%",children:(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:!_&&void 0!==A&&A?{__style:{visibility:"hidden"}}:void 0,children:(0,p.jsx)(c,{data:o,value:h?h(o,m):o,weight:f,colDef:e})})})})},"".concat(t,"-").concat(i))})})},i)}return 0===t.length?(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:n.length,style:{padding:"12px"},children:i||(0,p.jsx)(s.kC,{alignItems:"center",height:r.rowHeight,justifyContent:"center",children:(0,p.jsx)(s.xv,{align:"center",size:"200",color:"subtle",children:h})})})}):t.map(function(e,t){var i,o="",a={isUsingTableRowHref:!1};c&&(o=c(e))&&(a={isUsingTableRowHref:!0});var u=(i=n.map(function(t){var n;return(null===(n=t.getMinHeight)||void 0===n?void 0:n.call(t,e))||0}),Math.max.apply(Math,function(e){if(Array.isArray(e))return E(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||x(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())||void 0);return(_||f)&&n.find(function(e){return e.onHoverOnly})?(0,p.jsx)(b,{rowIdx:t,datum:e,href:o,tableRowContextValue:a,onRowClick:l,minHeight:u},t):(0,p.jsx)(A,{rowIdx:t,children:(0,p.jsx)(S.g,{value:a,children:n.map(function(t,n){var i=t.minWidth,a=t.field,c=t.TableCellComponent,d=t.weight,_=void 0===d?r.weight:d,f=t.valueGetter,h=t.justifying,b=void 0===h?r.justifying:h,y=t.height,v=void 0===y?r.rowHeight:y,g="id"===a;return(0,p.jsx)("td",{style:{borderTop:r.borderStyle,borderBottom:r.borderStyle},type:"body",children:(0,p.jsx)(P,{href:o,isActionCell:g,columnDef:t,data:e,onRowClick:l,minHeight:u,isPermissionsCell:"permissions"===a,children:(0,p.jsx)(s.kC,{alignItems:"center",height:v,justifyContent:b,minWidth:i,width:"100%",children:(0,p.jsx)(c,{data:e,value:f?f(e,m):e,weight:_,colDef:t})})})},"".concat(n,"-").concat(a))})})},t)})},j=n(603644),O=n(212125);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z={borderColor:"#c6c7cc",borderStyle:"1px solid #c6c7cc",rowHeight:void 0,justifying:"start",weight:"normal",debounceTimeOut:500,noDataSymbol:"",weights:{normal:"normal",bold:"bold"},columnWidths:{lg:120,md:80,sm:40}};function R(e){var t=e.id,n=e.columnDefs,c=e.rowData,l=e.onPageChange,_=e.onRowCountChange,f=e.onSortChange,h=e.isLoading,y=e.config,v=e.customEmptyState,g=e.customEmptyText,A=e.isPaginationOptional,S=e.currentPageSelector,x=e.totalCountSelector,E=e.pageSizeSelector,P=e.getOnClickUrl,C=e.onRowClick,w=(0,o.v)().logContextEvent,R=(0,a.ZP)(),N=(0,r.useSelector)(S||u.Q$),D=(0,r.useSelector)(x||u.pr),k=(0,r.useSelector)(E||u.G1),L=(0,m.KJ)(),B=!A||D>O.T[0];return(0,p.jsxs)(s.xu,{"data-test-id":"".concat(t,"-table"),width:"100%",dangerouslySetInlineStyle:{__style:{overflowX:"auto"}},children:[h?(0,p.jsx)(s.xu,{children:(0,p.jsx)(s.kC,{alignItems:"center",height:z.rowHeight,justifyContent:"center",children:(0,p.jsx)(s.$j,{show:!0,size:"md",delay:!1,accessibilityLabel:(0,i.hC)(R)})})}):(0,p.jsx)(s.xu,{children:(0,p.jsxs)("table",{className:"Table",style:{borderCollapse:"collapse",borderSize:0,width:"100%"},children:[(0,p.jsx)(b,{columnDefs:n,onSortChange:f,config:z,id:t}),(0,p.jsx)(j.Z,{children:(0,p.jsx)(I,{rowData:c,columnDefs:n,config:T(T({},z),y),customEmptyState:v,customEmptyText:g,getOnClickUrl:P,onRowClick:C})})]})}),B&&l&&!h&&(0,p.jsx)(s.xu,{paddingY:4,children:(0,p.jsx)(O.Z,{highestPageSize:50,onPaginationClick:function(e){l(e),w({event_type:8969,component:(0,d.Z)(t),aux_data:{business_id:L,table_next_page:e}})},onPerPageChange:_,page:N,perPage:k,totalCount:D})})]})}function N(e){return(0,p.jsx)(c.ZP,{name:"businessAccessTable",pageType:e.pageType,errorType:"TABLE",children:(0,p.jsx)(R,T({},e))})}},688069:function(e,t,n){"use strict";var r=n(908390),s=n(38835),i=n(515198),o=function(e){var t=e.href,n=e.onClick,o=e.children,a=(0,s.$)().isUsingTableRowHref;return n&&!a?(0,i.jsx)(r.xu,{"data-test-id":"base-name-link",children:(0,i.jsx)(r.iP,{tabIndex:-1,role:"button",onTap:n,children:o})}):t&&!a?(0,i.jsx)(r.xu,{"data-test-id":"base-name-link",children:(0,i.jsx)(r.Tg,{tabIndex:-1,href:t,children:o})}):(0,i.jsx)(r.xu,{"data-test-id":"base-name-link",children:o})},a={sm:"100",md:"200",lg:"300"};t.Z=function(e){var t=e.href,n=e.imageUrl,s=e.subtext,c=e.text,l=e.size,u=void 0===l?"md":l,d=e.imgSize,_=e.weight,f=e.tooltip,m=e.onClick;return(0,i.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",width:"100%",marginEnd:2,children:(0,i.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",rounding:1,children:[n&&(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(o,{href:t,onClick:m,children:(0,i.jsx)(r.qE,{name:c,size:d||u,src:n})})}),c&&(0,i.jsxs)(r.xu,{marginStart:n?2:void 0,display:"flex",justifyContent:"center",children:[(0,i.jsxs)(r.xu,{children:[(0,i.jsx)(r.xv,{align:"start",size:a[u],color:"default",weight:void 0===_?"bold":_,children:(0,i.jsx)(o,{href:t,onClick:m,children:c})}),s&&(0,i.jsx)(r.xv,{align:"start",size:"100",color:"subtle",children:s})]}),f]}),!c&&(0,i.jsx)(r.xv,{size:"100",color:"subtle",children:"—"})]})})}},806672:function(e,t,n){"use strict";var r=n(908390),s=n(515198);t.Z=function(e){var t=e.value,n=e.weight,i="normal"===(void 0===n?"normal":n)?"normal":"bold";return(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[t&&(0,s.jsx)(r.xv,{size:"200",weight:i,children:t}),!t&&(0,s.jsx)(r.xv,{size:"200",weight:i,color:"subtle",children:"—"})]})}},631375:function(e,t,n){"use strict";var r=n(852260),s=n(806672),i=n(912997),o=n(898708);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.field,a=void 0===n?"biz_roles":n,c=t.headerName,l=t.valueGetter,u=t.minWidth,d=void 0===u?i.I.columnWidths.md:u,_=t.width;return{field:a,headerName:c||e._('Permissions', '[m10n]bizAccess.business.people.bizRoleAccess', 'access role of user'),width:_,minWidth:d,TableCellComponent:s.Z,valueGetter:l||function(t,n){var s;return(null!==(s=t[a])&&void 0!==s?s:[]).map("roles"===a||"permissions"===a?(0,o.e6)(e,!!n):(0,o.B)(e)).join((0,r.bH)(e))},sortable:!1}}},812965:function(e,t,n){"use strict";var r=n(668040),s=n(898781),i=n(349700),o=n(688069),a=n(912997),c=n(273453),l=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t,n,a,u,d=e.data,_=e.weight,f=e.clickable,m=e.hidesAvatar,p=void 0!==m&&m,h=e.size,b=e.imgSize,y=e.onClick,v=d.asset?d.asset:{id:null!==(t=d.asset_id||d.id||d.profileId)&&void 0!==t?t:"",name:null!==(n=d.name||d.profileName)&&void 0!==n?n:"",full_name:null!==(a=d.full_name)&&void 0!==a?a:"",image_small_url:null!==(u=d.image_small_url)&&void 0!==u?u:""},g=v.id,A=v.name,S=v.full_name,x=v.image_small_url,E=(0,s.ZP)(),P=(0,c.KJ)(),I=d.asset_type&&"PROFILE"===d.asset_type,j=(0,r.Z)(I?"PROFILES_DETAIL":"AD_ACCOUNTS_DETAIL",P,g),O=(0,i.nk)(E._('ID: {{id}}', '[m10n]bizAccess.table.asset.idLabel', 'Label for asset id'),{id:g}).join("");if(I)return(0,l.jsx)(o.Z,{text:S,weight:_,size:h});var C=d.asset_type&&"PINNER_LIST"===d.asset_type&&!A;return f?(0,l.jsx)(o.Z,{href:y?"":j,subtext:O,text:A,imageUrl:p?"":x,weight:_,size:h,onClick:y?function(){return y(d)}:void 0,imgSize:b}):(0,l.jsx)(o.Z,{subtext:C?"":O,text:C?g:A,weight:_,size:h,imgSize:b,imageUrl:p?"":x})};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{weight:a.I.weights.bold,clickable:!0,size:"md"},n=t.weight,r=t.clickable,s=t.hidesAvatar,i=void 0===s||s,o=t.size,c=t.imgSize,u=t.headerName,d=t.onClick,m=t.minWidth,p=void 0===m?a.I.columnWidths.lg:m,h=t.width;return{field:"name",sortable:!0,headerName:u||e._('Asset name', '[m10n]bizAccess.business.history.assetName', 'Name of asset that was changed'),TableCellComponent:function(e){return(0,l.jsx)(f,_(_({},e),{},{clickable:r,hidesAvatar:i,size:o,imgSize:c||o||"sm",onClick:d}))},width:h,minWidth:p,isActivelySorted:!0,weight:n,getMinHeight:function(e){var t,n=(e.asset?e.asset:{id:null!==(t=e.asset_id||e.id||e.profileId)&&void 0!==t?t:""}).id;return e.asset_type&&"PROFILE"===e.asset_type||!n?void 0:54}}}},494568:function(e,t,n){"use strict";var r=n(349700),s=n(688069),i=n(912997),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t,n,i,a,c,l,u=e.i18n,d=e.data,_=e.isAoaaRequest,f=e.businessId,m=null!==(t=null!==(n=null!==(i=null===(a=d.owner)||void 0===a?void 0:a.full_name)&&void 0!==i?i:null===(c=d.owner_business)||void 0===c?void 0:c.full_name)&&void 0!==n?n:d.profileOwnerName)&&void 0!==t?t:"",p=_&&d.owner_business&&d.owner_business.id===f||d.client_business&&d.client_business.id!==f?(0,r.nk)(u._('Advertising for {{client_business_name}}', '[m10n]bizAccess.adAccountsTable.owner.clientBusinessName', 'client_business_name: Client business for agency owned ad account'),{client_business_name:null===(l=d.client_business)||void 0===l?void 0:l.full_name}).join(""):"";return(0,o.jsx)(s.Z,{text:m,subtext:p,size:"md",weight:"normal"})};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isAoaaRequest:!1},n=t.isAoaaRequest,r=t.businessId;return{field:"owner",headerName:e._('Owner name', '[m10n]bizAccess.business.ad_accounts.owner', 'Table column title to indicate name of the owning business of the associated ad account in this row'),TableCellComponent:function(t){return(0,o.jsx)(u,l(l({},t),{},{i18n:e,isAoaaRequest:n,businessId:r}))},minWidth:i.I.columnWidths.md,getMinHeight:function(e){return n&&e.owner_business&&e.owner_business.id===r||e.client_business&&e.client_business.id!==r?54:void 0}}}},155944:function(e,t,n){"use strict";var r=n(908390),s=n(326884),i=n(668040),o=n(349700),a=n(688069),c=n(912997),l=n(273453),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=e.i18n,n=e.imgSize,s=e.type,c=e.data,d=e.hidesAvatar,_=void 0!==d&&d,f=e.showDescriptor,m=void 0!==f&&f,p=e.onClick,h=e.clickable,b=e.valueGetter,y=b?b(c):c,v=y.is_pin_support_user,g=y.is_shared_partner,A=y.user,S=A.id,x=A.email,E=A.full_name,P=A.image_medium_url,I=A.image_small_url,j=(0,l.KJ)(),O=(0,u.jsx)(r.u,{inline:!0,text:t._('A team member at Pinterest is supporting your account', '[m10n]businessaccess.dashboard.businessmanagers.pinterestSupport.description', 'Description of Pinterest Support user'),children:(0,u.jsx)(r.xu,{paddingX:2,children:(0,u.jsx)(r.JO,{accessibilityLabel:"Pinterest Support description",color:"subtle",icon:"info-circle",inline:!0})})}),C="PEOPLE_DETAIL";"PEOPLE"!==s&&(C=g?"SHARED_PARTNERS_DETAIL":"PARTNERS_DETAIL");var w=(0,i.Z)(C,j,S),T="PARTNER"===s,z=T?S:x,R=T?(0,o.nk)(t._('Business ID: {{ id }}', '[m10n]table.cell.name.id', 'Subtext of a table cell displaying the BusinessID. id: is the business id that will be displayed'),{id:S}).join(""):(0,o.nk)(t._('Email: {{ email }}', '[m10n]table.cell.name.email', 'Subtext of a table cell displaying an email. email: is the email that will be displayed'),{email:x}).join("");return void 0===h||h?(0,u.jsx)(a.Z,{text:E,imageUrl:_?"":P||I,subtext:m?R:z,href:p?"":w,tooltip:v?O:"",onClick:p?function(){return p(y)}:void 0,imgSize:n}):(0,u.jsx)(a.Z,{text:E,imageUrl:_?"":P||I,subtext:m?R:z,tooltip:v?O:"",imgSize:n})}t.Z=function(e,t){var n=t.headerName,r=t.imgSize,i=t.type,o=t.hidesAvatar,a=void 0!==o&&o,l=t.showDescriptor,d=void 0!==l&&l,_=t.onClick,p=t.clickable,h=void 0===p||p,b=t.sortField,y=t.valueGetter;return{field:"full_name",headerName:n||e._('Name', '[m10n]bizAccess.business.people.name', 'name of business user'),TableCellComponent:function(t){return(0,u.jsx)(m,f(f({},t),{},{i18n:e,imgSize:r||"sm",type:i,hidesAvatar:a,showDescriptor:d,onClick:_,clickable:h,valueGetter:y}))},minWidth:c.I.columnWidths.lg,sortable:!0,initialSortOrder:s.IR.ASCENDING,isActivelyStored:!0,getMinHeight:function(){return 54},sortField:b}}},328930:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(326884),s=n(852260),i=n(76911),o=n(506979),a=n(908390),c=n(15099),l=n(121151),u=n(499128),d=n(898781),_=n(251819),f=n(773285),m=n(343341),p=n(42572),h=n(709992),b=n(912781),y=n(823010),v=n(904202),g=n(617126),A=(0,v.P1)(g.Z,function(e){return e.updatePermissions}),S=(0,v.P1)(A,function(e){return e.loading}),x=(0,v.P1)(A,function(e){return e.error}),E=(0,v.P1)(A,function(e){var t=e.previousPermissions;return null!=t?t:{}}),P=(0,v.P1)(A,function(e){var t=e.selectedId;return null!=t?t:""}),I=n(898708),j=n(273453),O=n(515198);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=e.data,n=e.setUserPermission,v=e.selectedPermissionsMap,g=e.pageType,A=e.businessAssetRoles,z=e.isLoading,R=e.error,N=e.shouldShowToast,D=e.setShouldShowToast,k=e.setShouldReloadTable,L=e.shouldHideConfirmationToast,B=e.isAddingUser,U=(0,o.useDispatch)(),M="PARTNERS_DETAIL"===g,H="PEOPLE_DETAIL"===g,Z="ASSET_GROUPS"===g,G="AD_ACCOUNTS_DETAIL"===g,F=H||G&&A,q=(0,j.KJ)(),Y=H||M?t.asset_id:t.id,V=M&&q!==t.created_by.id,Q=(0,j.nU)(),W=(0,o.useSelector)(P),J=(0,o.useSelector)(S),K=(0,o.useSelector)(y.$1),X=z||J||K,$=(0,o.useSelector)(x),ee=R||$,et=(0,(0,f.F)().checkExperiment)("web_m10n_business_manager_ui_improvements").anyEnabled,en=(0,c.ZP)("PENDING_AD_ACCOUNTS_DETAIL"===g?"BUSINESS_ACCESS_AD_ACCOUNT_EMPLOYEES":(0,c.QK)(g)),er=C((0,i.useState)(!1),2),es=er[0],ei=er[1],eo=C((0,i.useState)(!1),2),ea=eo[0],ec=eo[1],el=C((0,i.useState)(!1),2),eu=el[0],ed=el[1],e_=v[Y]||[r.gO.ADMIN],ef=(0,o.useSelector)(E),em=C((0,i.useState)(e_),2),ep=em[0],eh=em[1],eb=(0,d.ZP)(),ey=(0,m.F9)(),ev=ey.showToast,eg=ey.showOneToast,eA=G?Q:Y,eS=A&&A[eA]||[],ex=F?(0,h.u)(eS):r.j$,eE=!ex.includes("ADMIN"),eP={popoverLabel:eb._('Permissions selector', '[m10n] businessAccess.permissions.cell.popover', 'accessibility label of popover'),arrowLabel:eb._('Drop-down arrow icon', '[m10n] businessAccess.permissions.cell.dropdownArrow', 'accessibility label of permissions dropdown'),fullAccessLabel:eb._('Full access', '[m10n] businessAccess.permissions.cell.fullAccessLabel', 'label of full access field set'),partialAccessLabel:eb._('Partial access', '[m10n] businessAccess.permissions.cell.partialAccessLabel', 'label of full access field set'),additionalInfoLabel:eb._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips'),adminTooltip:eb._('Can create or edit anything in the ad account such as campaigns, spend limits, bids, budgets, audiences and more', '[m10n] businessAccess.permissions.cell.adminTooltip', 'Text of admin tooltip'),analystTooltip:eb._('Can only view ad account data to create reports', '[m10n] businessAccess.permissions.cell.analystTooltip', 'Text of analyst tooltip'),financeTooltip:eb._('Can edit billing information', '[m10n] businessAccess.permissions.cell.financeTooltip', 'Text of finance tooltip'),audienceTooltip:eb._('Can create or edit audiences and view existing Pinterest tags', '[m10n] businessAccess.permissions.cell.audienceTooltip', 'Text of audience tooltip'),campaignTooltip:eb._('Can create and edit campaigns, ad groups and Promoted Pins, pull reports, and create and delete Pins on protected boards for promotion purposes', '[m10n] businessAccess.permissions.cell.campaignTooltip', 'Text of campaign tooltip'),catalogsTooltip:eb._('Can create and edit data source and product group information', '[m10n] businessAccess.permissions.cell.catalogsTooltip', 'Text of catalogs tooltip')},eI=(0,I.e6)(eb,et);"ASSET_GROUPS"!==g||0!==Object.keys(v).length&&v[Y]||n(Y,[r.gO.ANALYST]);var ej=(0,i.useRef)(null),eO=ep.map(eI).join((0,s.bH)(eb));function eC(e,t){var n;eh(e===r.gO.ADMIN&&t?[r.gO.ADMIN]:ep.includes(e)?ep.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return T(e)}(ep)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ep)||w(ep)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e])),ed(!0)}var ew=function(){return es?{text:"light",background:"dark"}:ea?{text:"dark",background:"secondary"}:{text:"dark",background:"light"}};function eT(){eu&&(ep.length>0?(B||(U((0,b.Au)({id:Y})),U((0,b.jE)({previousPermissions:v}))),n(Y,ep),en({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"quick-edit-permission-dropdown",element:"BUSINESS_ACCESS_FIELD",elementId:"quick-edit-cell-close"}),null==k||k(!1),null==D||D({permissionsUpdateToast:!0})):(Z||ev(function(e){var t=e.hideToast;return(0,O.jsx)(u.ZP,{type:"error",duration:r.QE,onHide:t,text:eb._('At least one permission must be assigned', '[m10n] businessAccess.assignPermissionsCell.noSelectedPermissions.errorToast', 'Error toast explaining that you must select at least one permission')})}),eh(e_)))}return((0,i.useEffect)(function(){(null!=N&&N.permissionsUpdateToast||null!=N&&N.errorToastOnly)&&!X&&(null==k||k(!0),function(e){if(e&&!(0,_.Z)(e))ev(function(e){var t=e.hideToast;return(0,O.jsx)(u.ZP,{duration:r.QE,onHide:t,type:"error",text:(0,s.sQ)(eb)})});else{if(L||null!=N&&N.errorToastOnly)return;eg(function(e){var t=e.hideToast;return(0,O.jsx)(p.Z,{onHide:t,primaryAction:{accessibilityLabel:eb._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Accessbility label for Undo action on toast after updating permission'),label:eb._('Undo', '[m10n] businessAccess.assignPermissionsCell.toast.undo.accessibilityLabel', 'Undo action on toast after updating permission'),onClick:function(){ef&&ef[W]&&ef[W].length>0&&(n(W,ef[W]),null==k||k(!1),null==D||D({permissionsUpdateToast:!1,errorToastOnly:!0}))}}})})}}(ee),null==D||D({permissionsUpdateToast:!1}))},[N,X]),V)?(0,O.jsx)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",width:"100%",children:(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-cell-disabled-".concat(Y),children:(0,O.jsx)(a.u,{text:eb._('You may not edit the permissions assigned to you by your partner', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditInfo', 'Tooltip explaining that you cannot edit permissions assigned to you by a partner business'),accessibilityLabel:eb._('Tooltip explaining you not edit the permissions assigned to you by your partner', '[m10n] businessAccess.permissions.cell.sharedAdAccount.noEditInfo.accessibility', 'Tooltip accessibility label explaining that you cannot edit permissions assigned to you by a partner business'),children:(0,O.jsx)(a.xu,{color:ea?"secondary":"transparent",width:240,height:44,rounding:2,onMouseEnter:function(){return ec(!0)},onMouseLeave:function(){return ec(!1)},children:(0,O.jsx)(a.kC,{direction:"column",justifyContent:"center",height:"100%",children:(0,O.jsx)(a.xu,{padding:2,children:(0,O.jsxs)(a.kC,{direction:"row",justifyContent:"between",alignItems:"center",height:"100%",children:[(0,O.jsx)(a.xv,{size:"200",color:ew().text,children:eO}),(0,O.jsx)(a.xu,{marginEnd:1,children:ea&&(0,O.jsx)(a.JO,{inline:!0,icon:"report",accessibilityLabel:eb._('Report icon', 'businessAccess.permissions.cell.sharedAdAccount.noEditInfo.reportIcon.accessibilityLabel', 'Accessibility label for report icon button'),color:ew().text,size:12})})]})})})})})})}):X&&Y===W&&!B?(0,O.jsx)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",width:240,children:(0,O.jsx)(a.$j,{show:!0,size:"md",delay:!1,accessibilityLabel:(0,s.hC)(eb)})}):(0,O.jsxs)(a.xu,{children:[(0,O.jsx)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",width:"100%",children:(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-cell-".concat(Y),children:(0,O.jsx)(a.iP,{onTap:function(){es&&eT(),ei(!es)},ref:ej,onMouseEnter:function(){return ec(!0)},onMouseLeave:function(){return ec(!1)},children:(0,O.jsx)(a.xu,{color:ew().background,width:240,height:44,rounding:2,children:(0,O.jsx)(a.kC,{direction:"column",justifyContent:"center",height:"100%",children:(0,O.jsx)(a.xu,{padding:2,children:(0,O.jsxs)(a.kC,{direction:"row",justifyContent:"between",alignItems:"center",height:"100%",children:[(0,O.jsx)(a.xv,{size:"200",color:ew().text,children:eO}),(0,O.jsx)(a.xu,{marginEnd:1,children:(0,O.jsx)(a.JO,{icon:"arrow-down",color:ew().text,size:12,accessibilityLabel:eP.arrowLabel,inline:!0})})]})})})})})})}),es&&(0,O.jsx)(a.mh,{zIndex:l.b7,children:(0,O.jsx)(a.J2,{accessibilityLabel:eP.popoverLabel,anchor:ej.current,id:"permission-selector",idealDirection:"down",onDismiss:function(){eT(),ei(!1)},positionRelativeToAnchor:!1,size:"xl",children:(0,O.jsxs)(a.xu,{flex:"grow",padding:4,width:240,children:[eE&&(0,O.jsx)(a.pg,{legend:"You have limited access to this asset",children:(0,O.jsx)(a.xu,{paddingY:1})}),(0,O.jsxs)(a.kC,{direction:"column",gap:{column:4,row:0},children:[(0,O.jsx)(a.pg,{legend:eP.fullAccessLabel,children:(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-admin",children:(0,O.jsx)(a.XZ,{id:r.gO.ADMIN,label:eI(r.gO.ADMIN),onChange:function(e){var t=e.checked;return eC(r.gO.ADMIN,t)},disabled:!ex.includes(r.gO.ADMIN),checked:ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.adminTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]})}),(0,O.jsx)(a.pg,{legend:"Partial access",children:(0,O.jsxs)(a.kC,{direction:"column",gap:2,children:[(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-analyst",children:(0,O.jsx)(a.XZ,{id:r.gO.ANALYST,label:eI(r.gO.ANALYST),onChange:function(e){var t=e.checked;return eC(r.gO.ANALYST,t)},disabled:!ex.includes(r.gO.ANALYST)||ep.includes(r.gO.ADMIN),checked:ep.includes(r.gO.ANALYST)||ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.analystTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]}),(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-finance",children:(0,O.jsx)(a.XZ,{id:r.gO.FINANCE_MANAGER,label:eI(r.gO.FINANCE_MANAGER),onChange:function(e){var t=e.checked;return eC(r.gO.FINANCE_MANAGER,t)},disabled:!ex.includes(r.gO.FINANCE_MANAGER)||ep.includes(r.gO.ADMIN),checked:ep.includes(r.gO.FINANCE_MANAGER)||ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.financeTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]}),(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-audience",children:(0,O.jsx)(a.XZ,{id:r.gO.AUDIENCE_MANAGER,label:eI(r.gO.AUDIENCE_MANAGER),onChange:function(e){var t=e.checked;return eC(r.gO.AUDIENCE_MANAGER,t)},disabled:!ex.includes(r.gO.AUDIENCE_MANAGER)||ep.includes(r.gO.ADMIN),checked:ep.includes(r.gO.AUDIENCE_MANAGER)||ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.audienceTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]}),(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-campaign",children:(0,O.jsx)(a.XZ,{id:r.gO.CAMPAIGN_MANAGER,label:eI(r.gO.CAMPAIGN_MANAGER),onChange:function(e){var t=e.checked;return eC(r.gO.CAMPAIGN_MANAGER,t)},disabled:!ex.includes(r.gO.CAMPAIGN_MANAGER)||ep.includes(r.gO.ADMIN),checked:ep.includes(r.gO.CAMPAIGN_MANAGER)||ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.campaignTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]}),(0,O.jsxs)(a.kC,{justifyContent:"between",children:[(0,O.jsx)(a.xu,{"data-test-id":"quick-edit-role-selection-catalogs",children:(0,O.jsx)(a.XZ,{id:r.gO.CATALOGS_MANAGER,label:eI(r.gO.CATALOGS_MANAGER),onChange:function(e){var t=e.checked;return eC(r.gO.CATALOGS_MANAGER,t)},disabled:!ex.includes(r.gO.CATALOGS_MANAGER)||ep.includes(r.gO.ADMIN),checked:ep.includes(r.gO.CATALOGS_MANAGER)||ep.includes(r.gO.ADMIN)})}),(0,O.jsx)(a.u,{text:eP.catalogsTooltip,zIndex:l.b7,children:(0,O.jsx)(a.hU,{accessibilityLabel:eP.additionalInfoLabel,bgColor:"white",icon:"info-circle",iconColor:"gray",size:"xs",padding:1})})]})]})})]})]})})})]})},R=n(912997),N=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ASSET_GROUPS",o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,_=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],m=arguments.length>12?arguments[12]:void 0;return{field:"permissions",headerName:m||e._('Permissions', '[m10n]bizAccess.business.assetGroup.permission', 'employee permission'),minWidth:R.I.columnWidths.md,TableCellComponent:function(e){var r=e.data;return(0,O.jsx)(z,{data:r,setUserPermission:t,selectedPermissionsMap:n,pageType:i,businessAssetRoles:o,isLoading:a,error:c,shouldShowToast:l,setShouldShowToast:u,shouldHideConfirmationToast:_,setShouldReloadTable:d,isAddingUser:f})},sortable:!1,initialSortOrder:r.IR.ASCENDING,isActivelySorted:!1,tooltipInfo:"ASSET_GROUPS"===i?(0,s.w9)(e):""}}},988811:function(e,t,n){"use strict";var r=n(806672),s=n(912997),i=n(898708);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isAOAAAdAcccount:!1,inAssetsApiMigration:!1},n=t.isAOAAAdAcccount,o=t.inAssetsApiMigration;return{field:"roles",headerName:e._('Permission', '[m10n]bizAccess.profile.permission', 'Permission level of user'),minWidth:s.I.columnWidths.md,TableCellComponent:r.Z,sortable:!0,valueGetter:n?function(t,n){return(t.permissions||[]).map(function(t){return(0,i.e6)(e,!!n)(t)}).join(", ")}:function(t){return(o?t.permissions||[]:t.roles||[]).map(function(t){return"OWNER"===t?e._('Owner', '[m10n]bizAccess.profile.permissionLevel', 'Permission level for owner'):"PROFILE_PUBLISHER"===t?e._('Publisher', '[m10n]bizAccess.profile.permissionLevel', 'Permission level for manager'):e._('Unknown', '[m10n]bizAccess.profile.permissionLevel', 'Permissions unknown')}).join(", ")}}}},456268:function(e,t,n){"use strict";var r=n(326884),s=n(852260),i=n(806672),o=n(912997),a=n(898708);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.field,c=void 0===n?"biz_roles":n;return{field:c,headerName:e._('Role', '[m10n]bizAccess.business.people.bizRole', 'business role of user'),minWidth:o.I.columnWidths.md,TableCellComponent:i.Z,valueGetter:function(t,n){return(t[c]||[]).map("roles"===c?(0,a.e6)(e,!!n):(0,a.B)(e)).join((0,s.bH)(e))},sortable:!0,initialSortOrder:r.IR.ASCENDING,isActivelySorted:!1}}},38835:function(e,t,n){"use strict";n.d(t,{$:function(){return i},g:function(){return s}});var r=(0,n(425288).Z)("TableRowContext",{isUsingTableRowHref:!1}),s=r.Provider,i=r.useHook},989721:function(e,t,n){"use strict";n.d(t,{Br:function(){return g},Fd:function(){return m},Q3:function(){return y},ZD:function(){return v},cE:function(){return p},fc:function(){return b},yX:function(){return h}});var r=n(326884),s=n(165544),i=n(433835),o=n(230412);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["asset_id"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){_(i,r,s,o,a,"next",e)}function a(e){_(i,r,s,o,a,"throw",e)}o(void 0)})}}var m=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n){var r,s,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.adAccountId,!(!r&&!s)){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_AD_ACCOUNT"}),t.prev=4,t.next=7,(0,i.G2)({businessId:r,assetId:s,resourceType:"AD_ACCOUNT",includeAssetSummary:!0});case 7:n({type:"GET_AD_ACCOUNT_SUCCESS",payload:{data:d({},a=(o=t.sent.data.data).asset_id,u({id:a},function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(o,c)))}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n({type:"GET_AD_ACCOUNT_ERROR",error:t.t0});case 17:case"end":return t.stop()}},t,null,[[4,14]])})),function(e){return t.apply(this,arguments)}},p=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n,r){var a,c,l,d,_,f,m,p,h,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return l=(0,o.MG)(a),d=(0,s.IW)(e,l),_=u(u(u({id:c},l),e),{},{startIndex:d},0===d&&{page:1}),n({type:"GET_MULTIPLE_AD_ACCOUNTS"}),t.prev=8,t.next=11,(0,i.cE)(u({},_));case 11:(p=void 0===(m=(f=void 0===(f=t.sent.data)?{}:f).data)?[]:m,h=f.total_data_count,y=(b=(0,s.Ah)(function(e){return e.asset_id},p)).ids,v=b.data,e.updateTotalCountOnly)?n({type:"UPDATE_AD_ACCOUNTS_TOTAL_COUNT",payload:{totalCount:h}}):n({type:"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS",payload:u(u({},_),{},{ids:y,data:v,totalCount:h})}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n({type:"GET_MULTIPLE_AD_ACCOUNTS_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[8,19]])})),function(e,n){return t.apply(this,arguments)}},h=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n,r){var a,c,l,d,_,f,m,p,h,b,y,v,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=e.businessId,l=e.detailId,!(!c&&!l)){t.next=4;break}return t.abrupt("return");case 4:return d=(0,o.MG)(a),_=(0,s.IW)(e,d),f=u(u(u({businessId:c,assetId:l},d),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_AD_ACCOUNTS_PARTNERS"}),t.prev=8,t.next=11,(0,i.N1)(f);case 11:h=void 0===(p=(m=void 0===(m=t.sent.data)?{}:m).data)?[]:p,b=m.total_data_count,v=(y=(0,s.Ah)(function(e){return e.id},h)).ids,g=y.data,n({type:"GET_AD_ACCOUNTS_PARTNERS_SUCCESS",payload:u(u({},f),{},{ids:v,data:g,totalCount:b})}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n({type:"GET_AD_ACCOUNTS_PARTNERS_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[8,19]])})),function(e,n){return t.apply(this,arguments)}},b=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n,r){var a,c,l,d,_,f,m,p,h,b,y,v,g,A,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),l=e.businessId,d=e.detailId,!(!l&&!d)){t.next=4;break}return t.abrupt("return");case 4:return _=(0,o.MG)(c),f=(0,s.IW)(e,_),m=null!==(a=e.sortBy)&&void 0!==a?a:["name","permissions"].includes(_.sortBy)?_.sortBy:"name",p=u(u(u({businessId:l,assetId:d},_),e),{},{startIndex:f,sortBy:m},0===f&&{page:1}),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS"}),t.prev=9,t.next=12,(0,i.fc)(u({},p));case 12:return A=(g=(null==(v=t.sent)?void 0:null===(h=v.data)||void 0===h?void 0:h.data)||[]).map(function(e){return e.asset_id}),t.next=17,(0,i.pI)({assetIds:A,businessId:p.businessId,resourceType:"ASSET_GROUP",limit:p.limit});case 17:x=(null==(S=t.sent)?void 0:null===(b=S.data)||void 0===b?void 0:b.data)||{},E=g.reduce(function(e,t){return e[t.asset_id]=u(u(u({},t),x[t.asset_id]),x[t.asset_id].asset),e},{}),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS",payload:u({ids:Object.keys(E),data:E,totalCount:null==v?void 0:null===(y=v.data)||void 0===y?void 0:y.total_data_count},p)}),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(9),n({type:"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR",error:t.t0});case 26:case"end":return t.stop()}},t,null,[[9,23]])})),function(e,n){return t.apply(this,arguments)}},y=function(e){var t;return t=f(regeneratorRuntime.mark(function t(n,r){var a,c,l,d,_,f,m,p,h,b,y,v,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=e.businessId,l=e.detailId,!(!c&&!l)){t.next=4;break}return t.abrupt("return");case 4:return d=(0,o.MG)(a),_=(0,s.IW)(e,d),f=u(u(u({businessId:c,assetId:l},d),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_AD_ACCOUNTS_PEOPLE"}),t.prev=8,t.next=11,(0,i.BG)(f);case 11:h=void 0===(p=(m=void 0===(m=t.sent.data)?{}:m).data)?[]:p,b=m.total_data_count,v=(y=(0,s.Ah)(function(e){return e.id},h)).ids,g=y.data,n({type:"GET_AD_ACCOUNTS_PEOPLE_SUCCESS",payload:u(u({},f),{},{ids:v,data:g,totalCount:b})}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n({type:"GET_AD_ACCOUNTS_PEOPLE_ERROR",error:t.t0});case 22:case"end":return t.stop()}},t,null,[[8,19]])})),function(e,n){return t.apply(this,arguments)}},v=function(e,t){return function(n){var s=t.businessId,i=t.detailId;if(s||i){if(n(m({businessId:s,adAccountId:i})),"EMPLOYEES"===e){n(y(u(u({},t.reloadBugFix&&r.vk),{},{sortBy:"full_name",sortDirection:r.IR.ASCENDING,businessId:s,detailId:i})));return}"PARTNERS"===e&&n(h({sortBy:"full_name",sortDirection:r.IR.ASCENDING,businessId:s,detailId:i}))}}},g=function(e){var t,n=e.businessId,r=e.detailId,s=e.businessHierarchyNodeId,o=e.ownerBusinessId,a=e.agencyBusinessId,c=e.accountName,l=e.country,u=e.tosId,d=e.onSuccess,_=e.onFailure;return t=f(regeneratorRuntime.mark(function e(t){var f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_AD_ACCOUNTS"}),e.prev=1,e.next=4,(0,i.W3)(o,a,s,c,l,u);case 4:return f=e.sent,d&&d(f),t(m({businessId:null!=a?a:o,adAccountId:f.id})),t({type:"CREATE_AD_ACCOUNTS_SUCCESS"}),t(p({businessId:n,detailId:r})),e.abrupt("return");case 12:throw e.prev=12,e.t0=e.catch(1),t({type:"CREATE_AD_ACCOUNTS_ERROR",error:e.t0}),_&&_(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[1,12]])})),function(e){return t.apply(this,arguments)}}},445617:function(e,t,n){"use strict";n.d(t,{SA:function(){return d},vm:function(){return u}});var r=n(977130);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var r;return(r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){c(i,r,s,o,a,"next",e)}function a(e){c(i,r,s,o,a,"throw",e)}o(void 0)})}}var u=function(e){var t,n=e.businessId,s=e.partnerId,i=e.requestIds,c=e.statuses,u=void 0===c?["PENDING"]:c,d=e.updateDataOnly,_=void 0===d||d,f=e.updateDetailPageVisibleData,m=void 0!==f&&f;return t=l(regeneratorRuntime.mark(function e(t){var c,l,d,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={businessId:n,partnerId:s,requestIds:i,statuses:u},t({type:"GET_AOAA_REQUESTS"}),e.prev=2,e.next=5,(0,r.vm)(c);case 5:f=void 0===(d=(l=void 0===(l=e.sent.data)?{}:l).data)?[]:d,p=l.total_data_count,t({type:"GET_AOAA_REQUESTS_SUCCESS",payload:{ids:(h=f.reduce(function(e,t){return m?t.permissions.forEach(function(t){e.ids.push(Object.keys(t)[0])}):e.ids.push(t.request_id),e.data=o(o({},e.data),{},a({},t.request_id,t)),e},{ids:[],data:{}})).ids,data:h.data,totalCount:p,updateDataOnly:_}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t({type:"GET_AOAA_REQUESTS_ERROR",error:e.t0});case 16:case"end":return e.stop()}},e,null,[[2,13]])})),function(e){return t.apply(this,arguments)}},d=function(e){var t,n=e.businessId,s=e.partnerId,i=e.requestId,a=e.status,c=e.businessIdToPermissions;return t=l(regeneratorRuntime.mark(function e(t){var l,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={businessId:n,partnerId:s,requestId:i,status:a,businessIdToPermissions:c},t({type:"UPDATE_AOAA_REQUEST"}),e.prev=2,e.next=5,(0,r.SA)(l);case 5:d=(u=void 0===(u=e.sent.response)?{}:u).data,_=u.total_data_count,t({type:"UPDATE_AOAA_REQUEST_SUCCESS",payload:o(o({},l),{},{data:d,totalCount:_})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:"UPDATE_AOAA_REQUEST_ERROR",error:e.t0});case 15:case"end":return e.stop()}},e,null,[[2,12]])})),function(e){return t.apply(this,arguments)}}},479267:function(e,t,n){"use strict";n.d(t,{Cq:function(){return g},FL:function(){return x},NQ:function(){return v},RE:function(){return P},Ro:function(){return E},Yd:function(){return p},aj:function(){return h},dQ:function(){return A},lo:function(){return y},uK:function(){return S},wh:function(){return b}});var r=n(326884),s=n(165544),i=n(433835),o=n(299466),a=n(49428),c=n(76041),l=n(619357);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){f(i,r,s,o,a,"next",e)}function a(e){f(i,r,s,o,a,"throw",e)}o(void 0)})}}var p=Object.freeze({OTHER:"OTHER",BRAND:"BRAND",LOCATION_OR_LANGUAGE:"LOCATION_OR_LANGUAGE",PRODUCT_LINE:"PRODUCT_LINE"}),h=function(e){var t,n=e.businessId,r=e.assetGroupId,s=e.employeeId,i=e.newPermissions,a=e.businessHierarchyNodeId;return t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP"}),e.prev=1,e.next=4,(0,o.AY)({businessId:n,assetGroupId:r,employeeId:s,permissions:i,businessHierarchyNodeId:a});case 4:t({type:"UPDATE_EMPLOYEE_PERMISSION_ASSET_GROUP_SUCCESS",payload:{data:{businessId:n,assetGroupId:r,employeeId:s,newPermissions:i}}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP_ERROR",error:e.t0});case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(e){return t.apply(this,arguments)}},b=function(e){var t,n=e.businessId,r=e.assetGroupId,s=e.partnerId,i=e.newPermissions,a=e.businessHierarchyNodeId;return t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP"}),e.prev=1,e.next=4,(0,o.i8)({businessId:n,assetGroupId:r,partnerId:s,permissions:i,businessHierarchyNodeId:a});case 4:t({type:"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_SUCCESS",payload:{data:{businessId:n,assetGroupId:r,partnerId:s,newPermissions:i}}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_ERROR",error:e.t0});case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(e){return t.apply(this,arguments)}},y=function(e){var t,n=e.businessId;return t=m(regeneratorRuntime.mark(function e(t){var s,a,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_ASSET_GROUPS"}),e.prev=1,e.next=4,(0,o.lo)({businessId:n});case 4:return a=e.sent.map(function(e){return e.asset_id}),e.next=8,(0,i.pI)({assetIds:a,businessId:n,resourceType:"ASSET_GROUP",limit:r.xX});case 8:l=(null==(c=e.sent)?void 0:null===(s=c.data)||void 0===s?void 0:s.data)||{},t({type:"GET_ASSET_GROUPS_SUCCESS",payload:{data:a.map(function(e){var t,n,r,s,i,o,a,c,u,d,_;return{entity_type:"ASSET_GROUP",id:e,name:null===(t=l[e])||void 0===t?void 0:t.asset.name,description:null===(n=l[e])||void 0===n?void 0:n.asset.description,asset_group_types:null===(r=l[e])||void 0===r?void 0:r.asset.asset_group_types,adAccounts:[],profiles:[],child_ad_account_ids:(null===(s=l[e])||void 0===s?void 0:s.asset.child_ad_account_ids)||[],child_profile_ids:(null===(i=l[e])||void 0===i?void 0:i.asset.child_profile_ids)||[],employees:[],partners:[],created_by:{username:null===(o=l[e])||void 0===o?void 0:o.created_by.username,full_name:null===(a=l[e])||void 0===a?void 0:a.created_by.full_name},created_time:null===(c=l[e])||void 0===c?void 0:c.asset.created_time,owner:{username:null===(u=l[e])||void 0===u?void 0:u.owner.username,full_name:null===(d=l[e])||void 0===d?void 0:d.owner.full_name,id:null===(_=l[e])||void 0===_?void 0:_.owner.id}}})}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t({type:"GET_ASSET_GROUPS_ERROR",error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])})),function(e){return t.apply(this,arguments)}},v=function(e,t){var n;return n=m(regeneratorRuntime.mark(function n(r,o){var a,c,u,d,f,m,p,h,b,y,v,g,A,S,x,E,P,I;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"GET_ASSET_GROUP_ASSETS",payload:{data:e.resourceType}}),n.prev=1,u=(null==t?void 0:t.updateDataOnly)||!1,d=o(),f=(0,l.mW)(d),m=(0,l.FS)(d),p="AD_ACCOUNT"===e.resourceType?m.child_ad_account_ids||[]:m.child_profile_ids||[],h=("AD_ACCOUNT"===e.resourceType?l.YM:l.$b)(d),b=(0,s.IW)(e,h),y=p.concat((null==t?void 0:t.assetsToAdd)||[]).filter(function(e){var n;return!(null!=t&&null!==(n=t.assetsToRemove)&&void 0!==n&&n.includes(e))}),p||r({type:"GET_ASSET_GROUP_ASSETS_SUCCESS",payload:{data:{assetGroupId:f}}}),v=_(_(_(_({},h),e),{},{startIndex:b},0===b&&{page:1}),{},{assetIds:y}),n.next=15,(0,i.pI)(v);case 15:A=(null==(g=n.sent)?void 0:null===(a=g.data)||void 0===a?void 0:a.data)||{},r({type:"GET_ASSET_GROUP_ASSETS_SUCCESS",payload:{data:S={adAccounts:"AD_ACCOUNT"===e.resourceType?Object.keys(A).map(function(e){return{id:e,name:A[e].asset.name,client_business:A[e].client_business,owner:{id:A[e].owner.id,full_name:A[e].owner.full_name}}}):void 0,profiles:"PROFILE"===e.resourceType?Object.keys(A).map(function(e){return{profileId:e,profileName:A[e].asset.name,profileOwnerId:A[e].owner.id,profileOwnerName:A[e].owner.full_name,profileAvatar:A[e].asset.image_small_url}}):void 0,child_asset_ids:y,assetGroupId:f},updateDataOnly:u}}),x=v.searchTerm,E=v.page,P=v.limit,I=v.filtersPayload,r({type:"SET_TABLE_STATE",payload:{data:{assetOrMemberType:e.resourceType,table:{totalCount:(null===(c=S.child_asset_ids)||void 0===c?void 0:c.length)||0,searchTerm:x,page:E,limit:P,filtersPayload:I}}}}),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(1),r({type:"GET_ASSET_GROUP_ASSETS_ERROR",payload:n.t0});case 26:case"end":return n.stop()}},n,null,[[1,23]])})),function(e,t){return n.apply(this,arguments)}},g=function(e,t){var n;return n=m(regeneratorRuntime.mark(function n(r){var s,o,a,c,l,u,d,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"GET_ASSET_GROUP_OWNERS",payload:{data:e.resourceType}}),n.prev=1,o=_(_({},e),{},{page:1,limit:250,assetIds:t}),n.next=5,(0,i.pI)(o);case 5:for(m=0,c=(null==(a=n.sent)?void 0:null===(s=a.data)||void 0===s?void 0:s.data)||{},l=[],u=Object.keys(c),d=[],f=function(){var t=p[m],n=c[t],r=l.find(function(e){return e.id===n.owner.id});r?r.assetIds.push(t):l.push({id:n.owner.id,fullName:n.owner.full_name,assetIds:[t]}),"AD_ACCOUNT"===e.resourceType&&n.client_business&&d.push(t)},p=u;m<p.length;m++)f();r({type:"GET_ASSET_GROUP_OWNERS_SUCCESS",payload:{data:{owners:l,resourceType:e.resourceType,aoaaIds:d}}}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),r({type:"GET_ASSET_GROUP_OWNERS_ERROR",error:n.t0});case 18:case"end":return n.stop()}},n,null,[[1,15]])})),function(e){return n.apply(this,arguments)}},A=function(e,t){var n;return n=m(regeneratorRuntime.mark(function n(r,i){var o,u,d,f,m,p,h,b,y,v,g,A,S,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"GET_ASSET_GROUP_USERS",payload:{data:t.userType}}),n.prev=1,o=i(),u=(0,l.mW)(o),d=("PEOPLE"===t.userType?l.u:l.cX)(o),f=(0,s.IW)(e,d),m=_(_(_(_({},d),e),{},{startIndex:f},0===f&&{page:1}),{},{assetId:u}),p="PEOPLE"===t.userType?c.kF:a.wi,n.next=11,p(m);case 11:b=(h=n.sent||{}).data,v=void 0===(y=h.total_data_count)?0:y,g="PEOPLE"===t.userType?b||[]:(null==b?void 0:b.data)||[],r({type:"GET_ASSET_GROUP_USERS_SUCCESS",payload:{data:{people:"PEOPLE"===t.userType?g.map(function(e){var t;return{id:null==e?void 0:e.id,user:{id:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id,image_small_url:e.user.image_small_url,email:e.user.email,full_name:e.user.full_name},permissions:e.permissions}}):void 0,partners:"PARTNER"===t.userType?g.map(function(e){return{id:e.id,user:{id:e.user.id,image_small_url:e.user.image_small_url,email:e.user.email,full_name:e.user.full_name},permissions:e.permissions}}):void 0,assetGroupId:u}}}),A=m.searchTerm,S=m.page,x=m.limit,t.updateDataOnly||r({type:"SET_TABLE_STATE",payload:{data:{assetOrMemberType:t.userType,table:_(_({},!A&&{totalCount:v}),{},{searchTerm:A,page:S,limit:x})}}}),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(1),r({type:"GET_ASSET_GROUP_USERS_ERROR",payload:n.t0});case 25:case"end":return n.stop()}},n,null,[[1,22]])})),function(e,t){return n.apply(this,arguments)}},S=function(e){var t=e.assetGroupId;return function(e){e({type:"SELECT_ASSET_GROUP",payload:{data:t}})}},x=function(e){var t,n=e.businessId,r=e.assetGroup,s=e.businessHierarchyNodeId;return t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_ASSET_GROUP"}),e.prev=1,e.next=4,(0,o.FL)({businessId:n,assetGroup:r,businessHierarchyNodeId:s});case 4:t({type:"CREATE_ASSET_GROUP_SUCCESS",payload:{data:e.sent}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"CREATE_ASSET_GROUP_ERROR",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},E=function(e){var t,n=e.businessId,r=e.assetGroup,s=e.businessHierarchyNodeId;return t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"EDIT_ASSET_GROUP"}),e.prev=1,e.next=4,(0,o.Pk)({businessId:n,assetGroup:r,businessHierarchyNodeId:s});case 4:t({type:"EDIT_ASSET_GROUP_SUCCESS",payload:{data:e.sent}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"EDIT_ASSET_GROUP_ERROR",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},P=function(e){var t,n=e.businessId,r=e.assetGroupId,s=e.businessHierarchyNodeId;return t=m(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"DELETE_ASSET_GROUP"}),e.prev=1,e.next=4,(0,o.RE)({businessId:n,assetGroupId:r,businessHierarchyNodeId:s});case 4:(i=e.sent).resource_response&&!i.resource_response.error&&t({type:"DELETE_ASSET_GROUP_SUCCESS",payload:{data:r}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"DELETE_ASSET_GROUP_ERROR",error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}}},663592:function(e,t,n){"use strict";n.d(t,{As:function(){return U},Eg:function(){return R},N_:function(){return w},Q3:function(){return N},RO:function(){return M},cE:function(){return I},cp:function(){return j},fN:function(){return T},hy:function(){return L},iS:function(){return k},ip:function(){return z},lo:function(){return O},mH:function(){return B},mS:function(){return C},yX:function(){return D}});var r=n(326884),s=n(165544),i=n(433835),o=n(856027),a=n(49428),c=n(76041),l=n(239894),u=n(230412);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["page"],f=["page"],m=["page"],p=["page"];function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){g(i,r,s,o,a,"next",e)}function a(e){g(i,r,s,o,a,"throw",e)}o(void 0)})}}var S=function(e){return{type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS",payload:e}},x=function(){return{type:"GET_BUSINESS_HIERARCHY_EMPLOYEES"}},E=function(e){return{type:"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS",payload:e}},P=function(e){return{type:"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR",error:e}},I=function(e,t){var n;return n=A(regeneratorRuntime.mark(function n(r,o){var a,c,u,d,_,f,m,p,h,b,y,g,A;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o(),c=e.businessId){n.next=4;break}return n.abrupt("return");case 4:return u=(0,l.YM)(a),d=(0,s.$2)(e,u),_=(0,s.sl)(c,d,e,u),r({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS"}),n.prev=8,n.next=11,(0,i.cE)(v({},_));case 11:f=n.sent.data,t?(b=null==f?void 0:f.data.map(function(e){return e.asset_id}),r(S(v(v({},_),{},{data:null!==(m=null==f?void 0:f.data)&&void 0!==m?m:[],table:{totalCount:null!==(p=null==f?void 0:f.total_data_count)&&void 0!==p?p:void 0,searchTerm:_.searchTerm,page:_.page,limit:_.limit,sortBy:_.sortBy,sortDirection:_.sortDirection,startIndex:null!==(h=_.startIndex)&&void 0!==h?h:0},ids:b})))):r(S(v(v({},_),{},{data:null!==(y=null==f?void 0:f.data)&&void 0!==y?y:[],table:{totalCount:null!==(g=null==f?void 0:f.total_data_count)&&void 0!==g?g:void 0,searchTerm:_.searchTerm,page:_.page,limit:_.limit,sortBy:_.sortBy,sortDirection:_.sortDirection,startIndex:null!==(A=_.startIndex)&&void 0!==A?A:0}}))),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(8),r({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR",error:n.t0});case 19:case"end":return n.stop()}},n,null,[[8,16]])})),function(e,t){return n.apply(this,arguments)}},j=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,o){var a,c,u,d,_,f,m,p,h,b,y,g,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o(),c=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.$b)(a),d=(0,s.$2)(e,u),_=(0,s.sl)(c,d,e,u),n({type:"GET_BUSINESS_HIERARCHY_PROFILES"}),t.prev=8,t.next=11,(0,i.cp)(_);case 11:return h=void 0===(p=(m=t.sent.data).data)?[]:p,b=m.total_data_count,y=h.reduce(function(e,t){return e.concat(t.asset_id)},[]),t.next=19,(0,i.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:y,id:c});case 19:g=t.sent.data.data,A=[],h.forEach(function(e){A.push(v(v({},e),g[e.asset_id]))}),n({type:"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS",payload:v(v({},_),{},{data:A,table:{totalCount:b,searchTerm:_.searchTerm,page:_.page,limit:_.limit,sortBy:_.sortBy,sortDirection:_.sortDirection,startIndex:null!==(f=_.startIndex)&&void 0!==f?f:0}})}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILES_ERROR",error:t.t0});case 29:case"end":return t.stop()}},t,null,[[8,26]])})),function(e,n){return t.apply(this,arguments)}},O=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var o,a,c,u,d,_,f,m,p,h,b,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return c=(0,l.s5)(o),u=(0,s.$2)(e,c),d=(0,s.sl)(a,u,e,c),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS"}),_="permissions"===d.sortBy||"name"===d.sortBy?d.sortBy:void 0,t.prev=9,t.next=12,(0,i.lo)({id:a,searchTerm:d.searchTerm,searchBy:d.searchBy,limit:d.limit,sortBy:_,sortDirection:d.sortDirection,startIndex:d.startIndex,businessId:a,resourceType:"ASSET_GROUP"});case 12:return p=(null==(m=t.sent)?void 0:m.data.data.map(function(e){return e.asset_id}))||[],t.next=16,(0,i.pI)({businessId:a,assetIds:p,resourceType:"ASSET_GROUP"});case 16:b=(null==(h=t.sent)?void 0:h.data.data)||{},y=p.filter(function(e){return b[e]}).map(function(e){return v(v({},b[e]),b[e].asset)}),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS",payload:v(v({},d),{},{data:y,table:{totalCount:(null==m?void 0:m.data.total_data_count)||0,searchTerm:d.searchTerm,page:d.page,limit:d.limit,sortBy:d.sortBy,sortDirection:d.sortDirection,startIndex:null!==(f=d.startIndex)&&void 0!==f?f:0}})}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),n({type:"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR",error:t.t0});case 25:case"end":return t.stop()}},t,null,[[9,22]])})),function(e,n){return t.apply(this,arguments)}},C=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var o,a,c,u,d,f,m,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId,c=e.detailId,!(!a&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.u)(o),(d=(0,s.Vs)(e,u)).page,f=b(d,_),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES"}),t.prev=8,t.next=11,(0,i.BG)(v({id:a,businessId:a,assetId:c},f));case 11:n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS",payload:{data:null!==(m=null==(h=t.sent.data)?void 0:h.data)&&void 0!==m?m:[],table:v(v({},d),{},{totalCount:null!==(p=null==h?void 0:h.total_data_count)&&void 0!==p?p:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},w=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var o,a,c,u,d,_,m,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId,c=e.detailId,!(!a&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.cX)(o),(d=(0,s.Vs)(e,u)).page,_=b(d,f),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS"}),t.prev=8,t.next=11,(0,i.N1)(v({id:a,businessId:a,assetId:c},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS",payload:{data:null!==(m=null==(h=t.sent.data)?void 0:h.data)&&void 0!==m?m:[],table:v(v({},d),{},{totalCount:null!==(p=null==h?void 0:h.total_data_count)&&void 0!==p?p:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},T=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var i,o,a,u,d,_,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),o=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return a=(0,l.u)(i),u=(0,s.Vs)(e,a),n(x()),t.prev=7,t.next=10,(0,c.kH)(v({id:o,includeAssetSummary:!0},u));case 10:n(E({data:null!==(d=null==(f=t.sent.data)?void 0:f.data)&&void 0!==d?d:[],table:v(v({},u),{},{totalCount:null!==(_=null==f?void 0:f.total_data_count)&&void 0!==_?_:void 0})})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),n(P(t.t0));case 18:case"end":return t.stop()}},t,null,[[7,15]])})),function(e,n){return t.apply(this,arguments)}},z=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var i,o,a,u,d,_,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),o=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return a=(0,l.u)(i),u=(0,s.Vs)(e,a),n(x()),t.prev=7,t.next=10,(0,c.JC)(v({id:o,includeAssetSummary:!0},u));case 10:n(E({data:null!==(d=null==(f=t.sent.data)?void 0:f.data)&&void 0!==d?d:[],table:v(v({},u),{},{totalCount:null!==(_=null==f?void 0:f.total_data_count)&&void 0!==_?_:void 0})})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),n(P(t.t0));case 18:case"end":return t.stop()}},t,null,[[7,15]])})),function(e,n){return t.apply(this,arguments)}},R=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var i,o,c,u,d,_,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),o=e.businessId,c=e.includeAssetSummary,o){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.cX)(i),d=(0,s.Vs)(e,u),n({type:"GET_BUSINESS_HIERARCHY_PARTNERS"}),t.prev=7,t.next=10,(0,a.Eg)(v(v({id:o},d),{},{includeAssetSummary:c}));case 10:n({type:"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS",payload:{data:null!==(_=null==(f=t.sent.data)?void 0:f.data)&&void 0!==_?_:[],table:v(v({},d),{},{totalCount:null==f?void 0:f.total_data_count})}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),n({type:"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR",error:t.t0});case 18:case"end":return t.stop()}},t,null,[[7,15]])})),function(e,n){return t.apply(this,arguments)}},N=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var o,a,c,u,d,_,f,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId,c=e.detailId,!(!a&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.u)(o),(d=(0,s.Vs)(e,u)).page,_=b(d,m),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES"}),t.prev=8,t.next=11,(0,i.BG)(v({id:a,businessId:a,assetId:c},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS",payload:{data:null!==(f=null==(h=t.sent.data)?void 0:h.data)&&void 0!==f?f:[],table:v(v({},d),{},{totalCount:null!==(p=null==h?void 0:h.total_data_count)&&void 0!==p?p:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},D=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var o,a,c,u,d,_,f,m,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=e.businessId,c=e.detailId,!(!a&&!c)){t.next=4;break}return t.abrupt("return");case 4:return u=(0,l.cX)(o),(d=(0,s.Vs)(e,u)).page,_=b(d,p),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS"}),t.prev=8,t.next=11,(0,i.N1)(v({id:a,businessId:a,assetId:c},_));case 11:n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS",payload:{data:null!==(f=null==(h=t.sent.data)?void 0:h.data)&&void 0!==f?f:[],table:v(v({},d),{},{totalCount:null!==(m=null==h?void 0:h.total_data_count)&&void 0!==m?m:void 0})}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR",error:t.t0});case 19:case"end":return t.stop()}},t,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}},k=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,r){var i,a,c,l,d,_,f,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),a=e.hierarchyId){t.next=4;break}return t.abrupt("return");case 4:return c=(0,u.MG)(i),l=(0,s.IW)(e,c),d=v(v(v({hierarchyId:a},c),e),{},{startIndex:l},0===l&&{page:1}),n({type:"GET_BUSINESS_HIERARCHY_MANAGERS"}),t.prev=8,t.next=11,(0,o.iS)(d);case 11:p={ids:Object.keys(m=(f=null==(_=t.sent)?void 0:_.data.business_hierarchy_users)?f.reduce(function(e,t){return t.entity_type="HIERARCHY_MANAGER",t.user.entity_type="USER",e[t.user.id]=t,e},{}):{}),data:m},n({type:"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS",payload:v(v({},d),p)}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),n({type:"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR",error:t.t0});case 21:case"end":return t.stop()}},t,null,[[8,18]])})),function(e,n){return t.apply(this,arguments)}},L=function(e,t){var n;return n=A(regeneratorRuntime.mark(function n(r,i){var a,c,u,d,_,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),c=e.businessHierarchyLookupId){n.next=4;break}return n.abrupt("return");case 4:return u=(0,l.bS)(a),d=(0,s.Vs)(e,u),r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS"}),n.prev=7,n.next=10,(0,o.hy)({businessHierarchyLookupId:c,businessRole:t,searchBy:d.searchBy,searchTerm:d.searchTerm,sortBy:d.sortBy,sortDirection:d.sortDirection,page:d.page,limit:d.limit,startIndex:d.startIndex});case 10:r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS",payload:{data:null!==(_=null==(p=n.sent)?void 0:null===(f=p.data)||void 0===f?void 0:f.business_hierarchy_business_members)&&void 0!==_?_:[],table:v(v({},d),{},{totalCount:(null==p?void 0:null===(m=p.data)||void 0===m?void 0:m.total_members_count)||0})}}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),r({type:"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[7,14]])})),function(e,t){return n.apply(this,arguments)}},B=function(e){var t;return t=A(regeneratorRuntime.mark(function t(n,i){var a,c,u,d,_,f,m,p,h,b,y,g,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i(),c=e.hierarchyId,u=e.type,_=void 0!==(d=e.reloadBugFix)&&d,c){t.next=4;break}return t.abrupt("return");case 4:return n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES"}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS"}),t.prev=5,f=v({hierarchyId:c,role:u},_&&r.vk),t.next=9,(0,o.mH)(f);case 9:h=void 0===(p=(m=t.sent||{}).data)?[]:p,y=void 0===(b=m.total_data_count)?0:b,g=(0,l.cX)(a),A={data:null!=h?h:[],table:v(v({},(0,s.Vs)(e,g)),{},{totalCount:y})},n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS",payload:A}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS",payload:v(v({},A),{},{data:A.data.map(function(e){return v(v({},e),{},{user:v(v({},e.user),{},{email:""})})})})}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),n("CHILD_BUSINESS"===u?{type:"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR",error:t.t0}:{type:"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR",error:t.t0});case 20:case"end":return t.stop()}},t,null,[[5,17]])})),function(e,n){return t.apply(this,arguments)}},U=function(e){var t,n=e.inviteId,r=e.action,s=e.inviteType,i=e.onSuccess,a=e.onFailure;return t=A(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE"}),e.prev=1,e.next=4,(0,o.ov)({inviteId:n,inviteType:s,action:r});case 4:t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE_SUCCESS"}),i&&i(),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),t({type:"RESPOND_BUSINESS_HIERARCHY_INVITE_ERROR",error:e.t0}),a&&a(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return t.apply(this,arguments)}},M=function(e){var t,n=e.hierarchyId,r=e.peopleIdentifiers,s=e.assignedRole,i=e.onSuccess,a=e.onFailure;return t=A(regeneratorRuntime.mark(function e(t,c){var l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_BUSINESS_HIERARCHY_INVITE"}),e.prev=1,e.next=4,(0,o.NN)({peopleIdentifiers:r,role:s,hierarchyId:n});case 4:t({type:"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS",payload:{data:(d=Object.values(null==(u=e.sent)?void 0:null===(l=u.data)||void 0===l?void 0:l.data)).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:t,entity_type:"INVITE",invite_data:{invite_status:"PENDING",last_updated_time:Date.now()}}])},[])}}),B({type:s,hierarchyId:n})(t,c),i&&i(d),e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(1),t({type:"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR",error:e.t0}),a&&a(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[1,12]])})),function(e,n){return t.apply(this,arguments)}}},491242:function(e,t,n){"use strict";n.d(t,{Ak:function(){return T},Fg:function(){return C},Iy:function(){return g},NW:function(){return O},Ni:function(){return w},P6:function(){return E},RC:function(){return v},SF:function(){return A},SV:function(){return z},V_:function(){return j},bU:function(){return S},de:function(){return P},e7:function(){return I},fN:function(){return y},hE:function(){return R},iT:function(){return N},zz:function(){return x}});var r=n(326884),s=n(165544),i=n(433835),o=n(662297),a=n(362746),c=n(76041),l=n(241703);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){h(i,r,s,o,a,"next",e)}function a(e){h(i,r,s,o,a,"throw",e)}o(void 0)})}}var y=function(e){var t,n=e.businessId,s=e.detailId;return t=b(regeneratorRuntime.mark(function e(t){var i,o,a,l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEES"}),e.prev=1,i={id:n,personId:s,includeAssetSummary:!0,limit:r.xX},e.next=5,(0,c.JC)(i);case 5:if(l=void 0===(a=(o=e.sent.data).data)?[]:a,!((u=Math.ceil(o.total_data_count/r.xX))<=1)){e.next=14;break}return t({type:"GET_EMPLOYEES_SUCCESS",payload:{data:l}}),e.abrupt("return");case 14:var f;return d=((function(e){if(Array.isArray(e))return p(e)})(f=Array(u).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(f)||m(f)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).slice(1),e.next=17,Promise.allSettled(d.map(function(e){return(0,c.JC)(_(_({},i),{},{startIndex:e*r.xX}))}));case 17:t({type:"GET_EMPLOYEES_SUCCESS",payload:{data:e.sent.reduce(function(e,t){var n,r;return null!==(n=t.value)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.data&&(e=e.concat(t.value.data.data)),e},l)}}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),t({type:"GET_EMPLOYEES_ERROR",error:e.t0});case 25:case"end":return e.stop()}},e,null,[[1,22]])})),function(e){return t.apply(this,arguments)}},v=function(e){var t,n=e.businessId;return t=b(regeneratorRuntime.mark(function e(t){var s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEES_INVITES"}),e.prev=1,s={id:n,is_member:!0,filters:{invite_status:["PENDING","EXPIRED"]},limit:r.xX},e.next=5,(0,a.R)(s);case 5:t({type:"GET_EMPLOYEES_INVITES_SUCCESS",payload:{data:{invites:void 0===(i=e.sent.data.data)?[]:i}}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"GET_EMPLOYEES_INVITES_ERROR",error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])})),function(e){return t.apply(this,arguments)}},g=function(e){var t,n=e.inviteIds,r=e.businessId;return t=b(regeneratorRuntime.mark(function e(t){var s,i,a,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"ADD_EMPLOYEES_INVITES"}),e.prev=1,s=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(n),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=15;break}return c={businessId:r,inviteOrRequestId:a.value,type:"MEMBER_INVITE"},e.next=11,(0,o.Ts)(c);case 11:l=e.sent,s.push(l.data.data);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:t({type:"ADD_EMPLOYEES_INVITES_SUCCESS",payload:{data:{invites:s}}}),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t({type:"ADD_EMPLOYEES_INVITES_ERROR",error:e.t1});case 29:case"end":return e.stop()}},e,null,[[1,26],[4,17,20,23]])})),function(e){return t.apply(this,arguments)}},A=function(e){var t,n=e.businessId;return t=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_EMPLOYEE_ROLES"}),e.prev=1,e.next=4,(0,i.cE)({id:n,limit:r.cU});case 4:t({type:"GET_EMPLOYEE_ROLES_SUCCESS",payload:{data:{assetRoles:e.sent.data.data.reduce(function(e,t){return _(_({},e),f({},t.asset_id,t.roles))},{})}}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_EMPLOYEE_ROLES_ERROR",payload:e.t0});case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return t.apply(this,arguments)}},S=function(e,t){var n;return n=b(regeneratorRuntime.mark(function n(r,o){var a,c,u,d,f,m,p,h,b,y,v,g,A,S,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=(null==t?void 0:t.updateDataOnly)||!1,c=o(),u=e.businessId,d=(0,l.YM)(c),f=(0,s.IW)(e,d),r({type:"GET_EMPLOYEE_ADACCOUNTS"}),n.prev=6,b=_(_(_({businessId:u,assetIds:(null===(m=(h=(0,l.cc)(c)).assets_summary)||void 0===m?void 0:null===(p=m.ad_accounts)||void 0===p?void 0:p.map(function(e){return e.id||""}))||[]},d),e),{},{startIndex:f,resourceType:"AD_ACCOUNT"},0===f&&{page:1}),n.next=11,(0,i.pI)(b);case 11:g=void 0===(v=(y=void 0===(y=(n.sent||{}).data)?{}:y).data)?{}:v,S=void 0===(A=y.total_data_count)?0:A,x=[],Object.keys(g).forEach(function(e){var t,n=((null===(t=h.assets_summary)||void 0===t?void 0:t.ad_accounts)||[]).find(function(t){return t.id===e});x.push(_(_({},g[e]),{},{roles:(null==n?void 0:n.permissions)||[]}))}),r({type:"GET_EMPLOYEE_ADACCOUNTS_SUCCESS",payload:{data:{adAccounts:x,employeeId:h.id},updateDataOnly:a}}),r({type:"SET_ADACCOUNTS_TABLE_STATE",payload:{data:{table:{totalCount:S,searchTerm:b.searchTerm,page:b.page,limit:b.limit}}}}),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(6),r({type:"GET_EMPLOYEE_ADACCOUNTS_ERROR",payload:n.t0});case 26:case"end":return n.stop()}},n,null,[[6,23]])})),function(e,t){return n.apply(this,arguments)}},x=function(e,t){var n;return n=b(regeneratorRuntime.mark(function n(r,o){var a,c,u,d,f,m,p,h,b,y,v,g,A,S,x;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=(null==t?void 0:t.updateDataOnly)||!1,c=o(),u=e.businessId,d=(0,l.$b)(c),f=(0,s.IW)(e,d),r({type:"GET_EMPLOYEE_PROFILES"}),n.prev=6,b=_(_(_({businessId:u,assetIds:(null===(m=(h=(0,l.cc)(c)).assets_summary)||void 0===m?void 0:null===(p=m.profiles)||void 0===p?void 0:p.map(function(e){return e.id||""}))||[]},d),e),{},{startIndex:f,resourceType:"PROFILE"},0===f&&{page:1}),n.next=11,(0,i.pI)(b);case 11:g=void 0===(v=(y=void 0===(y=(n.sent||{}).data)?{}:y).data)?{}:v,S=void 0===(A=y.total_data_count)?0:A,x=[],Object.keys(g).forEach(function(e){var t,n=((null===(t=h.assets_summary)||void 0===t?void 0:t.profiles)||[]).find(function(t){return t.id===e});x.push(_(_({},g[e]),{},{user:h.user,roles:(null==n?void 0:n.permissions)||[]}))}),r({type:"GET_EMPLOYEE_PROFILES_SUCCESS",payload:{data:{profiles:x,employeeId:h.id},updateDataOnly:a}}),r({type:"SET_PROFILES_TABLE_STATE",payload:{data:{table:{totalCount:S,searchTerm:b.searchTerm,page:b.page,limit:b.limit}}}}),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(6),r({type:"GET_EMPLOYEE_PROFILES_ERROR",payload:n.t0});case 26:case"end":return n.stop()}},n,null,[[6,23]])})),function(e,t){return n.apply(this,arguments)}},E=function(e){var t,n=e.employeeId;return t=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_EMPLOYEES"});try{t({type:"DELETE_EMPLOYEES_SUCCESS",payload:{data:n}})}catch(e){t({type:"DELETE_EMPLOYEES_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},P=function(e){var t,n=e.id;return t=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_EMPLOYEES_INVITES"});try{t({type:"DELETE_EMPLOYEES_INVITES_SUCCESS",payload:{data:n}})}catch(e){t({type:"DELETE_EMPLOYEES_INVITES_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},I=function(e){var t,n=e.employeeId,r=e.role;return t=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"UPDATE_EMPLOYEES_ROLE"});try{t({type:"UPDATE_EMPLOYEES_ROLE_SUCCESS",payload:{data:{employeeId:n,role:r}}})}catch(e){t({type:"UPDATE_EMPLOYEES_ROLE_ERROR",error:e})}case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},j=function(e){var t=e.adAccountId,n=e.employeeId;return function(e){e({type:"DELETE_EMPLOYEES_ADACCOUNT"});try{e({type:"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:{adAccountId:t,employeeId:n}}})}catch(t){e({type:"DELETE_EMPLOYEES_ADACCOUNT_ERROR",error:t})}}},O=function(e){var t=e.profileId,n=e.employeeId;return function(e){e({type:"DELETE_EMPLOYEES_PROFILE"});try{e({type:"DELETE_EMPLOYEES_PROFILE_SUCCESS",payload:{data:{employeeId:n,profileId:t}}})}catch(t){e({type:"DELETE_EMPLOYEES_PROFILE_ERROR",error:t})}}},C=function(e){return function(t){t({type:"ADD_EMPLOYEES_ADACCOUNT"});try{t({type:"ADD_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:e}})}catch(e){t({type:"ADD_EMPLOYEES_ADACCOUNT_ERROR",error:e})}}},w=function(e){return function(t,n){t({type:"ADD_EMPLOYEES_PROFILE"});try{var r=n(),s=(0,l.cc)(r),i=e.addedProfiles.map(function(e){return _(_({},e),{},{user:s.user})});t({type:"ADD_EMPLOYEES_PROFILE_SUCCESS",payload:{data:_(_({},e),{},{addedProfiles:i})}})}catch(e){t({type:"ADD_EMPLOYEES_PROFILE_ERROR",error:e})}}},T=function(e){var t=e.id;return function(e){e({type:"SELECT_EMPLOYEES",payload:{data:t}})}},z=function(e){var t=e.id;return function(e){e({type:"SELECT_EMPLOYEES_INVITES",payload:{data:t}})}},R=function(e){var t=e.id;return function(e){e({type:"REFRESH_EMPLOYEE_INVITE_DATE",payload:{data:t}})}},N=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,r){var o,a,u,d,f,m,p,h,b,y,v,g,A,S,x,E,P,I,j;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:"GET_EMPLOYEE_ASSET_GROUPS"}),t.prev=1,a=r(),u=e.businessId){t.next=6;break}return t.abrupt("return");case 6:return d=(0,l.s5)(a),f=(0,l.cc)(a),m=(0,s.IW)(e,d),p=_(_(_({businessId:u,personId:f.id},d),e),{},{startIndex:m},0===m&&{page:1}),t.next=12,(0,c.n5)(_(_({},p),{},{sortBy:"name",searchBy:"name",id:""}));case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0={data:{}};case 15:return y=void 0===(b=(h=t.t0.data).data)?[]:b,g=void 0===(v=h.total_data_count)?0:v,A=y.map(function(e){return e.asset_id}),t.next=24,(0,i.pI)({limit:p.limit,assetIds:A,businessId:u,resourceType:"ASSET_GROUP"});case 24:x=(null==(S=t.sent)?void 0:null===(o=S.data)||void 0===o?void 0:o.data)||{},E=[],y.forEach(function(e){E.push(_(_({},e),x[e.asset_id]))}),n({type:"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS",payload:{data:{assetGroups:E,employeeId:f.id}}}),P=p.searchTerm,I=p.page,j=p.limit,n({type:"SET_ASSET_GROUPS_TABLE_STATE",payload:{data:{table:{totalCount:g,searchTerm:P,page:I,limit:j}}}}),t.next=37;break;case 34:t.prev=34,t.t1=t.catch(1),n({type:"GET_EMPLOYEE_ASSET_GROUPS_ERROR",error:t.t1});case 37:case"end":return t.stop()}},t,null,[[1,34]])})),function(e,n){return t.apply(this,arguments)}}},385032:function(e,t,n){"use strict";function r(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(s,i){var o=e.apply(t,n);function a(e){r(o,s,i,a,c,"next",e)}function c(e){r(o,s,i,a,c,"throw",e)}a(void 0)})}}n.d(t,{N:function(){return o},i:function(){return a}});var i,o=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=s(regeneratorRuntime.mark(function t(n,s){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null!=(o=s().businessAccess.employers)&&o.list||null!=o&&o.isLoading)&&!i)){t.next=3;break}return t.abrupt("return");case 3:return n({type:"GET_EMPLOYERS"}),t.prev=4,t.next=7,e();case 7:n({type:"GET_EMPLOYERS_SUCCESS",payload:{data:t.sent,showTooltip:r}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),n({type:"GET_EMPLOYERS_ERROR",error:t.t0});case 14:case"end":return t.stop()}},t,null,[[4,11]])})),function(e,t){return n.apply(this,arguments)}},a=(i=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"HIDE_EMPLOYERS_TOOLTIP"});case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})},6189:function(e,t,n){"use strict";n.d(t,{$R:function(){return v},ED:function(){return x},H7:function(){return b},HC:function(){return y},JJ:function(){return P},Jl:function(){return E},Ol:function(){return m},UF:function(){return g},YK:function(){return h},c_:function(){return A},dq:function(){return f},hY:function(){return S},wW:function(){return p}});var r=n(391364),s=n(704454),i=n(662297),o=n(320843);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){d(i,r,s,o,a,"next",e)}function a(e){d(i,r,s,o,a,"throw",e)}o(void 0)})}}var f=function(e){var t,n=e.acceptInviteInterface,r=e.businessId,i=e.type,a=e.inviteId,c=e.onSuccess,l=e.onError;return t=_(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),t({type:"DECLINE_INVITE"}),_=(0,o.t_)(d),e.prev=3,e.next=6,n({id:a,accept:!1});case 6:c&&c(),t({type:"DECLINE_INVITE_SUCCESS"}),"PARTNER"===i&&t((0,s.R)(_,"PARTNER",r)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DECLINE_INVITE_ERROR",error:e.t0}),l&&l(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},m=function(e){var t,n=e.acceptInviteInterface,i=e.businessId,a=e.type,c=e.inviteId,l=e.onSuccess,u=e.onError;return t=_(regeneratorRuntime.mark(function e(t,d){var _,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _=d(),t({type:"ACCEPT_INVITE"}),f=(0,o.t_)(_),e.prev=3,e.next=6,n({id:c,accept:!0});case 6:l&&(t((0,r.Bw)(c)),l()),t({type:"ACCEPT_INVITE_SUCCESS"}),"PARTNER"===a&&t((0,s.R)(f,"PARTNER",i)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"ACCEPT_INVITE_ERROR",error:e.t0}),u&&u(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},p=function(e,t){var n;return n=_(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"MEMBER_INVITE"},r({type:"GET_INVITE_DATA"}),n.prev=2,n.next=5,(0,i.Ts)(s);case 5:r({type:"GET_INVITE_DATA_SUCCESS",payload:u({type:"members"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_INVITE_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},h=function(e,t){var n;return n=_(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"PARTNER_INVITE"},r({type:"GET_INVITE_DATA"}),n.prev=2,n.next=5,(0,i.Ts)(s);case 5:r({type:"GET_INVITE_DATA_SUCCESS",payload:u({type:"partners"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_INVITE_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},b=function(){return function(e){return e({type:"CLEAR_PARTNER_INVITE_DATA"})}},y=function(){return function(e){return e({type:"CLEAR_PARTNER_REQUEST_DATA"})}},v=function(e,t){var n;return n=_(regeneratorRuntime.mark(function n(r){var s,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={businessId:t,inviteOrRequestId:e,type:"PARTNER_REQUEST"},r({type:"GET_REQUEST_DATA"}),n.prev=2,n.next=5,(0,i.Ts)(s);case 5:r({type:"GET_REQUEST_DATA_SUCCESS",payload:u({type:"partners"},(o=n.sent.data.data).id,o)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),r({type:"GET_REQUEST_DATA_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,null,[[2,10]])})),function(e){return n.apply(this,arguments)}},g=function(e){var t,n=e.businessId,r=e.type,a=e.inviteId,c=e.onSuccess,l=e.onError;return t=_(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),_=(0,o.t_)(d),t({type:"DELETE_INVITE"}),e.prev=3,e.next=6,(0,i.UF)({businessId:n,inviteId:a,type:"MEMBER"===r?"MEMBER_INVITE":"PARTNER_INVITE"});case 6:c(),t({type:"DELETE_INVITE_SUCCESS"}),t((0,s.R)(_,r,n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DELETE_INVITE_ERROR",error:e.t0}),l(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t,n=e.businessId,r=e.inviteId,a=e.type,c=e.onSuccess,l=e.onError;return t=_(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),_=(0,o.t_)(d),t({type:"RESEND_INVITE"}),e.prev=3,e.next=6,(0,i.c_)({businessId:n,inviteId:r,type:"MEMBER"===a?"MEMBER_INVITE":"PARTNER_INVITE"});case 6:c(),t({type:"RESEND_INVITE_SUCCESS"}),t((0,s.R)(_,a,n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"RESEND_INVITE_ERROR",error:e.t0}),l(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},S=function(e){var t,n=e.businessId,r=e.requestId,a=e.onSuccess,c=e.onError;return t=_(regeneratorRuntime.mark(function e(t,l){var u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=l(),d=(0,o.t_)(u),t({type:"DECLINE_REQUEST"}),e.prev=3,e.next=6,(0,i.ED)({requestId:r,accept:!1});case 6:a(),t({type:"DECLINE_REQUEST"}),t((0,s.R)(d,"PARTNER",n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"DECLINE_REQUEST_ERROR",error:e.t0}),c(e.t0.message,e.t0.code);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}},x=function(e){var t,n=e.businessId,a=e.requestId,c=e.acceptedRole,d=e.acceptedAssets,f=e.onSuccess,m=e.onError;return t=_(regeneratorRuntime.mark(function e(t,_){var p,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=_(),h=(0,o.t_)(p),b=d?Object.keys(d).filter(function(e){return!(0===d[e].length||d[e].includes("NO_ACCESS"))}).reduce(function(e,t){return l(l({},e),{},u({},t,d[t]))},{}):void 0,t({type:"ACCEPT_REQUEST"}),e.prev=4,e.next=7,(0,i.ED)({requestId:a,accept:!0,role:c,resources:b});case 7:t((0,r._P)(a)),f(),t({type:"ACCEPT_REQUEST"}),t((0,s.R)(h,"PARTNER",n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:"ACCEPT_REQUEST_ERROR",error:e.t0}),m(e.t0.message,e.t0.code);case 17:case"end":return e.stop()}},e,null,[[4,13]])})),function(e,n){return t.apply(this,arguments)}},E=function(e){var t,n=e.businessId,a=e.requestId,c=e.onSuccess,l=e.onError;return t=_(regeneratorRuntime.mark(function e(t,u){var d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=u(),_=(0,o.t_)(d),t({type:"DELETE_REQUEST"}),e.prev=3,e.next=6,(0,i.UF)({businessId:n,inviteId:a,type:"PARTNER_REQUEST"});case 6:c(),t({type:"DELETE_REQUEST_SUCCESS"}),t((0,r._P)(a)),t((0,s.R)(_,"PARTNER",n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:"DELETE_REQUEST_ERROR",error:e.t0}),l(e.t0.message);case 16:case"end":return e.stop()}},e,null,[[3,12]])})),function(e,n){return t.apply(this,arguments)}},P=function(e){var t,n=e.businessId,r=e.requestId,a=e.onSuccess,c=e.onError;return t=_(regeneratorRuntime.mark(function e(t,l){var u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=l(),d=(0,o.t_)(u),t({type:"RESEND_INVITE"}),e.prev=3,e.next=6,(0,i.c_)({businessId:n,inviteId:r,type:"PARTNER_REQUEST"});case 6:a(),t({type:"RESEND_INVITE_SUCCESS"}),t((0,s.R)(d,"PARTNER",n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"RESEND_INVITE_ERROR",error:e.t0}),c(e.t0.message,e.t0.code);case 15:case"end":return e.stop()}},e,null,[[3,11]])})),function(e,n){return t.apply(this,arguments)}}},391364:function(e,t,n){"use strict";n.d(t,{Bw:function(){return f},L3:function(){return u},Mm:function(){return _},_P:function(){return m},pV:function(){return d}});var r=n(662297);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var r;return(r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){c(i,r,s,o,a,"next",e)}function a(e){c(i,r,s,o,a,"throw",e)}o(void 0)})}}var u=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=l(regeneratorRuntime.mark(function n(i){var c,l,u,d,_,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c={id:t,type:"MEMBER_INVITE",filters:{invite_status:e}},i({type:"GET_PEOPLE_INVITES"}),n.prev=3,n.next=6,(0,r.Bc)(c);case 6:d=void 0===(u=(l=void 0===(l=n.sent.data)?{}:l).data)?[]:u,_=l.total_data_count,m=(f=d.reduce(function(e,t){return e.ids.push(t.id),e.data=o(o({},e.data),{},a({},t.id,t)),e},{ids:[],data:{}})).ids,p=f.data,i({type:"GET_PEOPLE_INVITES_SUCCESS",payload:o(o({},c),{},{ids:m,data:p,totalCount:_,inviteStatus:e,type:"people",updateDataOnly:s})}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),i({type:"GET_PEOPLE_INVITES_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[3,14]])})),function(e){return n.apply(this,arguments)}},d=function(e,t){var n;return n=l(regeneratorRuntime.mark(function n(s){var i,c,l,u,d,_,f,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={id:t,type:"PARTNER_INVITE",filters:{invite_status:e}},s({type:"GET_PARTNERS_INVITES"}),n.prev=3,n.next=6,(0,r.Bc)(i);case 6:u=void 0===(l=(c=void 0===(c=n.sent.data)?{}:c).data)?[]:l,d=c.total_data_count,f=(_=u.reduce(function(e,t){return e.ids.push(t.id),e.data=o(o({},e.data),{},a({},t.id,t)),e},{ids:[],data:{}})).ids,m=_.data,s({type:"GET_PARTNERS_INVITES_SUCCESS",payload:o(o({},i),{},{ids:f,data:m,totalCount:d,inviteStatus:e,type:"partner"})}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),s({type:"GET_PARTNERS_INVITES_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[3,14]])})),function(e){return n.apply(this,arguments)}},_=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=l(regeneratorRuntime.mark(function n(i){var c,l,u,d,_,f,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c={id:t,filters:{invite_status:e}},i({type:"GET_PARTNERS_REQUESTS"}),n.prev=3,n.next=6,(0,r.XJ)(c);case 6:d=void 0===(u=(l=void 0===(l=n.sent.data)?{}:l).data)?[]:u,_=l.total_data_count,m=(f=d.reduce(function(e,t){return e.ids.push(t.id),e.data=o(o({},e.data),{},a({},t.id,t)),e},{ids:[],data:{}})).ids,p=f.data,i({type:"GET_PARTNERS_REQUESTS_SUCCESS",payload:o(o({},c),{},{ids:m,data:p,totalCount:_,requestStatus:e,type:"partner",updateDataOnly:s})}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),i({type:"GET_PARTNERS_REQUESTS_ERROR",error:n.t0});case 17:case"end":return n.stop()}},n,null,[[3,14]])})),function(e){return n.apply(this,arguments)}},f=function(e){var t;return t=l(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_INVITE",payload:{id:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},m=function(e){var t;return t=l(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_REQUEST",payload:{id:e}});case 1:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}},231705:function(e,t,n){"use strict";n.d(t,{C:function(){return _},w:function(){return d}});var r=n(165544),s=n(137043),i=n(230412),o=n(67347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var d=function(e){return{type:"SET_BILLING_INVOICES_VISIBILITY",payload:e}},_=function(e){var t,n;return t=regeneratorRuntime.mark(function t(n,a){var c,u,d,_,f,m,p,h,b,y,v,g,A,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((0,o.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"attempt"}}),c=a(),u=e.businessId){t.next=5;break}return t.abrupt("return");case 5:return d=(0,i.MG)(c),_=(0,r.IW)(e,d),f=l(l(l({id:u},d),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_BILLING_INVOICES"}),t.prev=9,m=(0,s.C)(f),p=new Promise(function(t){var n;return null===(n=e.abortController)||void 0===n?void 0:n.signal.addEventListener("abort",function(){return t("aborted")})}),t.next=14,Promise.race([m,p]);case 14:if("aborted"!==(h=t.sent)){t.next=18;break}return(0,o.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"aborted"}}),t.abrupt("return");case 18:v=void 0===(y=(b=(null==h?void 0:h.data)||{}).invoices)?[]:y,A=void 0===(g=b.total_result_count)?0:g,x=(S=(0,r.Ah)(function(e){return e.invoice_id},v)).ids,E=S.data,(0,o.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"success"}}),n({type:"GET_BILLING_INVOICES_SUCCESS",payload:l(l({},f),{},{ids:x,data:E,totalCount:A})}),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(9),(0,o.nP)("bizAccess.invoiceDetail.getBillingInvoices",{sampleRate:1,tags:{status:"failure"}}),n({type:"GET_BILLING_INVOICES_ERROR",error:t.t0});case 28:case"end":return t.stop()}},t,null,[[9,24]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(e){u(i,r,s,o,a,"next",e)}function a(e){u(i,r,s,o,a,"throw",e)}o(void 0)})},function(e,t){return n.apply(this,arguments)}}},582618:function(e,t,n){"use strict";n.d(t,{$A:function(){return R},BZ:function(){return T},CM:function(){return z},Eg:function(){return I},F0:function(){return P},JL:function(){return w},PN:function(){return k},Yj:function(){return D},ek:function(){return C},kW:function(){return j},lB:function(){return N}});var r,s=n(326884),i=n(165544),o=n(433835),a=n(49428),c=n(392499),l=n(230412),u=["experimentsClient"],d=["experimentsClient"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){h(i,r,s,o,a,"next",e)}function a(e){h(i,r,s,o,a,"throw",e)}o(void 0)})}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){var r;return(r=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(){return{type:"GET_PARTNERS"}},S=function(e){return{type:"GET_PARTNERS_ERROR",error:e}},x=function(e){return{type:"GET_PARTNERS_SUCCESS",payload:e}},E=function(e,t){return v(v({},e),{},g({},t.id,t))},P=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,r){var s,o,u,d,_,f,p,h,b,y,g,E,P,I,j,O,C;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),o=e.businessId,u=(0,c.Sl)(s),o){t.next=5;break}return t.abrupt("return");case 5:return d=(0,l.MG)(s),_=(0,i.IW)(e,d),f=v(v(v({id:o},d),e),{},{startIndex:_},0===_&&{page:1}),n(A()),t.prev=9,t.next=12,(0,a.F0)(f);case 12:if(b=void 0===(h=(p=void 0===(p=t.sent.data)?{}:p).data)?[]:h,y=p.total_data_count,E=(g=b.reduce(function(e,t){var n=t.id,r=t.is_shared_partner;return e.ids.push(n),u[n]&&u[n].biz_roles||(r?e.missingSharedIds.push(n):e.missingIds.push(n)),e},{ids:[],missingIds:[],missingSharedIds:[]})).ids,P=g.missingIds,I=g.missingSharedIds,t.t0=Promise,!(P.length>0)){t.next=24;break}return t.next=21,(0,a.FA)({businessId:o,requestIds:P,includeAssetSummary:!0});case 21:t.t1=t.sent,t.next=25;break;case 24:t.t1=Promise.resolve({});case 25:if(t.t2=t.t1,!(I.length>0)){t.next=32;break}return t.next=29,(0,a.qC)({businessId:o,requestIds:I,includeAssetSummary:!0});case 29:t.t3=t.sent,t.next=33;break;case 32:t.t3=Promise.resolve({});case 33:return t.t4=t.t3,t.t5=[t.t2,t.t4],t.next=37,t.t0.all.call(t.t0,t.t5);case 37:O=(j=m(t.sent,2))[0],C=j[1],e.updateTotalCountOnly?n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:y}}):n(x(v(v({},f),{},{ids:E,data:v(v({},O),C),totalCount:y}))),t.next=47;break;case 44:t.prev=44,t.t6=t.catch(9),n(S(t.t6));case 47:case"end":return t.stop()}},t,null,[[9,44]])})),function(e,n){return t.apply(this,arguments)}},I=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,r){var o,u,d,_,f,p,h,y,g,P,I,j,O,C,w,T,z,R,N,D;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),u=e.businessId,d=e.inEmployeeApiMigration,_=(0,c.Sl)(o),u){t.next=5;break}return t.abrupt("return");case 5:if(f=(0,l.MG)(o),p=(0,i.IW)(e,f),h=v(v(v({id:u},f),e),{},{startIndex:p},0===p&&{page:1}),n(A()),t.prev=9,!((e.limit||0)>s.xX)){t.next=16;break}return t.next=13,(0,i.dF)(h,e.limit||0,"PARTNER");case 13:t.t0=t.sent,t.next=19;break;case 16:return t.next=18,(0,a.Eg)(h);case 18:t.t0=t.sent;case 19:return P=void 0===(g=(y=void 0===(y=t.t0.data)?{}:y).data)?[]:g,I=y.total_data_count,O=(j=P.reduce(function(e,t){var n=t.id,r=t.is_shared_partner;return e.ids.push(n),_[n]&&_[n].biz_roles||(r?e.missingSharedIds.push(n):e.missingIds.push(n)),e},{ids:[],missingIds:[],missingSharedIds:[]})).ids,C=j.missingIds,w=j.missingSharedIds,T=function(){var e=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==C.length){e.next=2;break}return e.abrupt("return",Promise.resolve({}));case 2:if(!d){e.next=17;break}return e.next=5,(0,a.Eg)({id:u,partners:C,includeAssetSummary:!0,partnerType:"INTERNAL",limit:C.length});case 5:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=9;break}e.t1=void 0===t;case 9:if(!e.t1){e.next=13;break}e.t3=void 0,e.next=14;break;case 13:e.t3=t.data.data.reduce(E,{});case 14:e.t0=e.t3,e.next=20;break;case 17:return e.next=19,(0,a.FA)({businessId:u,requestIds:C,includeAssetSummary:!0});case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==w.length){e.next=2;break}return e.abrupt("return",Promise.resolve({}));case 2:if(!d){e.next=17;break}return e.next=5,(0,a.Eg)({id:u,partners:w,includeAssetSummary:!0,partnerType:"EXTERNAL",limit:w.length});case 5:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=9;break}e.t1=void 0===t;case 9:if(!e.t1){e.next=13;break}e.t3=void 0,e.next=14;break;case 13:e.t3=t.data.data.reduce(E,{});case 14:e.t0=e.t3,e.next=20;break;case 17:return e.next=19,(0,a.qC)({businessId:u,requestIds:w,includeAssetSummary:!0});case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t.next=28,Promise.all([T(),z()]);case 28:N=(R=m(t.sent,2))[0],D=R[1],e.updateTotalCountOnly?n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:I}}):n(x(v(v({},h),{},{ids:O,data:v(v({},N),D),totalCount:I}))),t.next=38;break;case 35:t.prev=35,t.t1=t.catch(9),n(S(t.t1));case 38:case"end":return t.stop()}},t,null,[[9,35]])})),function(e,n){return t.apply(this,arguments)}},j=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n){var r,s,i,o,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.partnerId,i=e.detailId,o=e.inEmployeeApiMigration,c=null!=s?s:i,!(!r&&!c)){t.next=4;break}return t.abrupt("return");case 4:if(n({type:"GET_PARTNER"}),t.prev=5,!o){t.next=21;break}return t.next=9,(0,a.Eg)({id:r,partners:[c],includeAssetSummary:!0,partnerType:"INTERNAL"});case 9:if(t.t2=l=t.sent,t.t1=null===t.t2,t.t1){t.next=13;break}t.t1=void 0===l;case 13:if(!t.t1){t.next=17;break}t.t3=void 0,t.next=18;break;case 17:t.t3=l.data.data.reduce(E,{});case 18:t.t0=t.t3,t.next=24;break;case 21:return t.next=23,(0,a.FA)({businessId:r,requestIds:[c],includeAssetSummary:!0});case 23:t.t0=t.sent;case 24:n({type:"GET_PARTNER_SUCCESS",payload:{data:t.t0}}),t.next=31;break;case 28:t.prev=28,t.t4=t.catch(5),n({type:"GET_PARTNER_ERROR",error:t.t4});case 31:case"end":return t.stop()}},t,null,[[5,28]])})),function(e){return t.apply(this,arguments)}},O=(r=b(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.pI)({businessId:t,assetIds:n.map(function(e){return e.asset_id}),resourceType:"AD_ACCOUNT"});case 2:return s=(r=e.sent)?n.reduce(function(e,t){return v(v({},e),{},{data:v(v({},e.data),{},{data:v(v({},e.data.data),{},g({},t.asset_id,v(v({},e.data.data[t.asset_id]),t)))})})},r):{data:{data:{}}},e.abrupt("return",s);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),C=function(e){var t,n=e.experimentsClient,r=f(e,u);return t=b(regeneratorRuntime.mark(function e(t,s){var o,c,u,d,_,f,m,p,h,b,y,g,A,S,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.businessId,c=r.detailId,u=s(),!(!o&&!c)){e.next=4;break}return e.abrupt("return");case 4:return d=(0,l.MG)(u),_=(0,i.IW)(r,d),f=v(v(v({businessId:o,partnerId:c},d),r),{},{startIndex:_},0===_&&{page:1}),t({type:"GET_PARTNER_ASSETS"}),e.prev=8,e.next=11,(0,a.SB)(f);case 11:if(h=void 0===(p=(m=void 0===(m=e.sent.data)?{}:m).data)?[]:p,b=m.total_data_count,!((null==n?void 0:n.checkExperiment("business_access_assets_and_history_api_v4_migration"))||{}).anyEnabled){e.next=24;break}return e.next=19,O(o,h);case 19:y=e.sent,g=h.map(function(e){return e.asset_id}),t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:v(v({},f),{},{ids:g,data:y.data.data,totalCount:b})}),e.next=26;break;case 24:S=(A=(0,i.Ah)(function(e){return e.asset_id},h)).ids,x=A.data,t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:v(v({},f),{},{ids:S,data:x,totalCount:b})});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),t({type:"GET_PARTNER_ASSETS_ERROR",error:e.t0});case 31:case"end":return e.stop()}},e,null,[[8,28]])})),function(e,n){return t.apply(this,arguments)}},w=function(e){return function(t){var n=e.businessId,r=e.detailId,i=e.reloadBugFix,o=e.inEmployeeApiMigration;(n||r)&&(t(j({businessId:n,detailId:r,inEmployeeApiMigration:void 0!==o&&o})),t(C(v(v({},i&&s.vk),e))))}},T=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n){var r,s,i,o,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.businessId,s=e.partnerId,i=e.detailId,o=e.inEmployeeApiMigration,c=null!=s?s:i,!(!r&&!c)){t.next=4;break}return t.abrupt("return");case 4:if(n({type:"GET_PARTNER"}),t.prev=5,!o){t.next=21;break}return t.next=9,(0,a.Eg)({id:r,partners:[c],includeAssetSummary:!0,partnerType:"EXTERNAL"});case 9:if(t.t2=l=t.sent,t.t1=null===t.t2,t.t1){t.next=13;break}t.t1=void 0===l;case 13:if(!t.t1){t.next=17;break}t.t3=void 0,t.next=18;break;case 17:t.t3=l.data.data.reduce(E,{});case 18:t.t0=t.t3,t.next=24;break;case 21:return t.next=23,(0,a.qC)({businessId:r,requestIds:[c],includeAssetSummary:!0});case 23:t.t0=t.sent;case 24:n({type:"GET_PARTNER_SUCCESS",payload:{data:t.t0}}),t.next=31;break;case 28:t.prev=28,t.t4=t.catch(5),n({type:"GET_PARTNER_ERROR",error:t.t4});case 31:case"end":return t.stop()}},t,null,[[5,28]])})),function(e){return t.apply(this,arguments)}},z=function(e){var t,n=e.experimentsClient,r=f(e,d);return t=b(regeneratorRuntime.mark(function e(t,s){var o,c,u,d,_,f,m,p,h,b,y,g,A,S,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.businessId,c=r.detailId,u=s(),!(!o&&!c)){e.next=4;break}return e.abrupt("return");case 4:return d=(0,l.MG)(u),_=(0,i.IW)(r,d),f=v(v(v({businessId:o,partnerId:c},d),r),{},{startIndex:_},0===_&&{page:1}),t({type:"GET_PARTNER_ASSETS"}),e.prev=8,e.next=11,(0,a.Of)(f);case 11:if(h=void 0===(p=(m=void 0===(m=e.sent.data)?{}:m).data)?[]:p,b=m.total_data_count,!((null==n?void 0:n.checkExperiment("business_access_assets_and_history_api_v4_migration"))||{}).anyEnabled){e.next=24;break}return e.next=19,O(o,h);case 19:y=e.sent,g=h.map(function(e){return e.asset_id}),t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:v(v({},f),{},{ids:g,data:y.data.data,totalCount:b})}),e.next=26;break;case 24:S=(A=(0,i.Ah)(function(e){return e.asset_id},h)).ids,x=A.data,t({type:"GET_PARTNER_ASSETS_SUCCESS",payload:v(v({},f),{},{ids:S,data:x,totalCount:b})});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),t({type:"GET_PARTNER_ASSETS_ERROR",error:e.t0});case 31:case"end":return e.stop()}},e,null,[[8,28]])})),function(e,n){return t.apply(this,arguments)}},R=function(e){return function(t){var n=e.businessId,r=e.detailId,s=e.inEmployeeApiMigration;(n||r)&&(t(T({businessId:n,detailId:r,inEmployeeApiMigration:void 0!==s&&s})),t(z(e)))}},N=function(e){var t;return t=b(regeneratorRuntime.mark(function t(n,r){var s,c,u,d,_,f,m,p,h,b,y,g,A,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),c=e.businessId,u=e.detailId,!(!c&&!u)){t.next=4;break}return t.abrupt("return");case 4:return d=(0,l.MG)(s),_=(0,i.IW)(e,d),f=v(v(v({businessId:c,partnerId:u},d),e),{},{startIndex:_},0===_&&{page:1}),n({type:"GET_PARTNER_ASSET_GROUPS",payload:null,error:null}),t.prev=8,t.next=11,(0,a.Bq)(f);case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={data:{}};case 14:return b=void 0===(h=(p=t.t0.data).data)?[]:h,g=void 0===(y=p.total_data_count)?0:y,A=b.map(function(e){return e.asset_id}),t.next=23,(0,o.pI)({limit:f.limit,assetIds:A,businessId:c,resourceType:"ASSET_GROUP"});case 23:x=(null==(S=t.sent)?void 0:null===(m=S.data)||void 0===m?void 0:m.data)||{},E=b.reduce(function(e,t){return e[t.asset_id]=v(v({},t),x[t.asset_id]),e},{}),n({type:"GET_PARTNER_ASSET_GROUPS_SUCCESS",payload:v(v({ids:Object.keys(E),data:E},f),{},{totalCount:g}),error:null}),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(8),n({type:"GET_PARTNER_ASSET_GROUPS_ERROR",error:t.t1,payload:null});case 32:case"end":return t.stop()}},t,null,[[8,29]])})),function(e,n){return t.apply(this,arguments)}},D=function(e){var t,n=e.businessId,r=e.partnerId,s=e.role,i=e.businessHierarchyNodeId,o=e.onSuccess,c=e.onFailure;return t=b(regeneratorRuntime.mark(function e(t){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_PARTNER_INVITE"}),e.prev=1,e.next=4,(0,a.Zk)({partnerId:r,role:s,businessId:n,businessHierarchyNodeId:i});case 4:l=e.sent.data.data,t({type:"CREATE_PARTNER_INVITE_SUCCESS"}),o&&o(l[r]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"CREATE_PARTNER_INVITE_ERROR",error:e.t0}),c&&c(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return t.apply(this,arguments)}},k=function(e){var t,n=e.businessId,r=e.partnerId,s=e.role,i=e.onSuccess,o=e.onFailure;return t=b(regeneratorRuntime.mark(function e(t){var c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CREATE_PARTNER_REQUEST"}),e.prev=1,e.next=4,(0,a.Jq)({partnerId:r,role:s,businessId:n});case 4:c=e.sent.data.data,t({type:"CREATE_PARTNER_REQUEST_SUCCESS"}),i&&i(r,c[r]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"CREATE_PARTNER_REQUEST_ERROR",error:e.t0}),o&&o(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return t.apply(this,arguments)}}},704454:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var r=n(326884),s=n(362746);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var u=function(e,t,n){var i,o,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return i=regeneratorRuntime.mark(function i(o){var l,_,f,m,p,h,b,y;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return l=a({id:n,is_member:"MEMBER"===t,filters:{invite_status:e}},d&&r.vk),o({type:"MEMBER"===t?"GET_PENDING_PEOPLE":"GET_PENDING_PARTNERS"}),i.prev=2,i.next=5,(0,s.R)(l);case 5:m=void 0===(f=(_=void 0===(_=i.sent.data)?{}:_).data)?[]:f,p=_.total_data_count,b=(h=m.reduce(function(e,t){return e.ids.push(t.id),e.data=a(a({},e.data),{},c({},t.id,t)),e},{ids:[],data:{}})).ids,y=h.data,o({type:"MEMBER"===t?"GET_PENDING_PEOPLE_SUCCESS":"GET_PENDING_PARTNERS_SUCCESS",payload:a(a({},l),{},{ids:b,data:y,totalCount:p,inviteStatus:e,updateDataOnly:u})}),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(2),o({type:"MEMBER"===t?"GET_PENDING_PEOPLE_ERROR":"GET_PENDING_PARTNERS_ERROR",error:i.t0});case 16:case"end":return i.stop()}},i,null,[[2,13]])}),o=function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function o(e){l(s,n,r,o,a,"next",e)}function a(e){l(s,n,r,o,a,"throw",e)}o(void 0)})},function(e){return o.apply(this,arguments)}}},736126:function(e,t,n){"use strict";n.d(t,{Ay:function(){return I},Fx:function(){return N},Io:function(){return w},JC:function(){return z},Qn:function(){return C},Rx:function(){return R},UQ:function(){return j},fR:function(){return O},kH:function(){return T}});var r=n(326884),s=n(704454),i=n(165544),o=n(433835),a=n(76041),c=n(320843),l=n(809173),u=n(230412);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["detailIdOverride","experimentsClient"],f=["detailIdOverride","experimentsClient"],m=["detailIdOverride"];function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){var r;return(r=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===d(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function A(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){A(i,r,s,o,a,"next",e)}function a(e){A(i,r,s,o,a,"throw",e)}o(void 0)})}}var x=function(){return{type:"GET_PEOPLE"}},E=function(e){return{type:"GET_PEOPLE_ERROR",error:e}},P=function(e){return{type:"GET_PEOPLE_SUCCESS",payload:e}},I=function(e){var t;return t=S(regeneratorRuntime.mark(function t(n,r){var s,i,o,c,u,d,_,f,m,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=void 0!==(s=e.force)&&s,o=e.businessId,c=e.personId,u=e.detailId,d=e.useGetPeopleEndpoint,_=r(),f=null!=c?c:u,m=!i&&(0,l.g7)(u)(_),!(!o||!f||m)){t.next=6;break}return t.abrupt("return");case 6:if(n({type:"GET_PERSON"}),t.prev=7,p={},!d){t.next=18;break}return t.next=12,(0,a.JC)({id:o,memberIds:[f],includeAssetSummary:!0});case 12:p=(void 0===(h=t.sent.data.data)?[]:h).reduce(function(e,t){return e[t.id]=t,e},{}),t.next=21;break;case 18:return t.next=20,(0,a.kJ)({businessId:o,requestIds:[f],includeAssetSummary:!0});case 20:p=t.sent;case 21:n({type:"GET_PERSON_SUCCESS",payload:{data:p}}),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(7),n({type:"GET_PERSON_ERROR",error:t.t0});case 27:case"end":return t.stop()}},t,null,[[7,24]])})),function(e,n){return t.apply(this,arguments)}},j=function(e){var t,n=e.detailIdOverride,r=e.experimentsClient,s=g(e,_);return t=S(regeneratorRuntime.mark(function e(t,o){var c,l,d,_,f,m,p,h,b,v,g,A,S,x,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o(),l=s.businessId,d=s.detailId,_=s.assetPermissionType,f=n||d,!(!l&&!f)){e.next=5;break}return e.abrupt("return");case 5:return m=(0,u.MG)(c),p=(0,i.IW)(s,m),h=y(y(y({businessId:l,personId:f},m),s),{},{startIndex:p,assetPermissionType:_},0===p&&{page:1}),t({type:"GET_PERSON_ASSETS"}),e.prev=9,e.next=12,(0,a.QC)(h);case 12:g=void 0===(v=(b=void 0===(b=e.sent.data)?{}:b).data)?[]:v,A=b.total_data_count,x=(S=(r.checkExperiment("business_access_assets_and_history_api_v4_migration")||{}).anyEnabled?{ids:Object.keys(g),data:g}:(0,i.Ah)(function(e){return e.asset_id},g)).ids,E=S.data,t({type:"GET_PERSON_ASSETS_SUCCESS",payload:y(y({},h),{},{ids:x,data:E,totalCount:A})}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),t({type:"GET_PERSON_ASSETS_ERROR",error:e.t0});case 24:case"end":return e.stop()}},e,null,[[9,21]])})),function(e,n){return t.apply(this,arguments)}},O=function(e){var t,n=e.detailIdOverride,s=e.experimentsClient,c=g(e,f);return t=S(regeneratorRuntime.mark(function e(t,l){var d,_,f,m,p,h,b,v,g,A,S,x,E,P,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=l(),_=c.businessId,f=c.detailId,m=c.assetPermissionType,p=n||f,!(!_&&!p)){e.next=5;break}return e.abrupt("return");case 5:return h=(0,u.MG)(d),b=(0,i.IW)(c,h),v=y(y(y({businessId:_,personId:p},h),c),{},{startIndex:b,assetPermissionType:m},0===b&&{page:1}),t({type:"GET_PERSON_PROFILES"}),e.prev=9,e.next=12,(0,a.mZ)(v);case 12:if(A=(g=e.sent.data).data,S=g.total_data_count,x=((null==s?void 0:s.checkExperiment("business_access_assets_and_history_api_v4_migration"))||{}).anyEnabled,E={},!x){e.next=22;break}E=A,e.next=28;break;case 22:return P=A.map(function(e){return e.asset_id}),e.next=25,(0,o.eo)({limit:v.limit,type:r.tP.PROFILE,assetIds:P,id:_});case 25:I=e.sent.data.data,A.forEach(function(e){E[e.asset_id]=y(y({},e),I[e.asset_id])});case 28:t({type:"GET_PERSON_PROFILES_SUCCESS",payload:{ids:Object.keys(E),data:E,totalCount:S}}),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(9),t({type:"GET_PERSON_PROFILES_ERROR",error:e.t0});case 34:case"end":return e.stop()}},e,null,[[9,31]])})),function(e,n){return t.apply(this,arguments)}},C=function(e){var t,n=e.detailIdOverride,r=g(e,m);return t=S(regeneratorRuntime.mark(function e(t,s){var c,l,d,_,f,m,p,h,b,v,g,A,S,x,E,P,I,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s(),l=r.businessId,d=r.detailId,_=r.assetPermissionType,f=n||d,!(!l&&!f)){e.next=5;break}return e.abrupt("return");case 5:return m=(0,u.MG)(c),p=(0,i.IW)(r,m),h=y(y(y({businessId:l,personId:f},m),r),{},{startIndex:p,assetPermissionType:_},0===p&&{page:1}),t({type:"GET_PERSON_ASSET_GROUPS"}),e.prev=9,e.next=12,(0,a.n5)(h);case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0={data:{}};case 15:return A=void 0===(g=(v=e.t0.data).data)?[]:g,x=void 0===(S=v.total_data_count)?0:S,E=A.map(function(e){return e.asset_id}),e.next=24,(0,o.pI)({limit:h.limit,assetIds:E,businessId:l,resourceType:"ASSET_GROUP"});case 24:I=(null==(P=e.sent)?void 0:null===(b=P.data)||void 0===b?void 0:b.data)||{},j=A.reduce(function(e,t){return e[t.asset_id]=y(y({},t),I[t.asset_id]),e},{}),t({type:"GET_PERSON_ASSET_GROUPS_SUCCESS",payload:y(y({ids:Object.keys(j),data:j},h),{},{totalCount:x})}),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(9),t({type:"GET_PERSON_ASSET_GROUPS_ERROR",error:e.t1});case 33:case"end":return e.stop()}},e,null,[[9,30]])})),function(e,n){return t.apply(this,arguments)}},w=function(e){var t=e.getAssets,n=e.businessId,s=e.detailId,i=e.useGetPeopleEndpoint,o=e.reloadBugFix,a=e.experimentsClient;return function(e){(n||s)&&(e(I({businessId:n,detailId:s,useGetPeopleEndpoint:i})),t&&e(j(y(y({},o&&r.vk),{},{sortBy:"name",sortDirection:r.IR.ASCENDING,businessId:n,detailId:s,experimentsClient:a}))))}},T=function(e){var t;return t=S(regeneratorRuntime.mark(function t(n,s){var o,c,d,_,f,m,h,b,g,A,S,I,j,O,C,w,T,z,R,N,D,k,L;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=s(),c=e.businessId,d=e.includePinSupportUser,_=(0,l.gF)(o),c){t.next=5;break}return t.abrupt("return");case 5:return f=(0,u.MG)(o),m=(0,i.IW)(e,f),h=y(y(y({id:c},f),e),{},{startIndex:m},0===m&&{page:1}),n(x()),t.prev=9,t.next=12,(0,a.kH)(h);case 12:if(S=void 0===(A=(g=void 0===(g=t.sent.data)?{}:g).data)?[]:A,I=g.total_data_count,O=(j=S.reduce(function(e,t){var n=t.id;return e.ids.push(n),_[n]&&_[n].biz_roles||e.missingIds.push(n),e},{ids:[],missingIds:[]})).ids,!((C=j.missingIds).length>0)){t.next=23;break}return t.next=20,(0,a.kJ)({businessId:c,requestIds:C,includeAssetSummary:!0});case 20:t.t0=t.sent,t.next=24;break;case 23:t.t0={};case 24:w=t.t0,T=null===(b=h.searchTerm)||void 0===b?void 0:b.toLowerCase(),z=r.we.user,R=void 0===T&&1===h.page,N=d&&void 0!==T&&(z.username.toLowerCase().includes(T)||z.full_name.toLowerCase().includes(T)),D=d&&(R||N),k=d&&void 0===T||N?I+1:I,L=D?{ids:[r.we.id].concat(p(O)),data:y(y({},w),{},v({},r.we.id,r.we))}:{ids:O,data:w},e.updateTotalCountOnly?n({type:"UPDATE_PEOPLE_TOTAL_COUNT",payload:{totalCount:k}}):n(P(y(y(y({},h),L),{},{totalCount:k}))),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(9),n(E(t.t1));case 39:case"end":return t.stop()}},t,null,[[9,36]])})),function(e,n){return t.apply(this,arguments)}},z=function(e){var t;return t=S(regeneratorRuntime.mark(function t(n,s){var o,c,d,_,f,m,h,b,g,A,S,I,j,O,C,w,T,z,R,N,D,k,L;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=s(),c=e.businessId,d=e.includePinSupportUser,_=e.updateDataOnly,f=(0,l.gF)(o),c){t.next=5;break}return t.abrupt("return");case 5:if(m=(0,u.MG)(o),h=(0,i.IW)(e,m),b=y(y(y(y({id:c},m),e),{},{startIndex:h},0===h&&{page:1}),{},{includeAssetSummary:!0}),n(x()),t.prev=9,!((b.limit||0)>r.xX)){t.next=16;break}return t.next=13,(0,i.dF)(b,b.limit||0,"PEOPLE");case 13:t.t0=t.sent,t.next=19;break;case 16:return t.next=18,(0,a.JC)(b);case 18:t.t0=t.sent;case 19:I=void 0===(S=(A=void 0===(A=t.t0.data)?{}:A).data)?[]:S,j=A.total_data_count,C=(O=I.reduce(function(e,t){var n=t.id;return e.ids.push(n),f[n]&&f[n].business_roles||e.missingIds.push(n),e},{ids:[],missingIds:[]})).ids,w=O.missingIds.length>0&&I.reduce(function(e,t){return e[t.id]=t,e},{})||{},T=null===(g=b.searchTerm)||void 0===g?void 0:g.toLowerCase(),z=r.we.user,R=void 0===T&&1===b.page,N=d&&void 0!==T&&(z.username.toLowerCase().includes(T)||z.full_name.toLowerCase().includes(T)),D=d&&(R||N),k=d&&void 0===T||N?j+1:j,L=D?{ids:[r.we.id].concat(p(C)),data:y(y({},w),{},v({},r.we.id,r.we))}:{ids:C,data:w},e.updateTotalCountOnly?n({type:"UPDATE_PEOPLE_TOTAL_COUNT",payload:{totalCount:k}}):n(P(y(y(y({},b),L),{},{totalCount:k,updateDataOnly:_}))),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(9),n(E(t.t1));case 39:case"end":return t.stop()}},t,null,[[9,36]])})),function(e,n){return t.apply(this,arguments)}},R=function(e){var t,n=e.businessId,r=e.detailId,i=e.businessHierarchyNodeId,o=e.isPendingTabActive,l=e.usePeopleV4Endpoint,u=e.peopleIdentifiers,d=e.assignedRole,_=e.onSuccess,f=e.onFailure;return t=S(regeneratorRuntime.mark(function e(t,m){var p,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=m(),h=(0,c.t_)(p),t({type:"CREATE_PEOPLE_INVITE"}),e.prev=3,e.next=6,(0,a.p_)(u,d,n,i);case 6:b=Object.values(e.sent.data),t({type:"CREATE_PEOPLE_INVITE_SUCCESS"}),t(I({businessId:n,detailId:r,useGetPeopleEndpoint:l})),t((0,s.R)(h,"MEMBER",n,!o)),_&&_(b),e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(3),t({type:"CREATE_PEOPLE_INVITE_ERROR",error:e.t0}),f&&f(e.t0),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,14]])})),function(e,n){return t.apply(this,arguments)}},N=function(e){var t,n=e.businessId,r=e.detailId,s=e.removeId,i=e.assignedRole,o=e.businessHierarchyNodeId,c=e.onSuccess,l=e.onFailure,u=e.usePeopleV4Endpoint,d=e.disablePeopleV4EndpointCall;return t=S(regeneratorRuntime.mark(function e(t){var _;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"DELETE_PEOPLE"}),e.prev=1,_=u?z:T,e.next=5,(0,a.dx)(n,s,i,o);case 5:t({type:"DELETE_PEOPLE_SUCCESS"}),d||t(_({businessId:n,detailId:r})),c&&c(),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(1),l&&l(e.t0),t({type:"DELETE_PEOPLE_ERROR",error:e.t0}),e.t0;case 15:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return t.apply(this,arguments)}}},888224:function(e,t,n){"use strict";n.d(t,{A9:function(){return p},XA:function(){return b},_$:function(){return y},fR:function(){return v},iS:function(){return h},t$:function(){return g}});var r=n(326884),s=n(165544),i=n(433835),o=n(76041),a=n(230412);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){var r;return(r=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){f(i,r,s,o,a,"next",e)}function a(e){f(i,r,s,o,a,"throw",e)}o(void 0)})}}var p=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,o){var c,l,u,_,f,m,p,h,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=o(),l=e.businessId){t.next=4;break}return t.abrupt("return");case 4:return u=(0,a.MG)(c),_=(0,s.IW)(e,u),f=d(d(d({},u),e),{},{id:l,startIndex:_}),n({type:"GET_ALL_PROFILES"}),t.prev=8,t.next=11,(0,i.cp)(f);case 11:return p=(m=t.sent.data).data,h=m.total_data_count,b=p.reduce(function(e,t){return e.concat(t.asset_id)},[]),t.next=18,(0,i.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:b,id:l});case 18:y=t.sent.data.data,v={},p.forEach(function(e){v[e.asset_id]=d(d({},e),y[e.asset_id])}),n({type:"GET_ALL_PROFILES_SUCCESS",payload:d(d({},f),{},{ids:Object.keys(v),data:v,totalCount:h})}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(8),n({type:"GET_ALL_PROFILES_ERROR",error:t.t0});case 28:case"end":return t.stop()}},t,null,[[8,25]])})),function(e,n){return t.apply(this,arguments)}},h=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var o,c,l,u,_,f,m,p,h,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),c=e.businessId,l=e.detailId,!(!c||!l)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PROFILE_DETAIL_PEOPLE"}),t.prev=5,u=(0,a.MG)(o),_=(0,s.IW)(e,u),f=d(d(d({},u),e),{},{businessId:c,assetId:l,startIndex:_}),t.next=11,(0,i.BG)(f);case 11:p=(m=t.sent.data).data,h=m.total_data_count,y=(b=(0,s.Ah)(function(e){return e.id},p)).ids,v=b.data,n({type:"GET_PROFILE_DETAIL_PEOPLE_SUCCESS",payload:d(d({},f),{},{ids:y,data:v,totalCount:h})}),n({type:"UPDATE_PEOPLE_TOTAL_COUNT",payload:{totalCount:h}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),n({type:"GET_PROFILE_DETAIL_PEOPLE_ERROR",error:t.t0});case 23:case"end":return t.stop()}},t,null,[[5,20]])})),function(e,n){return t.apply(this,arguments)}},b=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var o,c,l,u,_,f,m,p,h,b,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),c=e.businessId,l=e.detailId,!(!c||!l)){t.next=4;break}return t.abrupt("return");case 4:return n({type:"GET_PROFILE_DETAIL_PARTNERS"}),t.prev=5,u=(0,a.MG)(o),_=(0,s.IW)(e,u),f=d(d(d({},u),e),{},{businessId:c,assetId:l,startIndex:_}),t.next=11,(0,i.N1)(f);case 11:p=(m=t.sent.data).data,h=m.total_data_count,y=(b=(0,s.Ah)(function(e){return e.id},p)).ids,v=b.data,n({type:"GET_PROFILE_DETAIL_PARTNERS_SUCCESS",payload:d(d({},f),{},{ids:y,data:v,totalCount:h})}),n({type:"UPDATE_PARTNERS_TOTAL_COUNT",payload:{totalCount:h}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),n({type:"GET_PROFILE_DETAIL_PARTNERS_ERROR",error:t.t0});case 23:case"end":return t.stop()}},t,null,[[5,20]])})),function(e,n){return t.apply(this,arguments)}},y=function(e){var t,n=e.businessId,s=e.detailId;return t=m(regeneratorRuntime.mark(function e(t,o){var c,u,f,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o(),!(!n||!s)){e.next=3;break}return e.abrupt("return");case 3:return u=(0,a.MG)(c),t({type:"GET_PROFILE_META"}),e.prev=5,e.next=8,Promise.all([(0,i.eo)({limit:u.limit,type:r.tP.PROFILE,assetIds:[s],id:n}),(0,i.G2)({assetId:s,businessId:n,resourceType:"PROFILE"})]);case 8:var h;m=(f=function(e){if(Array.isArray(e))return e}(h=e.sent)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(h,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(h,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].data.data,p=f[1].data.data,t({type:"GET_PROFILE_META_SUCCESS",payload:{data:_({},s,d(d({},m[s]),p))}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),t({type:"GET_PROFILE_META_ERROR",error:e.t0});case 18:case"end":return e.stop()}},e,null,[[5,15]])})),function(e,n){return t.apply(this,arguments)}},v=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,c){var l,u,_,f,m,p,h,b,y,v,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=c(),u=e.businessId,_=e.experimentsClient,u){t.next=4;break}return t.abrupt("return");case 4:return f=(0,a.MG)(l),m=(0,s.IW)(e,f),p=d(d(d({businessId:u},f),e),{},{startIndex:m},0===m&&{page:1}),n({type:"GET_DASHBOARD_PROFILES"}),t.prev=8,t.next=11,(0,o.mZ)(p);case 11:if(h=t.sent.data.data,b=(_.checkExperiment("business_access_assets_and_history_api_v4_migration")||{}).anyEnabled,y={},!b){t.next=19;break}y=h,t.next=25;break;case 19:return v=h.reduce(function(e,t){return e.concat(t.asset_id)},[]),t.next=22,(0,i.eo)({limit:e.limit||r.cU,type:r.tP.PROFILE,assetIds:v,id:u});case 22:g=t.sent.data.data,h.forEach(function(e){y[e.asset_id]=d(d({},e),g[e.asset_id])});case 25:n({type:"GET_DASHBOARD_PROFILES_SUCCESS",payload:{ids:Object.keys(y),data:y}}),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(8),n({type:"GET_DASHBOARD_PROFILES_ERROR",error:t.t0});case 31:case"end":return t.stop()}},t,null,[[8,28]])})),function(e,n){return t.apply(this,arguments)}},g=function(e){var t;return t=m(regeneratorRuntime.mark(function t(n,r){var o,c,l,u,_,f,m,p,h,b,y,v,g,A,S,x,E;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),l=e.businessId,u=e.detailId,!(!l&&!u)){t.next=4;break}return t.abrupt("return");case 4:return _=(0,a.MG)(c),f=(0,s.IW)(e,_),m=null!==(o=e.sortBy)&&void 0!==o?o:["name","permissions"].includes(_.sortBy)?_.sortBy:"name",p=d(d(d({businessId:l,assetId:u},_),e),{},{startIndex:f,sortBy:m},0===f&&{page:1}),n({type:"GET_PROFILE_ASSET_GROUPS"}),t.prev=9,t.next=12,(0,i.fc)(d({},p));case 12:return A=(g=(null==(v=t.sent)?void 0:null===(h=v.data)||void 0===h?void 0:h.data)||[]).map(function(e){return e.asset_id}),t.next=17,(0,i.pI)({assetIds:A,businessId:p.businessId,resourceType:"ASSET_GROUP",limit:p.limit});case 17:x=(null==(S=t.sent)?void 0:null===(b=S.data)||void 0===b?void 0:b.data)||{},E=g.reduce(function(e,t){return e[t.asset_id]=d(d(d({},t),x[t.asset_id]),x[t.asset_id].asset),e},{}),n({type:"GET_PROFILE_ASSET_GROUPS_SUCCESS",payload:d({ids:Object.keys(E),data:E,totalCount:null==v?void 0:null===(y=v.data)||void 0===y?void 0:y.total_data_count},p)}),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(9),n({type:"GET_PROFILE_ASSET_GROUPS_ERROR",error:t.t0});case 26:case"end":return t.stop()}},t,null,[[9,23]])})),function(e,n){return t.apply(this,arguments)}}},669402:function(e,t,n){"use strict";n.d(t,{NJ:function(){return h},NX:function(){return b},a3:function(){return g},at:function(){return v},oZ:function(){return A},rc:function(){return y},t8:function(){return S}});var r=n(326884),s=n(165544),i=n(433835),o=n(62492),a=n(367974);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["isBusinessAccessAgencyTagEnabled","isEmployee"];function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){m(i,r,s,o,a,"next",e)}function a(e){m(i,r,s,o,a,"throw",e)}o(void 0)})}}var h=function(e){var t,n=e.businessId,s=e.detailId,a=e.isEmployee;return t=p(regeneratorRuntime.mark(function e(t){var c,l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"GET_TAGS"}),e.prev=1,!(a&&s)){e.next=8;break}return e.next=5,(0,o.dz)({businessId:n,detailId:s});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,o.yZ)({businessId:n});case 10:e.t0=e.sent;case 11:return l=e.t0.map(function(e){return e.asset_id}),e.next=15,(0,i.pI)({assetIds:l,businessId:n,resourceType:"CONVERSION_TAG",limit:r.xX});case 15:t({type:"GET_TAGS_SUCCESS",payload:{data:Object.keys(d=(null==(u=e.sent)?void 0:null===(c=u.data)||void 0===c?void 0:c.data)||{}).map(function(e){var t=d[e].asset;return{id:t.id,name:t.name,automatic_enhanced_match:t.automatic_enhanced_match,ad_account_id:t.ad_account_id,business_id:t.business_id,created_time:t.created_time,last_fired_event:t.last_fired_event,leader_tag_business_id:t.leader_tag_business_id,leader_tag_ad_account_id:t.leader_tag_ad_account_id,leader_tag_id:t.leader_tag_id,leader_tag_name:t.leader_tag_name,leader_tag_enabled:t.leader_tag_enabled}}).sort(function(e,t){return e.created_time-t.created_time})}}),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),t({type:"GET_TAGS_ERROR",error:e.t1});case 24:case"end":return e.stop()}},e,null,[[1,21]])})),function(e){return t.apply(this,arguments)}},b=function(e){var t=e.id;return function(e){e({type:"SELECT_TAGS",payload:{data:t}})}},y=function(e,t){var n;return n=p(regeneratorRuntime.mark(function n(r,c){var d,_,m,p,h,b,y,v,g,A,S,x,E,P,I,j,O,C,w,T,z,R,N,D,k;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r({type:"GET_TAG_ASSETS"}),n.prev=1,m=(null==t?void 0:t.updateDataOnly)||!1,p=c(),h=(0,a.br)(p),y=(b=(0,a.iX)(p)).tags.filter(function(e){return"NONE"!==e.ad_account_id.toUpperCase()}).map(function(e){return e.ad_account_id})||[],v=(0,a.YM)(p),g=(0,s.IW)(e,v),A=y.concat((null==t?void 0:t.assetsToAdd)||[]).filter(function(e){var n;return!(null!=t&&null!==(n=t.assetsToRemove)&&void 0!==n&&n.includes(e))}),S=[],x=e.isBusinessAccessAgencyTagEnabled,E=e.isEmployee,P=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,l),!(x&&(b.business_id!==P.businessId||E))){n.next=29;break}return n.next=15,(0,o.EJ)({tagIds:[b.id]});case 15:if(n.t2=I=n.sent.resource_response.data,n.t1=null===n.t2,n.t1){n.next=19;break}n.t1=void 0===I;case 19:if(!n.t1){n.next=23;break}n.t3=void 0,n.next=24;break;case 23:n.t3=I.tags;case 24:if(n.t0=n.t3,n.t0){n.next=27;break}n.t0=[];case 27:S=n.t0.map(function(e){return{id:e.ad_account_id,name:e.ad_account_name,owner:{id:e.ad_account_owner.id,full_name:e.ad_account_owner.full_name},tagId:e.id,ownedOrEnabled:!1}});case 29:return y||r({type:"GET_TAG_ASSETS_SUCCESS",payload:{data:{adAccounts:S,tagAssetsIds:[],tagId:h}}}),j=f(f(f(f({},v),P),{},{startIndex:g},0===g&&{page:1}),{},{assetIds:[].concat(u(A),[b.ad_account_id]),resourceType:"AD_ACCOUNT"}),n.next=33,(0,i.pI)(j);case 33:w=(C=(null==(O=n.sent)?void 0:null===(d=O.data)||void 0===d?void 0:d.data)||{})[b.ad_account_id]?{ownerAdAccount:{id:b.ad_account_id,name:C[b.ad_account_id].asset.name,owner:{id:C[b.ad_account_id].owner.id,full_name:C[b.ad_account_id].owner.full_name},tagId:h,ownedOrEnabled:!0}}:{},z=(T=Object.keys(C).filter(function(e){return e!==b.ad_account_id}).map(function(e){var t,n;return{id:e,name:C[e].asset.name,owner:{id:C[e].owner.id,full_name:C[e].owner.full_name},tagId:null!==(t=null===(n=b.tags.find(function(t){return t.ad_account_id===e}))||void 0===n?void 0:n.id)&&void 0!==t?t:"",ownedOrEnabled:!0}})).map(function(e){return e.id.toString()}),r({type:"GET_TAG_ASSETS_SUCCESS",payload:{data:R=f({adAccounts:[].concat(u(T),u(S.filter(function(e){return!z.includes(e.id.toString())}))),tagAssetsIds:A,tagId:h},w),updateDataOnly:m}}),N=j.searchTerm,D=j.page,k=j.limit,r({type:"SET_TABLE_STATE",payload:{data:{table:{totalCount:(null===(_=R.tagAssetsIds)||void 0===_?void 0:_.length)||0,searchTerm:N,page:D,limit:k}}}}),n.next=47;break;case 44:n.prev=44,n.t4=n.catch(1),r({type:"GET_TAG_ASSETS_ERROR",payload:n.t4});case 47:case"end":return n.stop()}},n,null,[[1,44]])})),function(e,t){return n.apply(this,arguments)}},v=function(e){var t=e.adAccounts;return function(e){e({type:"SELECT_TAG_AD_ACCOUNTS",payload:{data:{adAccounts:t}}})}},g=function(e){var t,n=e.addedTags;return t=p(regeneratorRuntime.mark(function e(t,r){var s,i,o,c,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),!((i=(0,a.TX)(s).filter(function(e){return""!==n[e.id]})).length<1)){e.next=4;break}return e.abrupt("return");case 4:t({type:"SELECT_TAG_AD_ACCOUNTS",payload:{data:{adAccounts:i}}}),t({type:"ADD_TAG_ASSETS_AD_ACCOUNT"});try{o=(0,a.br)(s),c=(0,a.iX)(s),l=i.map(function(e){return{id:n[e.id],name:c.name,automatic_enhanced_match:c.automatic_enhanced_match,ad_account_id:e.id,business_id:e.owner.id,created_time:new Date().getTime(),leader_tag_business_id:c.business_id,leader_tag_ad_account_id:c.ad_account_id,leader_tag_id:c.id,leader_tag_name:c.name}}),d={adAccounts:[].concat(u(c.adAccounts),u(i.map(function(e){return f(f({},e),{},{tagId:n[e.id]})}))),tags:[].concat(u(c.tags),u(l)),tagId:o},t({type:"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS",payload:{data:d}})}catch(e){t({type:"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR",payload:e})}case 7:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}},A=function(e){var t,n=e.sharedTagId,r=e.adAccountId;return t=p(regeneratorRuntime.mark(function e(t,s){var i,o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=s(),t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT"});try{o=(0,a.br)(i),l={adAccounts:(c=(0,a.iX)(i)).adAccounts.filter(function(e){return e.id!==r}),tags:c.tags.filter(function(e){return e.id!==n}),tagId:o},t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS",payload:{data:l}})}catch(e){t({type:"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR",payload:e})}case 3:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}},S=function(e){return function(t){t({type:"SET_OVERLAY",payload:{data:{overlayState:e}}})}}},912781:function(e,t,n){"use strict";n.d(t,{Au:function(){return o},C5:function(){return c},jE:function(){return a},rf:function(){return u},ze:function(){return l}});var r=n(433835);function s(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)})}}var o=function(e){var t=e.id;return function(e){e({type:"SET_SELECTED_ID",payload:{data:t}})}},a=function(e){var t=e.previousPermissions;return function(e){e({type:"SET_PREVIOUS_PERMISSIONS",payload:{previousPermissions:t}})}},c=function(e){var t,n=e.userId,s=e.roles,o=e.permissions,a=e.adAccountId,c=e.businessId,l=e.assignmentType,u=e.clientBusinessId,d=e.businessHierarchyNodeId;return t=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT"}),e.prev=2,e.next=5,(0,r.EB)(n,s,o,a,c,l,u,d);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS",payload:{data:{userId:n,roles:s,adAccountId:a,businessId:c}}}),t({type:"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS",payload:{data:{employeeId:n,permissions:o,adAccountId:a}}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR",error:e.t0});case 14:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return t.apply(this,arguments)}},l=function(e){var t,n=e.userId,s=e.roles,o=e.permissions,a=e.adAccountId,c=e.businessId,l=e.clientBusinessId,u=e.businessHierarchyNodeId;return t=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE"}),e.prev=2,e.next=5,(0,r.EB)(n,s,o,a,c,"PEOPLE",l,u);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS",payload:{data:{userId:n,roles:s,adAccountId:a,businessId:c}}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return t.apply(this,arguments)}},u=function(e){var t,n=e.userId,s=e.roles,o=e.adAccountId,a=e.businessId,c=e.clientBusinessId,l=e.businessHierarchyNodeId;return t=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_PERMISSION"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER"}),e.prev=2,e.next=5,(0,r.EB)(n,s,s,o,a,"PARTNER",c,l);case 5:t({type:"UPDATE_PERMISSION_SUCCESS"}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS",payload:{data:{userId:n,roles:s,adAccountId:o,businessId:a}}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"UPDATE_PERMISSION_ERROR",error:e.t0}),t({type:"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR",error:e.t0});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return t.apply(this,arguments)}}},483388:function(e,t,n){"use strict";n.d(t,{F:function(){return l},O:function(){return u}});var r=n(856027),s=n(792157);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,c,"next",e)}function c(e){a(i,r,s,o,c,"throw",e)}o(void 0)})}}var l=function(e){var t;return t=c(regeneratorRuntime.mark(function t(n){var s,o,a,c,l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES"}),t.prev=1,t.next=4,(0,r.Tc)({businessId:e,inviteType:"BUSINESS_HIERARCHY_CHILD"});case 4:return c=(null==(a=t.sent)?void 0:null===(s=a.data)||void 0===s?void 0:s.data)||[],t.next=8,(0,r.Tc)({businessId:e,inviteType:"BUSINESS_HIERARCHY_MEMBER"});case 8:u=(null==(l=t.sent)?void 0:null===(o=l.data)||void 0===o?void 0:o.data)||[],n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS",payload:{data:[].concat(i(c),i(u))}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),n({type:"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR",error:t.t0});case 17:case"end":return t.stop()}},t,null,[[1,14]])})),function(e){return t.apply(this,arguments)}},u=function(e){var t;return t=c(regeneratorRuntime.mark(function t(n,r){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=r(),(0,s.St)(i)||l(e)(n);case 3:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)}}},913033:function(e,t,n){"use strict";n.d(t,{p:function(){return p},U:function(){return m}});var r,s,i,o,a=n(983722),c=n(186656);function l(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var u=(r=regeneratorRuntime.mark(function e(){var t,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==(t=null===(n=(0,a.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=6;break}return e.next=4,(0,c.Z)({url:"ads/v4/business_access/invites"});case 4:return r=e.sent,e.abrupt("return",r.resource_response);case 6:return e.next=8,(0,c.Z)({url:"/ads/internal/business_access/invites/"});case 8:return s=e.sent,e.abrupt("return",s.resource_response);case 10:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var i=r.apply(e,t);function o(e){l(i,n,s,o,a,"next",e)}function a(e){l(i,n,s,o,a,"throw",e)}o(void 0)})},function(){return s.apply(this,arguments)}),d=n(39662);function _(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){_(i,r,s,o,a,"next",e)}function a(e){_(i,r,s,o,a,"throw",e)}o(void 0)})}}var m=(i=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_VIEWER_INVITES"}),e.prev=1,e.next=4,u();case 4:t({type:"GET_VIEWER_INVITES_SUCCESS",payload:{data:e.sent.data.data}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_VIEWER_INVITES_ERROR",error:e.t0});case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return i.apply(this,arguments)}),p=(o=f(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),(0,d.O)(r)||t(m);case 3:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)})},977130:function(e,t,n){"use strict";n.d(t,{SA:function(){return S},iL:function(){return g},tu:function(){return v},u_:function(){return A},vm:function(){return b}});var r,s,i,o,a,c=n(131980),l=n(186656),u=n(239838);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===d(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){p(i,r,s,o,a,"next",e)}function a(e){p(i,r,s,o,a,"throw",e)}o(void 0)})}}var b=(r=h(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.requestIds,i=t.statuses,e.next=3,(0,l.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/ad_account_requests/"),data:{partner_id:r,request_ids:s&&s.length?s.join(","):void 0,statuses:i.join(",")}});case 3:return o=e.sent,e.abrupt("return",o.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),y=function(e){return e.reduce(function(e,t){var n=Object.keys(t)[0],r=Object.values(t)[0].includes("ADMIN")?m({},n,["ADMIN"]):t;return f(f({},e),r)},{})},v=(s=h(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.name,i=t.country,o=y(t.businessIdToPermissions),e.next=4,(0,l.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(r,"/ad_account_request/"),method:"POST",data:{name:s,country:i,business_id_to_permissions:o}});case 4:return a=e.sent,e.abrupt("return",a.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),g=(i=h(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.requestIds,e.next=3,(0,l.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/ad_account_requests/"),method:"POST",data:{request_ids:r}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),A=(o=h(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientBusinessId,r=t.country,s=t.requestId,e.next=3,(0,l.Z)({url:"/ads/v4/advertisers/",method:"POST",data:{client_business_id:n,agency_owned_ad_account_request_id:s,tos_id:(0,u.Fc)(c.tN[r])}});case 3:return i=e.sent,e.abrupt("return",i.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),S=(a=h(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.partnerId,s=t.requestId,i=t.businessHierarchyNodeId,o=t.status,c=(a=t.businessIdToPermissions)&&y(a),e.next=4,(0,l.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(r,"/ad_account_requests/").concat(s,"/"),method:"PUT",data:{business_request_status:o,business_id_to_permissions:c,business_hierarchy_node_id:i}});case 4:return u=e.sent,e.abrupt("return",u.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},299466:function(e,t,n){"use strict";n.d(t,{AJ:function(){return P},AY:function(){return E},Ct:function(){return C},FL:function(){return A},Pk:function(){return x},RE:function(){return S},Xw:function(){return O},i8:function(){return T},ld:function(){return I},lo:function(){return j},nk:function(){return w}});var r,s,i,o,a,c,l,u,d,_,f,m=n(326884),p=n(186656);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){v(i,r,s,o,a,"next",e)}function a(e){v(i,r,s,o,a,"throw",e)}o(void 0)})}}var A=(r=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,s=t.assetGroup,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/asset_groups/"),method:"POST",data:y(y({},s),{},{business_hierarchy_node_id:i})});case 3:if(!(o=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data)){e.next=9;break}return e.abrupt("return",y(y({},o),{},{id:String(o.id)}));case 9:throw Error("error parsing create asset group response");case 10:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),S=(s=g(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/asset_groups/").concat(r),method:"DELETE",data:{business_hierarchy_node_id:s}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),x=(i=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,s=t.assetGroup,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/asset_groups/").concat(s.id||""),method:"PUT",data:y(y({},s),{},{business_hierarchy_node_id:i})});case 3:if(!(o=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data)){e.next=9;break}return e.abrupt("return",y(y({},o),{},{id:String(o.id)}));case 9:throw Error("error parsing update asset group response");case 10:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),E=(o=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.employeeId,i=t.permissions,o=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/members/").concat(s,"/assets/").concat(r,"/access/"),method:"PUT",data:{permissions:i,business_hierarchy_node_id:o}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),P=(a=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.employeeId,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/members/").concat(s,"/assets/").concat(r,"/access/"),method:"DELETE",data:{business_hierarchy_node_id:i}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),I=(c=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.partnerId,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(s,"/assets/").concat(r,"/access/"),method:"DELETE",data:{business_hierarchy_node_id:i}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),j=(l=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,i=void 0===(s=t.limit)?m.xX:s,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/assets/"),data:{business_id:r,resource_type:"ASSET_GROUP",page_size:i}});case 3:return o=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),O=(u=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessHierarchyId,i=void 0===(s=t.limit)?m.xX:s,e.next=3,(0,p.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(r,"/assets"),data:{business_hierarchy_node_id:r,resource_type:"ASSET_GROUP",page_size:i}});case 3:return o=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}),C=(d=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.assetsToAdd,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/asset_groups/").concat(r),method:"PUT",data:{assets_to_add:s,business_hierarchy_node_id:i}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),w=(_=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.assetsToRemove,i=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/asset_groups/").concat(r),method:"PUT",data:{assets_to_remove:s,business_hierarchy_node_id:i}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),T=(f=g(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.assetGroupId,s=t.partnerId,i=t.permissions,o=t.businessHierarchyNodeId,e.next=3,(0,p.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/partners/").concat(s,"/assets/").concat(r,"/access/"),method:"PUT",data:{permissions:i,business_hierarchy_node_id:o}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})},856027:function(e,t,n){"use strict";n.d(t,{$N:function(){return A},Ay:function(){return S},FD:function(){return v},NN:function(){return P},Tc:function(){return j},hy:function(){return E},iS:function(){return g},mH:function(){return I},ov:function(){return O},wH:function(){return x}});var r,s,i,o,a,c,l,u,d,_,f=n(186656);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){b(i,r,s,o,a,"next",e)}function a(e){b(i,r,s,o,a,"throw",e)}o(void 0)})}}var v=(r=y(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,(0,f.Z)({url:"/ads/v4/business_access/business_hierarchies",method:"POST",data:{name:n}});case 3:return r=e.sent,e.abrupt("return",r.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),g=(s=y(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,s=void 0===(r=t.searchBy)?"FULL_NAME":r,o=void 0===(i=t.searchTerm)?"":i,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/users/"),data:{search_by:s,search_value:o}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),A=(i=y(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.childHierarchyId,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/children/").concat(r),method:"DELETE"});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),S=(o=y(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.managerId,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/users/").concat(r),method:"DELETE"});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),x=(a=y(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(t.id,"/"),method:"PATCH",data:{name:t.name}});case 2:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),E=(c=y(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c,l,u,d,_,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessHierarchyLookupId,r=t.businessRole,i=void 0===(s=t.sortBy)?"MEMBER_FULL_NAME":s,a=void 0===(o=t.searchBy)?["FULL_NAME","USERNAME","BUSINESS_ID","EMAIL"]:o,l=void 0===(c=t.searchTerm)?"":c,d=void 0===(u=t.sortDirection)?"ASCENDING":u,_=t.startIndex,m=t.limit,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(n,"/business_members/"),data:{business_role:r,sort_by:i,search_by:a,search_value:l,sort_ascending:"ASCENDING"===d,start_index:_,page_size:m}});case 3:return p=e.sent,e.abrupt("return",p.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),P=(l=y(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peopleIdentifiers,r=t.role,s=t.hierarchyId,"CHILD_BUSINESS"!==r){e.next=7;break}return e.next=4,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(s,"/child_invites/"),data:{child_business_ids:n},method:"POST"});case 4:i=e.sent,e.next=10;break;case 7:return e.next=9,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(s,"/member_invites/"),data:{members:n},method:"POST"});case 9:i=e.sent;case 10:return e.abrupt("return",i.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),I=(u=y(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hierarchyId,r=t.role,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy_invites/",data:{business_entity_type:"BUSINESS_HIERARCHY",invite_type:"CHILD_BUSINESS"===r?"BUSINESS_HIERARCHY_CHILD":"BUSINESS_HIERARCHY_MEMBER",business_entity_id:n,statuses:["PENDING","EXPIRED"]},method:"GET"});case 3:return i=(void 0===(s=(e.sent.resource_response.data||{}).data)?[]:s).map(function(e){return h(h({},e),{},{entity_type:"INVITE",user:h(h({},e.receiver_user_info),{},{entity_type:"USER"})})}),e.abrupt("return",{data:i});case 7:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}),j=(d=y(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,s=void 0===(r=t.inviteType)?"BUSINESS_HIERARCHY_CHILD":r,o=void 0===(i=t.businessEntityType)?"BUSINESS_ACCOUNT":i,c=void 0===(a=t.status)?"PENDING":a,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy_invites/",data:{business_entity_type:o,invite_type:s,business_entity_id:n,statuses:c}});case 3:return l=e.sent,e.abrupt("return",l.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),O=(_=y(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.inviteId,r=t.action,s=t.inviteType,e.next=3,(0,f.Z)({url:"ads/v4/business_access/business_hierarchy_invites/".concat(n,"/auth_process_action/"),method:"PATCH",data:{action:r,invite_type:s}});case 3:return i=e.sent,e.abrupt("return",i.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)})},662297:function(e,t,n){"use strict";n.d(t,{Bc:function(){return P},ED:function(){return w},KD:function(){return N},Ts:function(){return I},UF:function(){return j},XJ:function(){return C},c_:function(){return O},hd:function(){return z},oK:function(){return B},uN:function(){return L},vV:function(){return T},xW:function(){return D}});var r,s,i,o,a,c,l,u,d,_,f,m,p,h,b=n(983722),y=n(186656),v=n(251819);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){x(i,r,s,o,a,"next",e)}function a(e){x(i,r,s,o,a,"throw",e)}o(void 0)})}}var P=(r=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.id,i=t.type,o=t.filters,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites_and_requests/"),data:{is_member:"MEMBER_INVITE"===i,filters:JSON.stringify(S({invite_type:i},o))}});case 5:return a=e.sent,e.abrupt("return",a.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites/"),method:"GET",data:{type:i,filters:o?JSON.stringify(o):void 0}});case 9:return c=e.sent,e.abrupt("return",c.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),I=(s=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.businessId,i=t.inviteOrRequestId,o=t.type,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),data:{invite_type:o}});case 5:return a=e.sent,e.abrupt("return",a.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),data:{type:o}});case 9:return c=e.sent,e.abrupt("return",c.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),j=(i=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.businessId,i=t.inviteId,o=t.type,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),method:"DELETE",data:{type:o}});case 5:return a=e.sent,e.abrupt("return",a.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),method:"DELETE",data:{type:o}});case 9:return c=e.sent,e.abrupt("return",c.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),O=(o=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.businessId,i=t.inviteId,o=t.type,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),method:"PUT",data:{invite_type:o}});case 5:return a=e.sent,e.abrupt("return",a.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites/").concat(i,"/"),method:"PUT",data:{type:o}});case 9:return c=e.sent,e.abrupt("return",c.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),C=(a=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.id,i=t.filters,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites_and_requests/"),data:{is_member:!1,filters:JSON.stringify(S({invite_type:"PARTNER_REQUEST"},i))}});case 5:return o=e.sent,e.abrupt("return",o.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites/"),method:"GET",data:{type:"PARTNER_REQUEST",assets_summary:!0,filters:i?JSON.stringify(i):void 0}});case 9:return a=e.sent,e.abrupt("return",a.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),w=(c=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c,l,u,d,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.requestId,o=void 0===(i=t.role)?void 0:i,c=void 0===(a=t.resources)?void 0:a,u={accept:l=t.accept},o&&(u.role_name=o),c&&!(0,v.Z)(c)&&(u.resource_id_to_roles=JSON.stringify(c)),!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=10;break}return e.next=8,(0,y.Z)({url:"/ads/v4/business_access/requests/".concat(s,"/"),method:"POST",data:S(S({},c&&!(0,v.Z)(c)&&{resource_id_to_roles:JSON.stringify(c)}),{},{accept_request:l})});case 8:return d=e.sent,e.abrupt("return",d.resource_response);case 10:return e.next=12,(0,y.Z)({url:"/ads/internal/business_access/requests/".concat(s,"/"),method:"POST",data:u});case 12:return _=e.sent,e.abrupt("return",_.resource_response);case 14:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),T=(l=E(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.requestee,i=t.asset,o=t.requester,!(null!==(n=null===(r=(0,b.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=7;break}return e.next=5,(0,y.Z)({url:"/ads/v4/business_access/request/entitlement/",method:"GET",data:{requestee_id:s,asset_id:i,requester_id:o}});case 5:return a=e.sent,e.abrupt("return",a.resource_response);case 7:return e.next=9,(0,y.Z)({url:"/ads/internal/business_access/request/entitlement/",method:"GET",data:{requestee:s,asset:i,requester:o}});case 9:return c=e.sent,e.abrupt("return",c.resource_response);case 11:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),z=(u=E(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Z)({url:"ads/v4/business_access/business_hierarchy_invites/unauth/",method:"GET",data:{token:t}});case 2:return n=e.sent,e.abrupt("return",n.resource_response);case 4:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}),R=(d=E(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.Z)({url:"ads/v4/business_access/business_hierarchy_invites/unauth/",method:"PATCH",data:{token:n,action:t}}));case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)}),N=(_=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("ACCEPT",t));case 1:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),D=(f=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("REJECT",t));case 1:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),k=(m=E(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.Z)({url:"/ads/v4/business_access/invites/unauth_respond/",method:"POST",data:{token:n,accept_invite:t}}));case 1:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)}),L=(p=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k(!0,t));case 1:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),B=(h=E(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k(!1,t));case 1:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)})},137043:function(e,t,n){"use strict";n.d(t,{C:function(){return c},M:function(){return a}});var r,s,i=n(186656);function o(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var a=function(e,t){return"/business/business-access/".concat(e,"/invoice_document/download/").concat(t)},c=(r=regeneratorRuntime.mark(function e(t){var n,r,s,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.filters,s=t.limit,o=t.startIndex,a=t.invoicesSortBy,e.next=3,(0,i.Z)({url:"ads/v4/businesses/".concat(n,"/billing_invoices"),data:{page_size:s,offset:o,invoice_start_date:r.timeRange.startTime,invoice_end_date:r.timeRange.endTime,ad_account_ids:0!==r.adAccountIds.length?r.adAccountIds:void 0,document_type:"ALL"!==r.documentType?r.documentType:void 0,status:"ALL"!==r.status?r.status:void 0,sort:a.sortField,order:a.sortOrder}});case 3:return c=e.sent,e.abrupt("return",c.resource_response);case 5:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var i=r.apply(e,t);function a(e){o(i,n,s,a,c,"next",e)}function c(e){o(i,n,s,a,c,"throw",e)}a(void 0)})},function(e){return s.apply(this,arguments)})},853234:function(e,t,n){"use strict";n.d(t,{By:function(){return l},di:function(){return d},s8:function(){return u}});var r,s,i,o=n(186656);function a(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,c,"next",e)}function c(e){a(i,r,s,o,c,"throw",e)}o(void 0)})}}var l=(r=c(regeneratorRuntime.mark(function e(t){var n,r,s,i,a,c,l,u,d,_,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,s=void 0===(r=t.sortBy)?"FULL_NAME":r,a=void 0===(i=t.sortDirection)?"ASCENDING":i,l=void 0===(c=t.searchBy)?"FULL_NAME":c,d=void 0===(u=t.searchTerm)?"":u,f=void 0===(_=t.startIndex)?0:_,e.next=3,(0,o.Z)({url:"ads/v4/business_access/businesses/me/get_pinterest_support_businesses",data:{sort_by:s,sort_ascending:"ASCENDING"===a,search_by:l,search_value:d,start_index:f,page_size:n}});case 3:return m=e.sent,e.abrupt("return",m.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),u=(s=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/get_pinterest_support_access")});case 2:return n=e.sent,e.abrupt("return",n.resource_response);case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),d=(i=c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"ads/v4/pinterest_support_managed_advertisers",data:{add_fields:"advertiser.owner_user()"}});case 2:return t=e.sent,e.abrupt("return",t.resource_response);case 4:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},769106:function(e,t,n){"use strict";n.d(t,{H9:function(){return u},c_:function(){return d}});var r,s,i,o=n(186656);function a(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,c,"next",e)}function c(e){a(i,r,s,o,c,"throw",e)}o(void 0)})}}var l=new(n(969172)).default;t.ZP=(r=c(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.businessId,!t.useApiResource){e.next=8;break}return e.next=4,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa")});case 4:return r=e.sent,e.abrupt("return",r.resource_response);case 8:return s="/ads/v4/business_access/businesses/".concat(n,"/mfa"),e.next=11,l.get(s);case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});var u=(s=c(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.businessRoles,e.next=3,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/mfa"),method:"PUT",data:{business_roles:r}});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),d=(i=c(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.memberId,e.next=3,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/members/").concat(r,"/resend_mfa_email"),method:"POST"});case 3:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})},362746:function(e,t,n){"use strict";n.d(t,{R:function(){return c}});var r,s,i=n(983722),o=n(186656);function a(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var c=(r=regeneratorRuntime.mark(function e(t){var n,r,s,a,c,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.id,a=t.is_member,c=t.filters,!(null!==(n=null===(r=(0,i.Z)())||void 0===r?void 0:r.experimentsClient.checkExperiment("business_access_invites_api_v4_migration"))&&void 0!==n?n:{}).anyEnabled){e.next=9;break}return e.next=5,(0,o.Z)({url:"/ads/v4/business_access/businesses/".concat(s,"/invites_and_requests/"),data:{is_member:a,assets_summary:!0,filters:JSON.stringify(c)}});case 5:return l=e.sent,e.abrupt("return",l.resource_response);case 9:return e.next=11,(0,o.Z)({url:"/ads/internal/business_access/businesses/".concat(s,"/invites_and_requests/"),data:{is_member:a,assets_summary:!0,filters:JSON.stringify(c),render_style:"invitebizrolesbinding.extended_user_info()",fields:["user.image_small_url","user.full_name,user.username"]}});case 11:return u=e.sent,e.abrupt("return",u.resource_response);case 13:case"end":return e.stop()}},e)}),s=function(){var e=this,t=arguments;return new Promise(function(n,s){var i=r.apply(e,t);function o(e){a(i,n,s,o,c,"next",e)}function c(e){a(i,n,s,o,c,"throw",e)}o(void 0)})},function(e){return s.apply(this,arguments)})},62492:function(e,t,n){"use strict";n.d(t,{EJ:function(){return b},Ol:function(){return p},dz:function(){return m},oZ:function(){return h},qE:function(){return y},yZ:function(){return f}});var r,s,i,o,a,c,l=n(326884),u=n(186656);function d(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){d(i,r,s,o,a,"next",e)}function a(e){d(i,r,s,o,a,"throw",e)}o(void 0)})}}var f=(r=_(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,i=void 0===(s=t.limit)?l.xX:s,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/assets/"),data:{business_id:r,resource_type:"CONVERSION_TAG",page_size:i}});case 3:return o=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),m=(s=_(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.businessId,s=t.detailId,o=void 0===(i=t.limit)?l.xX:i,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/members/").concat(s,"/assets/"),data:{business_id:r,resource_type:"CONVERSION_TAG",page_size:o}});case 3:return a=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data,e.abrupt("return",a||[]);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),p=(i=_(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.tagId,s=t.assetsToAdd,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/conversion_tags/").concat(r,"/share"),method:"POST",data:{ad_account_ids:s}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),h=(o=_(regeneratorRuntime.mark(function e(t){var n,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.businessId,r=t.tagId,s=t.leaderTagId,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/".concat(n,"/conversion_tags/").concat(r,"/"),method:"DELETE",data:{leader_tag_id:s}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),b=(a=_(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tagIds,e.next=3,(0,u.Z)({url:"ads/v4/advertisers/conversion_tags/shared_tags",data:{tag_ids:n.join(",")}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),y=(c=_(regeneratorRuntime.mark(function e(t){var n,r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner_business_id,r=t.account_ids,i=void 0===(s=t.validate_owned_only)||s,e.next=3,(0,u.Z)({url:"/ads/v4/business_access/businesses/validate_accounts",method:"POST",data:{owner_business_id:n,account_ids:r,account_type:"AD_ACCOUNT",validate_owned_only:i}});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},347174:function(e,t,n){"use strict";n.d(t,{EH:function(){return d},Jg:function(){return u},Xy:function(){return c},fp:function(){return l},op:function(){return a},wk:function(){return o}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){return e.adAccounts}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){return e.error}),c=(0,r.P1)(i,function(e){return e.data}),l=(0,r.P1)(i,function(e){return e.totalCount}),u=function(e){return(0,r.P1)(c,function(t){var n;return null!==(n=t[e])&&void 0!==n?n:{}})},d=(0,r.P1)(c,function(e){return Object.keys(e).length>0})},823010:function(e,t,n){"use strict";n.d(t,{$1:function(){return o},Mr:function(){return a},PP:function(){return c},Ps:function(){return u},TY:function(){return d},gY:function(){return l}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.aoaaRequests;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){var t=e.requests;return null!=t?t:{}}),c=function(e){return(0,r.P1)(a,function(t){var n;return null!==(n=t[e])&&void 0!==n?n:{}})},l=(0,r.P1)(a,function(e){return e.error}),u=function(e){return(0,r.P1)((0,r.P1)(a,function(t){return Object.keys(t).filter(function(n){return t[n].client_business.id===e&&"PENDING"===t[n].status})}),function(e){return Object.keys(e).length>0})},d=function(e){return(0,r.P1)((0,r.P1)(a,function(t){return Object.keys(t).filter(function(n){return t[n].client_business.id!==e&&"EXPIRED"===t[n].status})}),function(e){return Object.keys(e).length>0})}},619357:function(e,t,n){"use strict";n.d(t,{$b:function(){return Y},A0:function(){return h},FS:function(){return A},G$:function(){return j},Gw:function(){return P},HW:function(){return l},IT:function(){return Z},Kz:function(){return v},LG:function(){return w},Rs:function(){return K},T0:function(){return y},TL:function(){return es},T_:function(){return eo},Ts:function(){return u},Wk:function(){return U},YM:function(){return L},Ym:function(){return ea},Ys:function(){return Q},_8:function(){return G},aO:function(){return _},cX:function(){return eu},eI:function(){return b},fW:function(){return p},fp:function(){return C},kt:function(){return R},mW:function(){return g},nn:function(){return er},ou:function(){return x},py:function(){return W},qy:function(){return m},tB:function(){return z},tv:function(){return f},u:function(){return et},wd:function(){return M},x9:function(){return I},xc:function(){return E},xv:function(){return X},y$:function(){return d},zQ:function(){return S}});var r=n(904202),s=n(617126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,r.P1)(s.Z,function(e){var t=e.assetGroups;return null!=t?t:{}}),l=(0,r.P1)(c,function(e){return e.loading}),u=(0,r.P1)(c,function(e){return e.error}),d=(0,r.P1)(c,function(e){return e.ownerError}),_=(0,r.P1)(c,function(e){return e.adAccountsLoading}),f=(0,r.P1)(c,function(e){return e.profilesLoading}),m=(0,r.P1)(c,function(e){return e.employeesLoading}),p=(0,r.P1)(c,function(e){return e.partnersLoading}),h=(0,r.P1)(c,function(e){var t=e.assetGroups;return null!=t?t:{}}),b=(0,r.P1)(c,function(e){var t;return null!==(t=e.owners.adAccountOwners)&&void 0!==t?t:{}}),y=(0,r.P1)(c,function(e){var t;return null!==(t=e.owners.profileOwners)&&void 0!==t?t:{}}),v=(0,r.P1)(c,function(e){var t;return null!==(t=e.owners.aoaaIds)&&void 0!==t?t:[]}),g=(0,r.P1)(c,function(e){var t=e.selectedAssetGroupId;return null!=t?t:""}),A=(0,r.P1)(g,h,function(e,t){return e&&t&&t[e]}),S=(0,r.P1)(A,function(e){return e?e.adAccounts:[]}),x=(0,r.P1)(A,function(e){return e?e.child_ad_account_ids:[]}),E=(0,r.P1)(A,function(e){return e?e.profiles:[]}),P=(0,r.P1)(A,function(e){return e?e.child_profile_ids:[]}),I=(0,r.P1)(A,function(e){return e?e.employees:[]}),j=(0,r.P1)(A,function(e){return e?e.partners:[]}),O=(0,r.P1)(c,function(e){return e.adAccountsTable}),C=(0,r.P1)(O,function(e){return e.totalCount}),w=(0,r.P1)(O,function(e){return e.limit}),T=(0,r.P1)(O,function(e){return e.searchBy}),z=(0,r.P1)(O,function(e){return e.searchTerm}),R=(0,r.P1)(O,function(e){return e.page}),N=(0,r.P1)(O,function(e){return e.sortBy}),D=(0,r.P1)(O,function(e){return e.sortDirection}),k=(0,r.P1)(O,function(e){return e.filtersPayload}),L=(0,r.P1)(w,T,z,R,N,k,D,function(e,t,n,r,s,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return a(a({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:i})}),B=(0,r.P1)(c,function(e){return e.profilesTable}),U=(0,r.P1)(B,function(e){return e.totalCount}),M=(0,r.P1)(B,function(e){return e.limit}),H=(0,r.P1)(B,function(e){return e.searchBy}),Z=(0,r.P1)(B,function(e){return e.searchTerm}),G=(0,r.P1)(B,function(e){return e.page}),F=(0,r.P1)(B,function(e){return e.sortBy}),q=(0,r.P1)(B,function(e){return e.sortDirection}),Y=(0,r.P1)(M,H,Z,G,F,q,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),V=(0,r.P1)(c,function(e){return e.employeesTable}),Q=(0,r.P1)(V,function(e){return e.totalCount}),W=(0,r.P1)(V,function(e){return e.limit}),J=(0,r.P1)(V,function(e){return e.searchBy}),K=(0,r.P1)(V,function(e){return e.searchTerm}),X=(0,r.P1)(V,function(e){return e.page}),$=(0,r.P1)(V,function(e){return e.sortBy}),ee=(0,r.P1)(V,function(e){return e.sortDirection}),et=(0,r.P1)(W,J,K,X,$,ee,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),en=(0,r.P1)(c,function(e){return e.partnersTable}),er=(0,r.P1)(en,function(e){return e.totalCount}),es=(0,r.P1)(en,function(e){return e.limit}),ei=(0,r.P1)(en,function(e){return e.searchBy}),eo=(0,r.P1)(en,function(e){return e.searchTerm}),ea=(0,r.P1)(en,function(e){return e.page}),ec=(0,r.P1)(en,function(e){return e.sortBy}),el=(0,r.P1)(en,function(e){return e.sortDirection}),eu=(0,r.P1)(es,ei,eo,ea,ec,el,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})})},728909:function(e,t,n){"use strict";n.d(t,{Af:function(){return b},CE:function(){return m},EW:function(){return h},FY:function(){return a},Qx:function(){return _},Xq:function(){return l},c2:function(){return c},md:function(){return p}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){return e.audienceSharing}),o=(0,r.P1)(i,function(e){return e.audiences}),a=(0,r.P1)(o,function(e){return e.sharedAudiences||[]}),c=(0,r.P1)(o,function(e){return e.receivedAudiences||[]}),l=(0,r.P1)(o,function(e){var t=e.selectedAudienceId;return null!=t?t:""}),u=(0,r.P1)(l,a,function(e,t){return t.find(function(t){return t.id===e})}),d=(0,r.P1)(l,c,function(e,t){return t.find(function(t){return t.id===e})}),_=(0,r.P1)(l,u,d,function(e,t,n){return t?{audience:t,shareType:"SHARED"}:{audience:n,shareType:"RECEIVED"}}),f=(0,r.P1)(i,function(e){return e.sharedAccounts}),m=(0,r.P1)(f,function(e){return e.loading}),p=(0,r.P1)(o,function(e){return e.sharedAudiencesLoading}),h=(0,r.P1)(o,function(e){return e.receivedAudiencesLoading}),b=(0,r.P1)(f,function(e){return e.accounts})},239894:function(e,t,n){"use strict";n.d(t,{$b:function(){return q},A0:function(){return E},BK:function(){return eA},B_:function(){return el},H$:function(){return O},HW:function(){return P},IT:function(){return H},JQ:function(){return L},Jg:function(){return _},LG:function(){return h},Q7:function(){return eD},QE:function(){return ek},Qz:function(){return eR},Rc:function(){return eN},Rs:function(){return ee},Sl:function(){return ey},TL:function(){return eE},T_:function(){return eI},W1:function(){return j},Wb:function(){return Q},Wk:function(){return M},Xv:function(){return e_},Xy:function(){return d},YM:function(){return S},Ym:function(){return ej},Ys:function(){return K},_1:function(){return eg},_8:function(){return Z},bS:function(){return eh},cF:function(){return C},cX:function(){return ew},du:function(){return ec},fp:function(){return p},fz:function(){return ef},ge:function(){return eL},h$:function(){return J},kE:function(){return eu},kt:function(){return v},mr:function(){return eS},nf:function(){return ez},nn:function(){return ex},oe:function(){return eo},py:function(){return X},s5:function(){return Y},tB:function(){return y},u:function(){return es},uZ:function(){return w},wd:function(){return B},wk:function(){return m},xv:function(){return et},yY:function(){return D}});var r=n(904202),s=n(617126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,r.P1)(s.Z,function(e){return e.businessHierarchy||{}}),u=(0,r.P1)(l,function(e){return e.adAccounts}),d=(0,r.P1)(u,function(e){return e.data||[]}),_=function(e){return(0,r.P1)(d,function(t){var n;return null!==(n=t.find(function(t){return t.asset_id===e}))&&void 0!==n?n:{}})},f=(0,r.P1)(u,function(e){return e.table}),m=(0,r.P1)(u,function(e){return e.loading}),p=(0,r.P1)(f,function(e){return e.totalCount}),h=(0,r.P1)(f,function(e){return e.limit}),b=(0,r.P1)(f,function(e){return e.searchBy}),y=(0,r.P1)(f,function(e){return e.searchTerm}),v=(0,r.P1)(f,function(e){return e.page}),g=(0,r.P1)(f,function(e){return e.sortBy}),A=(0,r.P1)(f,function(e){return e.sortDirection}),S=(0,r.P1)(h,b,y,v,g,A,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),x=(0,r.P1)(l,function(e){return e.assetGroups||{}}),E=(0,r.P1)(x,function(e){return Object.values(e.data||{})}),P=(0,r.P1)(x,function(e){return e.loading}),I=(0,r.P1)(x,function(e){return e.table}),j=(0,r.P1)(I,function(e){return e.page}),O=(0,r.P1)(I,function(e){return e.totalCount}),C=(0,r.P1)(I,function(e){return e.limit}),w=(0,r.P1)(I,function(e){return e.searchTerm}),T=(0,r.P1)(I,function(e){return e.searchBy}),z=(0,r.P1)(I,function(e){return e.sortBy}),R=(0,r.P1)(I,function(e){return e.sortDirection}),N=(0,r.P1)(l,function(e){return e.profiles}),D=(0,r.P1)(N,function(e){return e.data||[]}),k=(0,r.P1)(N,function(e){return e.table}),L=(0,r.P1)(N,function(e){return e.loading}),B=(0,r.P1)(k,function(e){return e.limit}),U=(0,r.P1)(k,function(e){return e.searchBy}),M=(0,r.P1)(k,function(e){return e.totalCount}),H=(0,r.P1)(k,function(e){return e.searchTerm}),Z=(0,r.P1)(k,function(e){return e.page}),G=(0,r.P1)(k,function(e){return e.sortBy}),F=(0,r.P1)(k,function(e){return e.sortDirection}),q=(0,r.P1)(B,U,H,Z,G,F,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),Y=(0,r.P1)(C,T,w,j,z,R,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),V=(0,r.P1)(l,function(e){return e.employees}),Q=(0,r.P1)(V,function(e){return e.data||[]}),W=(0,r.P1)(V,function(e){return e.table}),J=(0,r.P1)(V,function(e){return e.loading}),K=(0,r.P1)(W,function(e){return e.totalCount}),X=(0,r.P1)(W,function(e){return e.limit}),$=(0,r.P1)(W,function(e){return e.searchBy}),ee=(0,r.P1)(W,function(e){return e.searchTerm}),et=(0,r.P1)(W,function(e){return e.page}),en=(0,r.P1)(W,function(e){return e.sortBy}),er=(0,r.P1)(W,function(e){return e.sortDirection}),es=(0,r.P1)(X,$,ee,et,en,er,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),ei=(0,r.P1)(l,function(e){return e.businessHierarchyBusinessMembers}),eo=(0,r.P1)(ei,function(e){return e.data||[]}),ea=(0,r.P1)(ei,function(e){return e.table}),ec=(0,r.P1)(ei,function(e){return e.loading}),el=(0,r.P1)(ea,function(e){return e.totalCount}),eu=(0,r.P1)(ea,function(e){return e.limit}),ed=(0,r.P1)(ea,function(e){return e.searchBy}),e_=(0,r.P1)(ea,function(e){return e.searchTerm}),ef=(0,r.P1)(ea,function(e){return e.page}),em=(0,r.P1)(ea,function(e){return e.sortBy}),ep=(0,r.P1)(ea,function(e){return e.sortDirection}),eh=(0,r.P1)(eu,ed,e_,ef,em,ep,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eb=(0,r.P1)(l,function(e){return e.partners}),ey=(0,r.P1)(eb,function(e){return e.data||[]}),ev=(0,r.P1)(eb,function(e){return e.table}),eg=(0,r.P1)(eb,function(e){return e.loading}),eA=function(e){return(0,r.P1)(ey,function(t){var n;return null!==(n=t.find(function(t){return t.id===e}))&&void 0!==n?n:{}})},eS=function(e){return(0,r.P1)(eA(e),function(e){return e.assets_summary})},ex=(0,r.P1)(ev,function(e){return e.totalCount}),eE=(0,r.P1)(ev,function(e){return e.limit}),eP=(0,r.P1)(ev,function(e){return e.searchBy}),eI=(0,r.P1)(ev,function(e){return e.searchTerm}),ej=(0,r.P1)(ev,function(e){return e.page}),eO=(0,r.P1)(ev,function(e){return e.sortBy}),eC=(0,r.P1)(ev,function(e){return e.sortDirection}),ew=(0,r.P1)(eE,eP,eI,ej,eO,eC,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return a(a({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),eT=(0,r.P1)(l,function(e){return e.pending}),ez=function(e){return(0,r.P1)(eT,function(t){var n=t.childBusinesses;return n.data?c({},e,n.data.reduce(function(e,t){return e.ids.push(t.id),e.data=a(a({},e.data),{},c({},t.id,t)),e},{ids:[],data:{}})):{}})},eR=function(e){return(0,r.P1)(eT,function(t){var n=t.organizationManagers;return n.data?c({},e,n.data.reduce(function(e,t){return e.ids.push(t.id),e.data=a(a({},e.data),{},c({},t.id,t)),e},{ids:[],data:{}})):{}})},eN=function(e){return(0,r.P1)(eT,function(t){var n=t.childBusinesses;return n.data&&n.data.length>0?c({},e,n.data):{}})},eD=function(e){return(0,r.P1)(eT,function(t){var n=t.organizationManagers;return n.data&&n.data.length>0?c({},e,n.data):{}})},ek=(0,r.P1)(eT,function(e){return e.loading}),eL=(0,r.P1)(eT,function(e){return e.error})},241703:function(e,t,n){"use strict";n.d(t,{$b:function(){return B},H$:function(){return Q},IE:function(){return _},IT:function(){return z},LG:function(){return y},LT:function(){return j},Q4:function(){return P},ST:function(){return L},Uy:function(){return p},W1:function(){return G},Wb:function(){return l},Wk:function(){return C},YM:function(){return I},_8:function(){return R},cF:function(){return M},cc:function(){return m},dl:function(){return f},fp:function(){return b},gW:function(){return u},kt:function(){return A},ms:function(){return d},s5:function(){return V},tB:function(){return g},uZ:function(){return Z},wJ:function(){return J},wd:function(){return w},yU:function(){return W}});var r=n(904202),s=n(617126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,r.P1)(s.Z,function(e){var t=e.employees;return null!=t?t:{}}),l=(0,r.P1)(c,function(e){var t=e.employees;return null!=t?t:{}}),u=(0,r.P1)(c,function(e){var t=e.invites;return null!=t?t:{}}),d=(0,r.P1)(c,function(e){var t=e.assetRoles;return null!=t?t:{}}),_=(0,r.P1)(c,function(e){var t=e.selectedEmployeeId;return null!=t?t:void 0}),f=(0,r.P1)(c,function(e){var t=e.selectedEmployeeInviteId;return null!=t?t:void 0}),m=(0,r.P1)(_,l,function(e,t){return e&&t&&t[e]}),p=(0,r.P1)(m,function(e){return e?e.adAccounts:[]}),h=(0,r.P1)(c,function(e){return e.adAccountsTable}),b=(0,r.P1)(h,function(e){return e.totalCount}),y=(0,r.P1)(h,function(e){return e.limit}),v=(0,r.P1)(h,function(e){return e.searchBy}),g=(0,r.P1)(h,function(e){return e.searchTerm}),A=(0,r.P1)(h,function(e){return e.page}),S=(0,r.P1)(h,function(e){return e.sortBy}),x=(0,r.P1)(h,function(e){return e.sortDirection}),E=(0,r.P1)(h,function(e){return e.filtersPayload}),P=(0,r.P1)(c,function(e){return e.adAccountsLoading}),I=(0,r.P1)(y,v,g,A,S,E,x,function(e,t,n,r,s,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return a(a({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:i})}),j=(0,r.P1)(m,function(e){return e?e.profiles:[]}),O=(0,r.P1)(c,function(e){return e.profilesTable}),C=(0,r.P1)(O,function(e){return e.totalCount}),w=(0,r.P1)(O,function(e){return e.limit}),T=(0,r.P1)(O,function(e){return e.searchBy}),z=(0,r.P1)(O,function(e){return e.searchTerm}),R=(0,r.P1)(O,function(e){return e.page}),N=(0,r.P1)(O,function(e){return e.sortBy}),D=(0,r.P1)(O,function(e){return e.sortDirection}),k=(0,r.P1)(O,function(e){return e.filtersPayload}),L=(0,r.P1)(c,function(e){return e.profilesLoading}),B=(0,r.P1)(w,T,z,R,N,k,D,function(e,t,n,r,s,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return a(a({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:i})}),U=(0,r.P1)(c,function(e){return e.assetGroupsTable}),M=(0,r.P1)(U,function(e){return e.limit}),H=(0,r.P1)(U,function(e){return e.searchBy}),Z=(0,r.P1)(U,function(e){return e.searchTerm}),G=(0,r.P1)(U,function(e){return e.page}),F=(0,r.P1)(U,function(e){return e.sortBy}),q=(0,r.P1)(U,function(e){return e.sortDirection}),Y=(0,r.P1)(U,function(e){return e.filtersPayload}),V=(0,r.P1)(M,H,Z,G,F,Y,q,function(e,t,n,r,s,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return a(a({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:i})}),Q=(0,r.P1)(U,function(e){return e.totalCount}),W=(0,r.P1)(c,function(e){return e.assetGroupsLoading}),J=(0,r.P1)(m,function(e){return e?e.assetGroups:[]})},864849:function(e,t,n){"use strict";n.d(t,{Es:function(){return c},Fp:function(){return o},qr:function(){return a}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){return e.history}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){return e.data}),c=(0,r.P1)(i,function(e){return e.dateRange})},982045:function(e,t,n){"use strict";n.d(t,{Ml:function(){return a},_w:function(){return l},m5:function(){return o},xl:function(){return c}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.invitesOrRequests;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){var t=e.invites.people;return null!=t?t:{}}),c=(0,r.P1)(i,function(e){var t=e.invites.partner;return null!=t?t:{}}),l=(0,r.P1)(i,function(e){var t=e.requests.partner;return null!=t?t:{}})},634613:function(e,t,n){"use strict";n.d(t,{$z:function(){return o},eW:function(){return a},gs:function(){return c}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.invoiceManagement;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){return e.data}),c=(0,r.P1)(i,function(e){return e.invoiceTabVisibility})},93645:function(e,t,n){"use strict";n.d(t,{$g:function(){return o},g9:function(){return c},iB:function(){return a}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.managedClients;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading});(0,r.P1)(i,function(e){return e.error});var a=(0,r.P1)(i,function(e){var t=e.data;return null!=t?t:{}}),c=(0,r.P1)(a,function(e){return Object.keys(e).length>0})},392499:function(e,t,n){"use strict";n.d(t,{BK:function(){return u},Sl:function(){return c},Ul:function(){return _},X7:function(){return a},_1:function(){return o},mr:function(){return d},nn:function(){return l}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.partners;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){return e.error}),c=(0,r.P1)(i,function(e){var t=e.data;return null!=t?t:{}}),l=(0,r.P1)(i,function(e){return e.totalCount}),u=function(e){return(0,r.P1)(c,function(t){var n;return null!==(n=t[e])&&void 0!==n?n:{}})},d=function(e){return(0,r.P1)(u(e),function(e){return e.assets_summary})},_=(0,r.P1)(c,function(e){return Object.keys(e).length>0})},320843:function(e,t,n){"use strict";n.d(t,{$A:function(){return d},Ak:function(){return u},Gc:function(){return _},Iw:function(){return a},ai:function(){return l},t_:function(){return f}});var r=n(904202),s=n(773285),i=n(617126),o=(0,r.P1)(i.Z,function(e){var t=e.pending;return null!=t?t:{}}),a=(0,r.P1)(o,function(e){return e.loading}),c=(0,r.P1)(o,function(e){return e.loading}),l=(0,r.P1)(o,function(e){var t=e.people;return null!=t?t:{}}),u=(0,r.P1)(o,function(e){var t=e.partner;return null!=t?t:{}}),d=(0,r.P1)(u,function(e){return Object.keys(e).length>0}),_=function(e){return(0,r.P1)(u,c,function(t,n){if(!n){var r=(0,(0,s.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,i=Object.keys(t).filter(function(n){return r?t[n].created_by_business.id!==e:t[n].created_by_biz.id!==e});return i&&i.length>0}})},f=(0,r.P1)(o,function(e){return e.type})},809173:function(e,t,n){"use strict";n.d(t,{Bk:function(){return l},V7:function(){return u},Ys:function(){return _},g7:function(){return d},gB:function(){return o},gF:function(){return c},xC:function(){return a}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.people;return null!=t?t:{}}),o=(0,r.P1)(i,function(e){return e.loading}),a=(0,r.P1)(i,function(e){return e.error}),c=(0,r.P1)(i,function(e){var t=e.data;return null!=t?t:{}}),l=(0,r.P1)(i,function(e){return e.totalCount}),u=function(e){return(0,r.P1)(c,function(t){var n;return null!==(n=t[e])&&void 0!==n?n:{}})},d=function(e){return(0,r.P1)(u(e),function(e){return Object.keys(e).length>0})},_=(0,r.P1)(c,function(e){return Object.keys(e).length>0})},180889:function(e,t,n){"use strict";n.d(t,{DH:function(){return u},JQ:function(){return a},Tj:function(){return c},Tl:function(){return l},yY:function(){return o}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){return e.profiles}),o=(0,r.P1)(i,function(e){return e.data}),a=(0,r.P1)(i,function(e){return e.loading}),c=function(e){return(0,r.P1)(o,function(t){var n;return null!==(n=t[e])&&void 0!==n?n:{}})},l=(0,r.P1)(i,function(e){return e.error}),u=(0,r.P1)(i,function(e){return e.dashboardVisibleData||[]})},617126:function(e,t){"use strict";t.Z=function(e){var t=e.businessAccess;return null!=t?t:{}}},576452:function(e,t,n){"use strict";n.d(t,{$H:function(){return a},pf:function(){return o}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.employers;return null==t?void 0:t.list}),o=(0,r.P1)(i,function(e){return null==e?void 0:e.filter(function(e){return e.showInTooltip}).map(function(e){return e.user.full_name})}),a=(0,r.P1)(s.Z,function(e){var t=e.employers;return null==t?void 0:t.error});t.ZP=i},230412:function(e,t,n){"use strict";n.d(t,{$p:function(){return j},Aj:function(){return w},C9:function(){return P},Ch:function(){return Y},G1:function(){return x},MG:function(){return O},Q$:function(){return A},R8:function(){return B},RT:function(){return H},Ug:function(){return M},Wt:function(){return G},Xj:function(){return z},ZD:function(){return Z},a9:function(){return N},bO:function(){return L},fI:function(){return E},im:function(){return T},jT:function(){return R},kg:function(){return q},lS:function(){return D},m8:function(){return U},pr:function(){return S},qu:function(){return k},ut:function(){return F}});var r=n(904202),s=n(347174),i=n(823010),o=n(728909),a=n(864849),c=n(982045),l=n(634613),u=n(93645),d=n(392499),_=n(320843),f=n(809173),m=n(180889),p=n(617126);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=(0,r.P1)(p.Z,function(e){return e.table||{}}),g=(0,r.P1)(v,function(e){return e.visibleData||[]}),A=(0,r.P1)(v,function(e){return e.page}),S=(0,r.P1)(v,function(e){return e.totalCount}),x=(0,r.P1)(v,function(e){return e.limit}),E=(0,r.P1)(v,function(e){return e.sortDirection}),P=(0,r.P1)(v,function(e){return e.sortBy}),I=(0,r.P1)(v,function(e){return e.searchBy}),j=(0,r.P1)(v,function(e){return e.searchTerm}),O=(0,r.P1)(x,I,j,A,P,E,function(e,t,n,r,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESCENDING";return y(y({sortBy:s,sortDirection:i,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e})}),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,n){return t[n]?e.concat(t[n]):e},[])},w=(0,r.P1)(g,f.gF,C),T=(0,r.P1)(g,d.Sl,C),z=(0,r.P1)(g,s.Xy,C),R=(0,r.P1)(g,i.Mr,C),N=(0,r.P1)(g,a.qr,C),D=(0,r.P1)(g,o.Af,C),k=(0,r.P1)(g,l.eW,C),L=(0,r.P1)(g,c.Ml,C),B=(0,r.P1)(g,c.xl,C),U=(0,r.P1)(g,c._w,C),M=(0,r.P1)(g,_.ai,C),H=(0,r.P1)(g,_.Ak,C),Z=(0,r.P1)(g,m.yY,C),G=(0,r.P1)(m.DH,m.yY,C),F=function(e){return(0,r.P1)(c._w,(0,d.BK)(e),function(e,t){return Object.values(e).find(function(e){var n=e.created_by_biz,r=(n=void 0===n?{id:""}:n).id,s=e.created_by_business,i=(s=void 0===s?{id:""}:s).id;return r===t.id||i===t.id})})},q=function(e){return(0,r.P1)(c._w,(0,d.BK)(e),function(e,t){return Object.values(e).find(function(e){return e.user.id===t.id})})},Y=(0,r.P1)(g,u.iB,C)},367974:function(e,t,n){"use strict";n.d(t,{HR:function(){return b},Jb:function(){return h},LG:function(){return g},P2:function(){return u},Qr:function(){return l},TX:function(){return f},YM:function(){return j},aw:function(){return m},br:function(){return _},fp:function(){return v},iX:function(){return p},kt:function(){return x},tB:function(){return S},w0:function(){return d}});var r=n(904202),s=n(617126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,r.P1)(s.Z,function(e){var t=e.tags;return null!=t?t:{}}),l=(0,r.P1)(c,function(e){return e.loading}),u=(0,r.P1)(c,function(e){var t=e.tags;return null!=t?t:{}}),d=(0,r.P1)(c,function(e){var t=e.overlayOpen;return null!=t&&t}),_=(0,r.P1)(c,function(e){var t=e.selectedTagId;return null!=t?t:""}),f=(0,r.P1)(c,function(e){var t=e.selectedAdAccounts;return null!=t?t:[]}),m=(0,r.P1)(c,function(e){return e.adAccountsLoading}),p=(0,r.P1)(_,u,function(e,t){return e&&t&&t[e]}),h=(0,r.P1)(p,function(e){return e?e.adAccounts:[]}),b=(0,r.P1)(p,function(e){return e?e.ownerAdAccount:null}),y=(0,r.P1)(c,function(e){return e.adAccountsTable}),v=(0,r.P1)(y,function(e){return e.totalCount}),g=(0,r.P1)(y,function(e){return e.limit}),A=(0,r.P1)(y,function(e){return e.searchBy}),S=(0,r.P1)(y,function(e){return e.searchTerm}),x=(0,r.P1)(y,function(e){return e.page}),E=(0,r.P1)(y,function(e){return e.sortBy}),P=(0,r.P1)(y,function(e){return e.sortDirection}),I=(0,r.P1)(y,function(e){return e.filtersPayload}),j=(0,r.P1)(g,A,S,x,E,I,P,function(e,t,n,r,s,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESCENDING";return a(a({sortBy:s,sortDirection:o,limit:e},t&&{searchBy:t,searchTerm:n}),{},{startIndex:(r-1)*e,filtersPayload:i})})},792157:function(e,t,n){"use strict";n.d(t,{DU:function(){return h},GJ:function(){return p},St:function(){return f},_4:function(){return u},j7:function(){return d}});var r=n(904202),s=n(617126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,r.P1)(s.Z,function(e){var t=e.viewerBusinessHierarchyInvites;return null!=t?t:{data:[]}}),u=(0,r.P1)(l,function(e){return e.loading}),d=(0,r.P1)(l,function(e){return e.error}),_=(0,r.P1)(l,function(e){var t=e.data;return null!=t?t:[]}),f=(0,r.P1)(l,function(e){return e.data.length>0}),m=(0,r.P1)(_,function(e){return e.filter(function(e){return"PENDING"===e.invite_data.invite_status})}),p=(0,r.P1)(m,function(e){return e}),h=function(e){return(0,r.P1)(_,function(t){return t?c({},e,t.reduce(function(e,t){return e.ids.push(t.id),e.data=a(a({},e.data),{},c({},t.id,t)),e},{ids:[],data:{}})):{}})}},39662:function(e,t,n){"use strict";n.d(t,{O:function(){return a},U:function(){return l}});var r=n(904202),s=n(617126),i=(0,r.P1)(s.Z,function(e){var t=e.viewerInvites;return null!=t?t:{data:[]}}),o=(0,r.P1)(i,function(e){var t=e.data;return null!=t?t:[]}),a=(0,r.P1)(i,function(e){return e.data.length>0}),c=(0,r.P1)(o,function(e){return e.filter(function(e){return"PENDING"===e.invite_data.invite_status})}),l=(0,r.P1)(c,function(e){return e.map(function(e){var t=e.id,n=e.created_by_biz,r=e.created_by_business,s=e.extended_user_info,i=s.full_name,o=s.username,a=e.user.id;return{id:t,businessId:(null==n?void 0:n.id)||(null==r?void 0:r.id),businessName:null!=i?i:o,userId:a}})})},562286:function(e,t){"use strict";t.Z=function(e){return e.isAuth?{user:{full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl,image_xlarge_url:e.imageXLargeUrl,username:e.username,email:e.email,is_partner:e.isPartner,roles:[],id:e.id},biz_roles:[],business_roles:[],id:e.id,business_id:e.id}:void 0}},789165:function(e,t){"use strict";t.Z=function(e){switch(e){case"CHOOSER":return 13908;case"DASHBOARD":return 13907;case"PEOPLE":return 13906;case"PEOPLE_DETAIL":return 13626;case"PEOPLE_INVITES":return 13905;case"PARTNERS":return 13627;case"PARTNERS_DETAIL":return 13628;case"PARTNERS_REQUEST_PAGE":return 13904;case"PARTNERS_INVITE_PAGE":return 13903;case"AD_ACCOUNTS":return 13629;case"AD_ACCOUNTS_DETAIL":return 13630;case"PROFILES":return 13853;case"PROFILES_DETAIL":return 13854;case"HISTORY":return 13631;case"BUSINESS_SECURITY":return 14189;case"SUPPORT_TOOL":return 13655;case"BUSINESS_HIERARCHY":return 14318;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return 14903;case"ASSET_GROUPS":return 14323;case"MANAGERS":return 14327;case"INVOICE_MANAGEMENT":return 14331;case"SHARED_TAGS":return 14484;default:return}}},898708:function(e,t,n){"use strict";n.d(t,{B:function(){return o},IZ:function(){return i},To:function(){return c},_4:function(){return l},e6:function(){return a}});var r=n(326884),s=n(401060),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(null==e?void 0:e.asset.id)||"",r=(t?null==e?void 0:e.permissions:null==e?void 0:e.roles)||[],i=r.some(function(e){return["OWNER","ADMIN","CAMPAIGN_MANAGER","ANALYST"].includes(e)}),o=r.includes("AUDIENCE_MANAGER"),a=r.includes("CATALOGS_MANAGER"),c=r.includes("FINANCE_MANAGER"),l="",u="";if(i)l="sterling",u="/advertiser/".concat(n,"/");else if(o)l="sterling",u="/advertiser/".concat(n,"/audiences/");else if(a)l="www",u="/product-catalogs/data-source/?advertiserId=".concat(n);else{if(!c)return;l="sterling",u="/advertiser/".concat(n,"/billing/")}return(0,s.Z)({site:l,path:u})},o=function(e){return function(t){var n={EMPLOYEE:e._('Employee', '[m10n]bizAccess.business.people.bizRole', 'employee access type'),BIZ_ADMIN:e._('Manager', '[m10n]bizAccess.business.people.role', 'manager access type'),PARTNER_ADMIN:e._('Partner admin', '[m10n]bizAccess.business.people.bizRole', 'partner admin access type'),PARTNER:e._('Partner', '[m10n]bizAccess.business.people.bizRole', 'partner access type'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.bizRole', 'unknow access type')};return n[t]||n.UNKNOWN}},a=function(e,t){return function(n){var r={NO_ACCESS:e._('No Access', '[m10n]bizAccess.business.people.role', 'No access role'),OWNER:e._('Account Owner', '[m10n]bizAccess.business.people.role', 'Owner of account role type'),ADMIN:t?e._('Ad account admin', '[m10n]bizAccess.business.people.roleUpdatedCopy', '[m10n] Administrator role type'):e._('Admin', '[m10n]bizAccess.business.people.role', '[m10n] Administrator role type'),ANALYST:e._('Analyst', '[m10n]bizAccess.business.people.role', '[m10n] analyst role type'),AUDIENCE_MANAGER:e._('Audience', '[m10n]bizAccess.business.people.role', 'audience access type'),FINANCE_MANAGER:e._('Finance', '[m10n]bizAccess.business.people.role', 'finance access type'),CAMPAIGN_MANAGER:e._('Campaign', '[m10n]bizAccess.business.people.role', 'Access level for managing campaigns'),SOS_READER:e._('Admin Mode Reader', '[m10n]bizAccess.business.people.role', 'Access level for internal, admin mode users w/o write access'),CATALOGS_MANAGER:e._('Catalogs', '[m10n]bizAccess.business.people.role', 'Access level for managing catalogs'),PROFILE_PUBLISHER:e._('Publisher', '[m10n]bizAccess.business.people.roleDisplay.profileManager', 'Access level for managing organic assets'),BIZ_PINNER_LIST_SHARER:e._('Audience', '[m10n]bizAccess.business.people.roleDisplay.audienceSharer', 'Access level for managing Audiences'),RESOURCE_PINNER_LIST_READER:e._('Audience', '[m10n]bizAccess.business.people.roleDisplay.audienceReader', 'Access level for managing Audiences'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.role', 'role type not available')};return r[n]||r.UNKNOWN}},c=function(e){return function(t,n){if(n&&"NO_ACCESS"===t)return e._('Deny access to this profile', '[m10n]bizAccess.business.people.roleDescription', 'No access description for profile');var r={NO_ACCESS:e._('Deny access to this ad account', '[m10n]bizAccess.business.people.roleDescription', 'No access description for roles'),OWNER:e._('Account owner', '[m10n]bizAccess.business.people.role', 'Owner of account role type'),ADMIN:e._('Can create or edit anything in the account such as campaigns, spend limits, bids, budgets, audiences, paid partnership approval and more.', '[m10n]bizAccess.business.people.roleDescription', 'Administrator permission type description for users in paid partnership experiment'),ANALYST:e._('Can only view ad account data to create reports.', '[m10n]bizAccess.business.people.roleDescription', 'Reporting data analyst permission type description'),AUDIENCE_MANAGER:e._('Can create or edit audiences and view existing Pinterest tags.', '[m10n]bizAccess.business.people.roleDescription', 'Create and modify audiences permission type description'),FINANCE_MANAGER:e._('Can edit billing information.', '[m10n]bizAccess.business.people.roleDescription', 'Finance and billing permission type description'),CAMPAIGN_MANAGER:e._('Can create and edit campaigns, ad groups and promoted Pins, pull reports, approve paid partnerships and create and delete Pins on protected boards for promotion purposes.', '[m10n]bizAccess.business.people.roleDescription', 'Manage campaign permission type description for users in paid partnership experiment'),CATALOGS_MANAGER:e._('Can create and edit data source and product group information.', '[m10n]bizAccess.business.people.roleDescription', 'Manage catalogs permission type description'),PROFILE_PUBLISHER:e._('Publishers can create, edit, and organize Pins and boards without a business\u2019s prior approval.', '[m10n]bizAccess.business.people.roleDescription.profileManager', 'Publisher role description'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.role', 'role type not available')};return r[t]||r.UNKNOWN}},l=function(e,t,n,s,i){var o,a,c=!1;i&&s&&(c=s.filter(function(e){return"BUSINESS_HIERARCHY"===e.entity_type}).some(function(e){var n;return null===(n=e.children)||void 0===n?void 0:n.some(function(e){return e.user.id===t})}));var l=(null===(o=(e||[]).find(function(e){return e.id===t}))||void 0===o?void 0:null===(a=o[n?"business_roles":"biz_roles"])||void 0===a?void 0:a[0])||"OWNER";return c&&l===r.V3.EMPLOYEE?r.V3.BIZ_ADMIN:l}},136656:function(e,t,n){"use strict";var r=n(664229),s=n.n(r),i=n(326884),o=s()(function(e,t){e(t)},i.dZ);t.Z=o},406519:function(e,t,n){"use strict";n.d(t,{N_:function(){return _},PD:function(){return o},Qq:function(){return l},ZU:function(){return i},_S:function(){return s},gl:function(){return c},kV:function(){return u},kt:function(){return d},qS:function(){return r},zu:function(){return a}});var r="/product-catalogs/data-source/",s="/product-catalogs/product-groups/",i="/product-catalogs/product-groups/create/",o="/product-catalogs/product-groups/edit/",a="/product-catalogs/product-groups/bulk/",c="/product-catalogs/feed-debugger/",l="/product-catalogs/",u="https://www.pinterest.com/product-catalogs",d="https://www.pinterest.com/product-catalogs/data-source/",_="https://www.pinterest.com/product-catalogs/product-groups/"},732646:function(e,t,n){"use strict";n.d(t,{A6:function(){return i},A9:function(){return b},AJ:function(){return d},BO:function(){return I},Eq:function(){return m},F$:function(){return s},H:function(){return B},Ht:function(){return v},Hv:function(){return l},Iv:function(){return U},Ix:function(){return z},LN:function(){return S},Mr:function(){return o},NM:function(){return r},Pc:function(){return T},VI:function(){return k},ZA:function(){return D},ZH:function(){return A},Zg:function(){return w},bH:function(){return p},bn:function(){return g},c:function(){return c},dt:function(){return x},eE:function(){return a},eZ:function(){return E},g:function(){return j},gN:function(){return L},he:function(){return y},iE:function(){return f},iQ:function(){return C},kG:function(){return _},kR:function(){return u},kS:function(){return N},nM:function(){return P},oz:function(){return O},rl:function(){return R},sC:function(){return h}});var r="/product-catalogs/",s="/business/catalogs/",i="/business/catalogs/data-sources/",o="/business/catalogs/product-groups/",a="/business/catalogs/diagnostics/",c="/business/catalogs/trends",l="/business/catalogs/listings/",u="/business/catalogs/products/",d="/business/catalogs/:catalog_id/data-sources/feed-debugger/",_="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",f="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",m="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",p="/business/catalogs/:catalog_id/product-groups/create/",h="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",b="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",y="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",v="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",g="/business/catalogs/:catalog_id/product-groups/:product_group_id/",A="/business/catalogs/:catalog_id/product-groups/bulk/",S="/business/catalogs/:catalog_id/data-sources/",x="/business/catalogs/:catalog_id/data-sources/api",E="/business/catalogs/:catalog_id/product-groups/",P="/business/catalogs/:catalog_id/data-sources/regions/",I="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",j="/business/catalogs/:catalog_id/trends/",O="/business/catalogs/:catalog_id/diagnostics/",C="/business/catalogs/:catalog_id/listings/",w="/business/catalogs/:catalog_id/products/",T=[i,S],z=[o,E],R=[a,O],N=[c,I],D=[c,j],k=[l,C],L=[u,w],B="/business/catalogs/product-listings/",U=[B,"/business/catalogs/:catalog_id/product-listings/"]},965108:function(e,t,n){"use strict";n.d(t,{I:function(){return A},a:function(){return v}});var r=n(76911),s=n(599689),i=n(558211),o=n(373232),a=n(425288),c=n(773285),l=n(19121),u=n(853234),d=n(453439);function _(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,s)}var f=function(){var e,t=(0,c.F)().checkExperiment,n=(0,l.Z)(),s=!!(n.isAuth&&n.isPartner&&t("web_m10n_pin_support_tool").anyEnabled),i=(0,d.Z)(s),o=i.state,a=i.receiveAdAccounts,f=o.managedBusinessesMap,m=o.error,p=o.fetching,h=!!m||f.size>0,b=(0,r.useCallback)((e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.di)();case 2:a(null!==(t=null==(n=e.sent)?void 0:n.data)&&void 0!==t?t:[]);case 4:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){_(i,r,s,o,a,"next",e)}function a(e){_(i,r,s,o,a,"throw",e)}o(void 0)})}),[a]);return(0,r.useEffect)(function(){h||p||b()},[b,h,p]),f},m=n(515198);function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,a.Z)("PinSupportToolContext"),y=b.Provider,v=b.useMaybeHook,g=function(){var e=(0,s.useLocation)().search;return(0,r.useMemo)(function(){return new URLSearchParams(e)},[e])},A=function(e){var t=e.children,n=e.viewerAdvertiser,s=(0,c.F)().checkExperiment,a=(0,l.Z)(),u=a.isAuth&&a.isPartner&&s("web_m10n_pin_support_tool").anyEnabled,_=(0,d.Z)(u),h=_.state,b=_.actions,v=f(),A=p(v.values()).map(function(e){return(0,i.Vq)(e)}),S=(0,o.u)().sterling_on_steroids_ldap,x=h.activeAdAccount,E=h.headerVisible,P=a.isAuth&&!!S,I=b.changeClient,j=b.changeAdAccount,O=b.toggleHeaderVisibility;(0,r.useEffect)(function(){u&&(P&&!E&&O(!0),!P&&E&&O(!1))},[O,P,u,E]);var C=g(),w=C.get("managedClientId"),T=C.get("advertiserId")||(null==n?void 0:n.id);(0,r.useEffect)(function(){w&&T?j(T,w):w&&I(w)},[I,j,w,T]);var z=v.get((null==x?void 0:x.clientId)||""),R=((null==z?void 0:z.managedAdAccounts)||new Map).get((null==x?void 0:x.adAccountId)||""),N=p(v.values());return(0,m.jsx)(y,{value:{managedBusinesses:N,managedBusinessAccounts:A,headerVisible:h.headerVisible,activeClient:z,activeAdAccount:R,viewerAdvertiser:n,changeClient:I,changeAdAccount:j,toggleHeaderVisibility:O},children:t})}},453439:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),s=n(339363);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={managedBusinessesMap:new Map,headerVisible:!1,activeAdAccount:{clientId:void 0,adAccountId:void 0},fetching:!1,error:!1},_=function(e,t){switch(t.type){case"LOAD_AD_ACCOUNTS":return u(u({},e),{},{managedBusinessesMap:t.payload.managedBusinesses});case"SET_ACTIVE_CLIENT":case"SET_ACTIVE_AD_ACCOUNT":return u(u({},e),{},{activeAdAccount:t.payload});case"TOGGLE_HEADER_VISIBILITY":return u(u({},e),{},{headerVisible:t.payload});default:return e}},f=function(e){var t=e.dispatch,n=e.isEnabled,s=e.state.headerVisible;return{changeClient:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_CLIENT",payload:{clientId:e,adAccountId:null}})},[n,t]),changeAdAccount:(0,r.useCallback)(function(e,r){n&&t({type:"SET_ACTIVE_AD_ACCOUNT",payload:{adAccountId:e,clientId:r}})},[n,t]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!s})},[n,t,s])}},m=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(_,d))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],a=n[1],l=f({dispatch:a,isEnabled:e,state:o}),u=o.activeAdAccount;return(0,r.useEffect)(function(){var e=JSON.parse((0,s.qn)("psToolAdAccount",!1));e&&a({type:"SET_ACTIVE_AD_ACCOUNT",payload:e})},[]),(0,r.useEffect)(function(){(0,s.Nh)("psToolAdAccount",JSON.stringify(u))},[u]),{state:o,actions:l,receiveAdAccounts:(0,r.useCallback)(function(e){a({type:"LOAD_AD_ACCOUNTS",payload:{managedBusinesses:i(e.map(function(e){return{id:e.business.id,ownedAndManagedAdAccounts:e.business.ad_account_count,user:e.business.pinterest_support_business,managedAdAccounts:e.advertisers.reduce(function(e,t){return e.set(t.id,t)},new Map)}})).sort(function(e,t){var n=e.user.username,r=t.user.username;return n.localeCompare(r)}).map(function(e){var t=i(e.managedAdAccounts.values()).sort(function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)});return e.managedAdAccounts=t.reduce(function(e,t){return e.set(t.id,t)},new Map),e}).reduce(function(e,t){return e.set(t.id,t)},new Map)}})},[a])}}},384960:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(24220),s=n(966113),i=n(794230),o={analyticsRoot:function(){return"/"},overview:function(){return"/overview/"},audience_insights:function(e){var t="/audience-insights/";if(e.audienceId){var n=(0,r.dk)("custom",e.audienceId);return(0,i.Z)(t,{audience_1:n})}return t}};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o[e])throw Error("unknown url key: ".concat(e));var n=o[e](t),r=t.advertiserId||t.advertiserIdFromStore||null,a=!!t.absolutify;return"string"==typeof r&&(n=(0,i.Z)(n,{advertiserId:r})),a&&(n=s._Ow+n),n}},438112:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){var s;return(s=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!==r(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(s)?s:String(s))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{L0:function(){return d},Ui:function(){return u},aI:function(){return l}});var i=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),o=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),a=[o.ALPHA,o.BETA,o.GA],c=function(e,t){var n,r=(s(n={},o.ALPHA,i.ACF_RELEASE_ALPHA),s(n,o.BETA,i.ACF_RELEASE_BETA),s(n,o.GA,i.ACF_RELEASE_GA),n)[e],a=r?t.checkExperiment(r):void 0;return(null==a?void 0:a.group)==="enabled"},l=function(e){return a.some(function(t){return c(t,e)})},u=function(e){var t=e.checkExperiment("aid_exp_acf_default_budgets_objv4");return"enabled"===t.group||"employees"===t.group},d=function(e){var t=e.checkExperiment("advertiser_growth_acf_redesign");return"enabled"===t.group||"employees"===t.group}},924551:function(e,t,n){"use strict";var r=n(76911),s=n(506979),i=n(908390),o=n(21353),a=n(56641),c=n(407043),l=n(186656),u=n(506708),d=n(898781),_=n(773285),f=n(780280),m=n(966113),p=n(406519),h=n(732646),b=n(384960),y=n(438112),v=n(589428),g=n(515198);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var z=function(e,t,n){var r;return e.user.id===t&&null!==e.businesses&&(null===(r=e.businesses)||void 0===r?void 0:r.includes(n))},R=function(e,t,n,r){r({event_type:9709,component:13770,view_type:465,aux_data:{user_id:e,business_id:t,modal_link_clicked:n}})},N=function(){var e=window.location.hostname;return e.includes("pinterdev")&&e.includes("trends-dev")?"https://".concat(e):m.iYw},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"https://".concat((0,u.Z)())+(e?"".concat(h.F$):"".concat(p.Qq))+"?advertiserId=".concat(t)},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(o,e);var t,n,r,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=C(o);if(t){var r=C(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(O(e=s.call.apply(s,[this].concat(n))),"state",{actions:e.props.actions||[],accountBusinessAssigner:""}),w(O(e),"handleActionDataRequests",function(t,n,r,s,i){t=t||[];var o=0,a=e.state.actions;n&&(a=(null===(u=t[o])||void 0===u?void 0:u.resource_response.data)||[],o+=1);var c=s||"";if(i!==s){var l,u,d,_,f=(null===(d=t[o])||void 0===d?void 0:d.resource_response.data)||[],m=new Set(f.filter(function(e){return z(e,i,s)}).map(function(e){return e.businesses}).reduce(function(e,t){return e.concat(t)},[]));o+=1,l=(null===(_=t[o])||void 0===_?void 0:_.resource_response.data.data)||[];var p=new Set(l.map(function(e){return e.id})),h=new Set(l.filter(function(e){return e.biz_roles.includes("BIZ_ADMIN")}).map(function(e){return e.id})),b=new Set(E(m).filter(function(e){return!p.has(e)})),y=new Set(E(m).filter(function(e){return h.has(e)}));c=b.size>0&&i?i||"":y.size>0&&E(y)[0]||""}e.setState({actions:a,accountBusinessAssigner:c})}),w(O(e),"fetchActionData",function(){var t=e.props,n=t.advertiserId,r=t.requestContext,s=t.userId,i=t.accountOwnerId,o=[],a=e.props.experimentsClient.checkExperiment("business_access_employees_api_v4_migration_part1").anyEnabled,c=(e.props.actions||[]).length<1;c&&o.push((0,l.Z)({url:"/ads/v4/advertisers/".concat(n,"/actions/")})),s!==i&&(o.push((0,l.Z)({url:"/ads/v4/advertisers/".concat(n,"/policy/")})),o.push((0,l.Z)({url:a?"/ads/v4/business_access/businesses/me/employers/":"/ads/internal/business_access/users/me/employers/"}))),Promise.all(o).then(function(t){return e.handleActionDataRequests(t,c,r,i,s)})}),w(O(e),"advertiserActionList",function(){var t=e.props,n=t.advertiserId,r=t.experimentsClient,s=t.getSterlingURL,i=t.isAnalyticsSite,o=t.isOwnerUserSuspended,a=t.merchantId,c=t.isWwwSite,l=t.VMPstatus,d=t.isNonEndemicCatalogsEnabled,_=t.inBusinessManagerUrlMigration,f=t.reduxAdvertiserId,p=e.state,h=p.actions,v=p.accountBusinessAssigner,g=i||c,A=[{enabled:!o&&h.includes(11),text:e.props.i18n._('View reporting', '[m10n] link to the reporting page', '[m10n] link to the reporting page'),url:s("campaigns",{advertiserId:n,absolutify:g})},{enabled:!o&&h.includes(56),text:e.props.i18n._('View billing', '[m10n] link to user\'s billing settings', '[m10n] link to user\'s billing settings'),url:s("billing",{advertiserId:n,absolutify:g})},{enabled:!o&&h.includes(32),text:e.props.i18n._('View audiences', '[m10n] link to audiences manager page', '[m10n] link to audiences manager page'),url:s("audiences",{advertiserId:n,absolutify:g})},{enabled:!o&&h.includes(35),text:e.props.i18n._('View conversion tags', '[m10n] link to conversion tags page', '[m10n] link to conversion tags page'),url:s("pinterest_tag",{advertiserId:n,absolutify:g})},{enabled:!o&&h.includes(55),text:e.props.i18n._('View audience insights', '[m10n] link to user\'s audience insights', '[m10n] link to user\'s audience insights'),url:(0,b.t)("audience_insights",{advertiserId:n,absolutify:!i,advertiserIdFromStore:f})},{enabled:!o&&h.includes(55),text:e.props.i18n._('View analytics', '[m10n] link to view analytics as a different advertiser on analytics site', '[m10n] link to view analytics as a different advertiser on analytics site'),url:(0,b.t)("overview",{advertiserId:n,absolutify:!i,advertiserIdFromStore:f})},{enabled:!o&&h.includes(49),text:e.props.i18n._('Create ad', '[m10n] link to create an ad', '[m10n] link to create an ad'),url:s((0,y.aI)(r)?"campaignMode":"create",{advertiserId:n,absolutify:g})},{enabled:!!(v&&v.length>0),text:e.props.i18n._('Manage access', '[m10n] link to business access', '[m10n] link to business access'),url:_?"https://".concat((0,u.Z)(),"/business/business-manager/").concat(v,"/ad-accounts/").concat(n,"/details/"):"https://".concat((0,u.Z)(),"/business/business-access/").concat(v,"/ad-accounts/").concat(n,"/details/")},{enabled:!o,text:e.props.i18n._('View trends', '[m10n] link to view trends as a different advertiser on trends site', '[m10n] The link to view trends as a different advertiser on trends.pinterest.com'),url:"".concat(N(),"/?advertiserId=").concat(n)}];return a&&A.push({enabled:!o&&h.includes(68),text:e.props.i18n._('View Catalogs', '[m10n] link to user\'s catalogs', '[m10n] link to user\'s catalogs'),url:D(d,n)}),l&&A.push({enabled:!o&&h.includes(68),text:e.props.i18n._('View verified merchant status', '[m10n] link to user\'s verified merchant status', '[m10n] link to user\'s verified merchant status'),url:"".concat(m.srp)}),A.push({enabled:!o,text:e.props.i18n._('View branded Pins', '[m10n]advertiserSwitcher.actions', 'Link to view Branded Pins page for selected aaccount'),url:"https://".concat((0,u.Z)(),"/branded-pins/?advertiserId=").concat(n)}),A}),e}return n=[{key:"componentDidMount",value:function(){this.fetchActionData()}},{key:"render",value:function(){var e=this;return(0,g.jsx)(i.xu,{paddingX:4,paddingY:2,children:this.advertiserActionList().filter(function(e){return e.enabled}).map(function(t,n){return(0,g.jsx)(i.xu,{marginTop:1,marginBottom:1,children:(0,g.jsx)(i.iP,{onTap:function(){R(e.props.userId,e.props.advertiserId,t.text,e.props.logContextEvent),(0,a.Z)(t.url)},children:(0,g.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(i.xu,{paddingY:3,flex:"grow",children:(0,g.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(i.xv,{color:"subtle",weight:"bold",children:t.text}),t.isNew&&(0,g.jsx)(i.xu,{paddingX:2,children:(0,g.jsx)(i.Ct,{text:e.props.i18n._('New', '[m10n]advertiserActions.newBadge', 'badge to signify that this is a new product'),position:"middle"})})]})}),(0,g.jsx)(i.xu,{marginStart:2,children:(0,g.jsx)(i.JO,{icon:"arrow-forward",color:"subtle",size:14,accessibilityLabel:e.props.i18n._('Go', '[m10n] accessibility label for an arrow icon on a link', '[m10n] accessibility label for an arrow icon on a link')})})]})})},n)})})}}],I(o.prototype,n),r&&I(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);t.Z=function(e){var t=(0,c.v)().logContextEvent,n=(0,d.ZP)(),r=(0,f.B)(),i=(0,_.F)().checkExperiment,a=i("spx_catalogs_v3").anyEnabled,l=i("web_m10n_business_manager_re_routing_gate").anyEnabled,u=(0,s.useSelector)(v.iC);return(0,g.jsx)(k,x(x({requestContext:r,experimentsClient:(0,_.F)()},e),{},{isNonEndemicCatalogsEnabled:a,inBusinessManagerUrlMigration:l,i18n:n,logContextEvent:t,getSterlingURL:(0,o.Z)(),reduxAdvertiserId:u}))}},603644:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(515198);function s(e){var t=e.children;return(0,r.jsx)("tbody",{children:t})}},173717:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(515198);function s(e){var t=e.children;return(0,r.jsx)("thead",{children:t})}},761717:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(515198);function s(e){var t=e.children;return(0,r.jsx)("tr",{children:t})}},478696:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),s=n(515198);function i(e){var t=e.children,n=e.position,i=void 0===n?"left":n,o=e.width;return(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:["right"===i?(0,s.jsx)(r.iz,{}):null,(0,s.jsx)(r.xu,{flex:"none",padding:4,width:void 0===o?320:o,children:t}),"left"===i?(0,s.jsx)(r.iz,{}):null]})}},239838:function(e,t,n){"use strict";n.d(t,{$7:function(){return p},Ay:function(){return o},B1:function(){return b},CD:function(){return c},Dk:function(){return d},Fc:function(){return C},Kp:function(){return w},NG:function(){return S},QM:function(){return j},T0:function(){return u},TE:function(){return m},WF:function(){return g},Wm:function(){return y},Xm:function(){return x},_N:function(){return I},d7:function(){return i},e_:function(){return P},i_:function(){return A},kY:function(){return f},nV:function(){return r},pC:function(){return a},ph:function(){return _},qg:function(){return E},tZ:function(){return s},uC:function(){return l},uc:function(){return v},xl:function(){return h},yG:function(){return O}});var r="https://business.pinterest.com/en/pinterest-advertising-services-agreement",s="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",i="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",o="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",a="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",u="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",d="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",_=[1,3],f=[7],m=[34],p=[35],h=[19],b=[36],y=[37],v=[38],g=8,A=9,S=11,x=15,E=16,P=17,I=18,j=19,O=20;function C(e){var t=A;return _.includes(e)?t=g:f.includes(e)?t=S:m.includes(e)?t=x:p.includes(e)?t=E:h.includes(e)?t=P:b.includes(e)?t=I:v.includes(e)?t=j:y.includes(e)&&(t=O),t}function w(e){var t=d;return _.includes(e)?t=r:f.includes(e)?t=s:m.includes(e)?t=i:p.includes(e)?t=o:h.includes(e)?t=u:b.includes(e)?t=a:y.includes(e)?t=c:v.includes(e)&&(t=l),t}},379764:function(e,t,n){"use strict";var r=n(908390),s=n(633988),i=new r.H3([s.Z]);t.Z=i},350118:function(e,t,n){"use strict";n.d(t,{AF:function(){return c},H0:function(){return l},S6:function(){return u},_S:function(){return d}});var r=n(506979),s=n(425288),i=n(515198),o=(0,s.Z)("Pins"),a=o.Provider,c=o.useHook,l=o.useMaybeHook;function u(){var e=c();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.useSelector)(function(e){return e.pins},r.shallowEqual);return(0,i.jsx)(a,{value:n,children:t})}},398061:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},e:function(){return o}});var r=n(908390),s=n(780280),i=n(515198),o=new r.Ry(1);function a(e){var t=e.children,n=e.isImagePinForUnauthOnTablet,a=(0,s.B)().isAuthenticated;return(0,i.jsxs)(r.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},zIndex:a?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,children:[(0,i.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),t]})}},633988:function(e,t,n){"use strict";var r=n(908390),s=n(398061),i=new r.H3([s.e]);t.Z=i},167678:function(e,t,n){"use strict";n.d(t,{TA:function(){return P}});var r=n(76911),s=n(742897),i=n(539439),o=n(744702),a=n(811602),c=n(727460),l=n(349424),u=n.n(l);function d(e){console.warn("loadable: "+e)}var _=r.createContext(),f={initialChunks:{}},m="PENDING",p="REJECTED",h=function(e){return e};function b(e){var t=e.defaultResolveComponent,n=void 0===t?h:t,l=e.render,d=e.onLoad;function b(e,t){void 0===t&&(t={});var h,b="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,y={};function v(e){return t.cacheKey?t.cacheKey(e):b.resolve?b.resolve(e):"static"}function g(e,r,s){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,c.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(s,i,{preload:!0}),i}var A=(h=function(e){function n(n){var r;return((r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:v(n)},function(e,t){if(!e){var n=Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||b.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor)?(!1===t.ssr||(b.requireAsync(n).catch(function(){return null}),r.loadSync(),n.__chunkExtractor.addChunk(b.chunkName(n))),(0,o.Z)(r)):(!1!==t.ssr&&(b.isReady&&b.isReady(n)||b.chunkName&&f.initialChunks[b.chunkName(n)])&&r.loadSync(),r)}(0,a.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=v(e);return(0,i.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===p&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return v(this.props)},r.getCache=function(){return y[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),y[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},r.loadSync=function(){if(this.state.loading)try{var e=b.requireSync(this.props),t=g(e,this.props,S);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:b.resolve(this.props),chunkName:b.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var n=g(t,e.props,{Loadable:S});e.safeSetState({result:n,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},r.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,s.Z)(t,["__chunkExtractor","forwardedRef"])),r=this.getCache();return r||((r=b.requireAsync(n)).status=m,this.setCache(r),r.then(function(){r.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:b.resolve(e.props),chunkName:b.chunkName(e.props),error:t?t.message:t}),r.status=p})),r},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,o=(e.__chunkExtractor,(0,s.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,c=a.error,u=a.loading,d=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(c)throw c;var _=r||t.fallback||null;return u?_:l({fallback:_,result:d,options:t,props:(0,i.Z)({},o,{ref:n})})},n}(r.Component),function(e){return r.createElement(_.Consumer,null,function(t){return r.createElement(h,Object.assign({__chunkExtractor:t},e))})}),S=r.forwardRef(function(e,t){return r.createElement(A,Object.assign({forwardedRef:t},e))});return S.preload=function(e){b.requireAsync(e)},S.load=function(e){return b.requireAsync(e)},S}return{loadable:b,lazy:function(e,t){return b(e,(0,i.Z)({},t,{suspense:!0}))}}}var y=b({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),v=y.loadable,g=y.lazy,A=b({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=A.loadable,x=A.lazy,E="undefined"!=typeof window;function P(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace;if(!E)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var r=null;if(E){var s=""+(void 0===n?"":n)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(s);if(i){r=JSON.parse(i.textContent);var o=document.getElementById(s+"_ext");if(o)JSON.parse(o.textContent).namedChunks.forEach(function(e){f.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!r)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var a=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function s(){r.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!a&&(a=!0,e())}t.push=function(){n.apply(void 0,arguments),s()},s()}).then(e)}v.lib=S,g.lib=x,t.ZP=v},206134:function(e,t,n){var r;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=s(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===r)for(var c in n)i.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):"object"===s(n.amdO)&&n.amdO?void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r):window.classNames=o}()},673359:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(168303),s=n(393248),i=n(76170);function o(e,t){(0,i.Z)(2,arguments);var n=(0,s.Z)(e),o=(0,r.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var a=n.getDate(),c=new Date(n.getTime());return(c.setMonth(n.getMonth()+o+1,0),a>=c.getDate())?c:(n.setFullYear(c.getFullYear(),c.getMonth(),a),n)}},56754:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(393248),s=n(433791),i=n(46801),o=n(76170);function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function c(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),c=(0,r.Z)(t),l=a(n,c),u=Math.abs(function(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e),r=(0,i.Z)(t);return Math.round((n.getTime()-(0,s.Z)(n)-(r.getTime()-(0,s.Z)(r)))/864e5)}(n,c));n.setDate(n.getDate()-l*u);var d=a(n,c)===-l,_=l*(u-d);return 0===_?0:_}},46801:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(393248),s=n(76170);function i(e){(0,s.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(0,0,0,0),t}},667731:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(168303),s=n(673359),i=n(76170);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(t);return(0,s.Z)(e,-n)}},349424:function(e,t,n){"use strict";var r=n(916731),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?o:a[e.$$typeof]||s}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var s=f(n);s&&s!==m&&e(t,s,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=c(t),p=c(n),h=0;h<o.length;++h){var b=o[h];if(!i[b]&&!(r&&r[b])&&!(p&&p[b])&&!(a&&a[b])){var y=_(n,b);try{l(t,b,y)}catch(e){}}}}return t}},468278:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,_=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function b(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case _:case o:case c:case a:case m:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case h:case p:case i:return t}}}function y(e){return b(e)===_}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=_,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=f,t.Fragment=o,t.Lazy=h,t.Memo=p,t.Portal=i,t.Profiler=c,t.StrictMode=a,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===_||e===c||e===a||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return y(e)||b(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===h},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===c},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===m}},916731:function(e,t,n){"use strict";e.exports=n(468278)},674631:function(e){"use strict";e.exports=function(e,t,n,r,s,i,o,a){if(!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,i,o,a],u=0;(c=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},339607:function(e,t,n){var r=n(138446)(n(419652),"DataView");e.exports=r},862726:function(e,t,n){var r=n(138446)(n(419652),"Promise");e.exports=r},285475:function(e,t,n){var r=n(138446)(n(419652),"Set");e.exports=r},999014:function(e,t,n){var r=n(13775),s=n(999678),i=n(677565);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=s,o.prototype.has=i,e.exports=o},614958:function(e,t,n){var r=n(138446)(n(419652),"WeakMap");e.exports=r},991868:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},538986:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}},155688:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}},888799:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},471150:function(e,t,n){var r=n(54583),s=n(876686);e.exports=function(e,t,n){(void 0===n||s(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},475418:function(e,t,n){var r=n(54583),s=n(876686),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&s(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},54583:function(e,t,n){var r=n(419956);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},560704:function(e,t,n){var r=n(452740),s=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(s)return s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},389653:function(e,t,n){var r=n(984567)();e.exports=r},861109:function(e,t,n){var r=n(155688),s=n(543758);e.exports=function(e,t,n){var i=t(e);return s(e)?i:r(i,n(e))}},437385:function(e,t,n){var r=n(422150),s=n(302041);e.exports=function e(t,n,i,o,a){return t===n||(null!=t&&null!=n&&(s(t)||s(n))?r(t,n,i,o,e,a):t!=t&&n!=n)}},422150:function(e,t,n){var r=n(190087),s=n(39632),i=n(711672),o=n(185635),a=n(425766),c=n(543758),l=n(468645),u=n(5769),d="[object Arguments]",_="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,b){var y=c(e),v=c(t),g=y?_:a(e),A=v?_:a(t);g=g==d?f:g,A=A==d?f:A;var S=g==f,x=A==f,E=g==A;if(E&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(E&&!S)return b||(b=new r),y||u(e)?s(e,t,n,p,h,b):i(e,t,g,n,p,h,b);if(!(1&n)){var P=S&&m.call(e,"__wrapped__"),I=x&&m.call(t,"__wrapped__");if(P||I){var j=P?e.value():e,O=I?t.value():t;return b||(b=new r),h(j,O,n,p,b)}}return!!E&&(b||(b=new r),o(e,t,n,p,h,b))}},342485:function(e,t,n){var r=n(75249),s=n(271206),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},166206:function(e,t,n){var r=n(452740),s=n(75249),i=n(642212),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=s(e),n=[];for(var a in e)"constructor"==a&&(t||!o.call(e,a))||n.push(a);return n}},355187:function(e,t,n){var r=n(190087),s=n(471150),i=n(389653),o=n(713489),a=n(452740),c=n(916368),l=n(951566);e.exports=function e(t,n,u,d,_){t!==n&&i(n,function(i,c){if(_||(_=new r),a(i))o(t,n,c,u,e,d,_);else{var f=d?d(l(t,c),i,c+"",t,n,_):void 0;void 0===f&&(f=i),s(t,c,f)}},c)}},713489:function(e,t,n){var r=n(471150),s=n(640389),i=n(615995),o=n(702695),a=n(381081),c=n(502767),l=n(543758),u=n(401628),d=n(468645),_=n(857946),f=n(452740),m=n(436266),p=n(5769),h=n(951566),b=n(750462);e.exports=function(e,t,n,y,v,g,A){var S=h(e,n),x=h(t,n),E=A.get(x);if(E){r(e,n,E);return}var P=g?g(S,x,n+"",e,t,A):void 0,I=void 0===P;if(I){var j=l(x),O=!j&&d(x),C=!j&&!O&&p(x);P=x,j||O||C?l(S)?P=S:u(S)?P=o(S):O?(I=!1,P=s(x,!0)):C?(I=!1,P=i(x,!0)):P=[]:m(x)||c(x)?(P=S,c(S)?P=b(S):(!f(S)||_(S))&&(P=a(x))):I=!1}I&&(A.set(x,P),v(P,x,y,g,A),A.delete(x)),r(e,n,P)}},263519:function(e,t,n){var r=n(472063),s=n(345805),i=n(822141);e.exports=function(e,t){return i(s(e,t,r),e+"")}},770680:function(e,t,n){var r=n(159031),s=n(419956),i=n(472063),o=s?function(e,t){return s(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},814434:function(e,t,n){var r=n(308348),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},963022:function(e){e.exports=function(e,t){return e.has(t)}},527721:function(e,t,n){var r=n(749142);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},640389:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e);var s=n(419652),i="object"==r(t)&&t&&!t.nodeType&&t,o=i&&"object"==r(e)&&e&&!e.nodeType&&e,a=o&&o.exports===i?s.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}},615995:function(e,t,n){var r=n(527721);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},702695:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},807870:function(e,t,n){var r=n(475418),s=n(54583);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?s(n,l,u):r(n,l,u)}return n}},158808:function(e,t,n){var r=n(263519),s=n(767651);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&s(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,o)}return t})}},984567:function(e){e.exports=function(e){return function(t,n,r){for(var s=-1,i=Object(t),o=r(t),a=o.length;a--;){var c=o[e?a:++s];if(!1===n(i[c],c,i))break}return t}}},419956:function(e,t,n){var r=n(138446),s=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=s},39632:function(e,t,n){var r=n(999014),s=n(888799),i=n(963022);e.exports=function(e,t,n,o,a,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var _=c.get(e),f=c.get(t);if(_&&f)return _==t&&f==e;var m=-1,p=!0,h=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++m<u;){var b=e[m],y=t[m];if(o)var v=l?o(y,b,m,t,e,c):o(b,y,m,e,t,c);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!s(t,function(e,t){if(!i(h,t)&&(b===e||a(b,e,n,o,c)))return h.push(t)})){p=!1;break}}else if(!(b===y||a(b,y,n,o,c))){p=!1;break}}return c.delete(e),c.delete(t),p}},711672:function(e,t,n){var r=n(536531),s=n(749142),i=n(876686),o=n(39632),a=n(893101),c=n(779366),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,_){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new s(e),new s(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var m=1&r;if(f||(f=c),e.size!=t.size&&!m)break;var p=_.get(e);if(p)return p==t;r|=2,_.set(e,t);var h=o(f(e),f(t),r,l,d,_);return _.delete(e),h;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},185635:function(e,t,n){var r=n(777417),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,a){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var _=l[d];if(!(c?_ in t:s.call(t,_)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=c;++d<u;){var b=e[_=l[d]],y=t[_];if(i)var v=c?i(y,b,_,t,e,a):i(b,y,_,e,t,a);if(!(void 0===v?b===y||o(b,y,n,i,a):v)){p=!1;break}h||(h="constructor"==_)}if(p&&!h){var g=e.constructor,A=t.constructor;g!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof A&&A instanceof A)&&(p=!1)}return a.delete(e),a.delete(t),p}},777417:function(e,t,n){var r=n(861109),s=n(589098),i=n(52468);e.exports=function(e){return r(e,i,s)}},343946:function(e,t,n){var r=n(662498)(Object.getPrototypeOf,Object);e.exports=r},589098:function(e,t,n){var r=n(538986),s=n(600244),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:r(o(e=Object(e)),function(t){return i.call(e,t)})}:s;e.exports=a},425766:function(e,t,n){var r=n(339607),s=n(218157),i=n(862726),o=n(285475),a=n(614958),c=n(820632),l=n(892329),u="[object Map]",d="[object Promise]",_="[object Set]",f="[object WeakMap]",m="[object DataView]",p=l(r),h=l(s),b=l(i),y=l(o),v=l(a),g=c;(r&&g(new r(new ArrayBuffer(1)))!=m||s&&g(new s)!=u||i&&g(i.resolve())!=d||o&&g(new o)!=_||a&&g(new a)!=f)&&(g=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case p:return m;case h:return u;case b:return d;case y:return _;case v:return f}return t}),e.exports=g},381081:function(e,t,n){var r=n(560704),s=n(343946),i=n(75249);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(s(e))}},767651:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(876686),i=n(685326),o=n(629985),a=n(452740);e.exports=function(e,t,n){if(!a(n))return!1;var c=r(t);return("number"==c?!!(i(n)&&o(t,n.length)):"string"==c&&t in n)&&s(n[t],e)}},893101:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},271206:function(e,t,n){var r=n(662498)(Object.keys,Object);e.exports=r},642212:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},345805:function(e,t,n){var r=n(991868),s=Math.max;e.exports=function(e,t,n){return t=s(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=s(i.length-t,0),c=Array(a);++o<a;)c[o]=i[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=i[o];return l[t]=n(c),r(e,this,l)}}},951566:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},999678:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},677565:function(e){e.exports=function(e){return this.__data__.has(e)}},779366:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},822141:function(e,t,n){var r=n(770680),s=n(679150)(r);e.exports=s},679150:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var s=t(),i=16-(s-r);if(r=s,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},308348:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},159031:function(e){e.exports=function(e){return function(){return e}}},664229:function(e,t,n){var r=n(452740),s=n(329236),i=n(371151),o=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,d,_,f,m=0,p=!1,h=!1,b=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,m=t,d=e.apply(r,n)}function v(e){var n=e-f,r=e-m;return void 0===f||n>=t||n<0||h&&r>=u}function g(){var e,n,r,i=s();if(v(i))return A(i);_=setTimeout(g,(e=i-f,n=i-m,r=t-e,h?a(r,u-n):r))}function A(e){return(_=void 0,b&&c)?y(e):(c=l=void 0,d)}function S(){var e,n=s(),r=v(n);if(c=arguments,l=this,f=n,r){if(void 0===_)return m=e=f,_=setTimeout(g,t),p?y(e):d;if(h)return clearTimeout(_),_=setTimeout(g,t),y(f)}return void 0===_&&(_=setTimeout(g,t)),d}return t=i(t)||0,r(n)&&(p=!!n.leading,u=(h="maxWait"in n)?o(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),S.cancel=function(){void 0!==_&&clearTimeout(_),m=0,c=f=l=_=void 0},S.flush=function(){return void 0===_?d:A(s())},S}},472063:function(e){e.exports=function(e){return e}},401628:function(e,t,n){var r=n(685326),s=n(302041);e.exports=function(e){return s(e)&&r(e)}},653498:function(e,t,n){var r=n(437385);e.exports=function(e,t){return r(e,t)}},436266:function(e,t,n){var r=n(820632),s=n(343946),i=n(302041),o=Object.prototype,a=Function.prototype.toString,c=o.hasOwnProperty,l=a.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=s(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==l}},183497:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(820632),i=n(302041);e.exports=function(e){return"symbol"==r(e)||i(e)&&"[object Symbol]"==s(e)}},52468:function(e,t,n){var r=n(568562),s=n(342485),i=n(685326);e.exports=function(e){return i(e)?r(e):s(e)}},916368:function(e,t,n){var r=n(568562),s=n(166206),i=n(685326);e.exports=function(e){return i(e)?r(e,!0):s(e)}},658602:function(e,t,n){var r=n(13775);function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function n(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(s.Cache||r),n}s.Cache=r,e.exports=s},16449:function(e,t,n){var r=n(355187),s=n(158808)(function(e,t,n){r(e,t,n)});e.exports=s},329236:function(e,t,n){var r=n(419652);e.exports=function(){return r.Date.now()}},600244:function(e){e.exports=function(){return[]}},371151:function(e,t,n){var r=n(814434),s=n(452740),i=n(183497),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?o:+e}},750462:function(e,t,n){var r=n(807870),s=n(916368);e.exports=function(e){return r(e,s(e))}},401426:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,_=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,A=r?Symbol.for("react.scope"):60119;function S(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case _:case o:case c:case a:case m:return e;default:switch(e=e&&e.$$typeof){case u:case f:case b:case h:case l:return e;default:return t}}case i:return t}}}function x(e){return S(e)===_}t.AsyncMode=d,t.ConcurrentMode=_,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=f,t.Fragment=o,t.Lazy=b,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=a,t.Suspense=m,t.isAsyncMode=function(e){return x(e)||S(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return S(e)===f},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===b},t.isMemo=function(e){return S(e)===h},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===c},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===_||e===c||e===a||e===m||e===p||"object"===n(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===g||e.$$typeof===A||e.$$typeof===y)},t.typeOf=S},727460:function(e,t,n){"use strict";e.exports=n(401426)},904202:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];var o=0,a=s.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return n(e)}).join(", ")+"]");return t}(s),l=e.apply(void 0,[function(){return o++,a.apply(void 0,arguments)}].concat(r)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=c.map(function(n){return n.apply(void 0,[e,t].concat(r))});return l.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(i))};return u.resultFunc=a,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,s=null;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(s=e.apply(void 0,i)),n=i,s}})},561810:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,s=e[r];if(0<o(s,t))e[r]=t,e[n]=s,n=r;else break}}function s(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<s&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else if(l<s&&0>o(u,n))e[r]=u,e[l]=n,r=l;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":n(performance))&&"function"==typeof performance.now){var a,c=performance;t.unstable_now=function(){return c.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],_=[],f=1,m=null,p=3,h=!1,b=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,A="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=s(_);null!==t;){if(null===t.callback)i(_);else if(t.startTime<=e)i(_),t.sortIndex=t.expirationTime,r(d,t);else break;t=s(_)}}function x(e){if(y=!1,S(e),!b){if(null!==s(d))b=!0,N(E);else{var t=s(_);null!==t&&D(x,t.startTime-e)}}}function E(e,n){b=!1,y&&(y=!1,g(j),j=-1),h=!0;var r=p;try{for(S(n),m=s(d);null!==m&&(!(m.expirationTime>n)||e&&!w());){var o=m.callback;if("function"==typeof o){m.callback=null,p=m.priorityLevel;var a=o(m.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?m.callback=a:m===s(d)&&i(d),S(n)}else i(d);m=s(d)}if(null!==m)var c=!0;else{var l=s(_);null!==l&&D(x,l.startTime-n),c=!1}return c}finally{m=null,p=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P=!1,I=null,j=-1,O=5,C=-1;function w(){return!(t.unstable_now()-C<O)}function T(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?a():(P=!1,I=null)}}else P=!1}if("function"==typeof A)a=function(){A(T)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,R=z.port2;z.port1.onmessage=T,a=function(){R.postMessage(null)}}else a=function(){v(T,0)};function N(e){I=e,P||(P=!0,a())}function D(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){b||h||(b=!0,N(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"===n(o)&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=o+c,e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:c,sortIndex:-1},o>a?(e.sortIndex=o,r(_,e),null===s(d)&&e===s(_)&&(y?(g(j),j=-1):y=!0,D(x,o-a))):(e.sortIndex=c,r(d,e),b||h||(b=!0,N(E))),e},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},456058:function(e,t,n){"use strict";e.exports=n(561810)},830539:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(76911),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,o=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),s=r[0].inst,u=r[1];return a(function(){s.value=n,s.getSnapshot=t,l(s)&&u({inst:s})},[e,n,t]),o(function(){return l(s)&&u({inst:s}),e(function(){l(s)&&u({inst:s})})},[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},165016:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(76911),s=n(768138),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=s.useSyncExternalStore,a=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var d=a(null);if(null===d.current){var _={hasValue:!1,value:null};d.current=_}else _=d.current;var f=o(e,(d=l(function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==s&&_.hasValue){var t=_.value;if(s(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==s&&s(t,n)?t:(o=e,a=n)}var o,a,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,s]))[0],d[1]);return c(function(){_.hasValue=!0,_.value=f},[f]),u(f),f}},768138:function(e,t,n){"use strict";e.exports=n(830539)},273897:function(e,t,n){"use strict";e.exports=n(165016)},744702:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},232302:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(439920);function s(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},539439:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},811602:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(967809);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},927593:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(232302);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},742897:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}n.d(t,{Z:function(){return r}})},967809:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},439920:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(54406);function s(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,r.Z)(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:String(t)}},54406:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71091-96b9c4ee2425fa1c.js.map