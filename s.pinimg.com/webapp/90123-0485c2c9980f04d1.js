"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90123],{768559:function(e,t,r){var n=r(826067),i=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=function(e,t){return t?e.substring(t.length).split("/")[0]:e},a=function(e){var t,r=e.boardUrl,a=e.path,s=e.pinId,c=e.pinnerUserName,u=e.query,d=e.search,p=e.storyPinDataId;if(!a)return"";switch(a){case"/":case"/homefeed/":return"UserHomefeedResource";case c&&"/".concat(c,"/pins/"):return"UserPinsResource";case c&&"/".concat(c,"/"):case/\/_activity\//.test(a)&&a:return"UserActivityPinsResource";case/\/_created\//.test(a)&&a:return p?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(a)&&a:return"UserDiscoveredPinsResource";case/\/_saved\//.test(a)&&a:return"BoardlessPinsResource";case c&&"/".concat(c,"/_shopping_list/"):return"ShoppingListFeedResource";case/\/visual-search\//.test(a)&&a:return"VisualLiveSearchResource";case/\/pin\//.test(a)&&a:var l=o(a,"/pin/");if(s!==l)return"RelatedPinFeedResource_".concat(l);break;case/\/search\//.test(a)&&a:if(d){var f=(0,n.mB)(d,{shouldDecode:!1}).q||"";return"SearchResource_".concat(f.toLowerCase())}if(u)return"SearchResource_".concat(encodeURIComponent(u.q||"").toLowerCase());break;case/\/categories\//.test(a)&&a:var m=o(a,"/categories/");return"CategoryFeedResource_".concat(m);case/\/discover\/topics\//.test(a)&&a:return"CategoryFeedResource";case/\/news_hub\//.test(a)&&a:var v=o(a,"/news_hub/");return"NewsHubDetailsResource_".concat(v);case/\/_tools\/more-ideas\//.test(a)&&a:return"BoardContentRecommendationResource";case/\/topics\//.test(a)&&a:var g=o(a,"/topics/");return"TopicFeedResource_".concat(g);case/\/source\//.test(a)&&a:var h=o(a,"/source/");return"DomainFeedResource_".concat(h);case/\/explore\//.test(a)&&a:var _=o(a,"/explore/");return"SearchResource_".concat(_);case r:case!!r&&/\/more_ideas\//.test(a)&&a:return"BoardFeedResource";case r&&a.indexOf(r)>-1&&a:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(a)&&a:return"BrandCatalogFeedResource";case i.test(a)&&a:var y=(null===(t=a.match(i))||void 0===t?void 0:t[2])||"unknown";return"TodayArticleFeedResource_".concat(y);case/\/today\//.test(a):return"TodayTabResource";case/\story_feed\//.test(a)&&a:if(d){var P=(0,n.mB)(d),b=P.feed_type,w=P.request_params;return"StoryFeedResource_".concat(b,"_").concat(w)}}return""},s=function(e){var t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""};t.Z=function(e){var t,r,n=e.boardUrl,i=e.location,o=e.pinId,c=e.pinnerUserName,u=e.previousHistory,d=e.storyPinDataId,p=e.trackingParams,l=e.trackingParamsMap,f=void 0===l?{}:l;if(o&&p&&i){if(!f)return"".concat(null!=p?p:"","~0");var m=i.pathname,v=i.search,g=i.query,h=a({boardUrl:n,path:m,pinId:o,pinnerUserName:c,query:g,search:v,storyPinDataId:d,trackingParams:p,trackingParamsMap:f}),_=Object.keys(f);if((m||"").startsWith("/pin/")){var y=_.find(function(e){return"PinResource"!==e});t=y?f[y]:f.PinResource}else t=f[h];return!t&&u&&u.length&&(r=a({boardUrl:n,path:s(u[u.length-1].location),pinId:o,pinnerUserName:c,query:g,search:v,storyPinDataId:d,trackingParams:p,trackingParamsMap:f}),t=f[r]),t||(t="".concat(p||"","~0")),t}}},433780:function(e,t,r){r.d(t,{w:function(){return _}});var n=r(768559),i=r(245474),o=r(704115),a=r(67347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function p(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var f=null,m={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},v=function(){return window&&window.performance&&window.performance.now?"(Time: ".concat((window.performance.now()/1e3).toFixed(3),"s)"):""},g=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}},h={};function _(e){var t=e.contextLogger,r=e.shouldExtractTrackingParams;if(f)return f;var s=function(e,i,o){if(r&&o&&e){var a=e.pair_id,s=e.event_type;if(4703===s&&a&&h[a])e.clientTrackingParams=h[a];else{var c,u,d,p,l=e.object_id_str,f=l?o[l]:null,m=null==i?void 0:null===(u=i.current)||void 0===u?void 0:u.location,v=null==i?void 0:i.previous;f&&m&&(c=(0,n.Z)({boardUrl:null===(d=f.board)||void 0===d?void 0:d.url,location:m,pinId:f.id,pinnerUserName:null===(p=f.pinner)||void 0===p?void 0:p.username,previousHistory:v,storyPinDataId:f.story_pin_data_id,trackingParams:f.tracking_params,trackingParamsMap:f.tracking_params_map})||"".concat(f.tracking_params||"","~0"),e.clientTrackingParams=c,4702===s&&a&&(h[a]=c))}}t.logContextEvent(e)},c=new Map,l=(0,o.Z)()&&(0,o.Z)().debug_timespent,_=l?console:{error:function(){},log:function(){},group:function(){},groupEnd:function(){}};return console.group||(_.group=function(){var e;return(e=console).log.apply(e,arguments)},_.groupEnd=function(){}),f=new(function(){var e,r;function n(){var e=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),p(this,"appTimedPair",null),p(this,"clickthroughProperties",null),p(this,"historyStackContext",null),p(this,"offsiteTimedPair",null),p(this,"offsiteTimedPairForegroundId",null),p(this,"pins",Object.freeze({})),p(this,"addEventListeners",function(){"undefined"!==document.hidden?(t="hidden",r="visibilitychange"):"undefined"!==document.msHidden?(t="msHidden",r="msvisibilitychange"):"undefined"!==document.webkitHidden&&(t="webkitHidden",r="webkitvisibilitychange"),r&&document.addEventListener(r,function(r){document[t]?e.unregisterApp(!1,void 0,r):document.hasFocus()&&e.registerApp()},!1),window.addEventListener("focus",e.registerApp),window.addEventListener("blur",function(t){return e.unregisterApp(!1,void 0,t)});var t,r,n=g(function(t){return e.unregisterApp(!0,void 0,t)});window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n);var i=navigator&&navigator.userAgent.toLowerCase();i&&i.includes("macintosh")&&i.includes("chrome")&&window.addEventListener("popstate",function(e){document.hasFocus()||document[t]||(0,a.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),p(this,"storeClickthroughProperties",function(t){e.clickthroughProperties&&(0,a.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:e.clickthroughProperties.view_type,previousViewParameter:e.clickthroughProperties.view_parameter,nextView:t.view_type,nextViewParameter:t.view_parameter}}),e.clickthroughProperties=t}),p(this,"clearClickthroughProperties",function(){e.clickthroughProperties=null,e.offsiteTimedPair=null,e.offsiteTimedPairForegroundId=null}),p(this,"registerApp",function(){_.group("App Foreground",v()),null==e.appTimedPair?(e.appTimedPair=new i.Z,e.appTimedPair.start(),e._unpauseAllComponents(),e._endOffsiteTimedPair(),null!==e.appTimedPair&&void 0!==e.appTimedPair&&s({event_type:4700,pair_id:e.appTimedPair.uuid},e.historyStackContext,e.pins)):_.error("TimedPair already exists for app."),_.groupEnd()}),p(this,"unregisterApp",function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;_.group("App Background",v());var o=e.appTimedPair;if(null!=o){e._pauseAllComponents();var a=o.end();e._startOffsiteTimedPair(),s({event_type:4701,duration_ns:a,pair_id:o.uuid},e.historyStackContext,e.pins),e.appTimedPair=null}else _.error("No TimedPair found for app.");var c=["beforeunload","pagehide"],u=c.includes(null==i?void 0:i.type),d=c.includes(null==i?void 0:i.pauseReason);(u||d)&&e._endOffsiteTimedPair(),n||t.flushContextEvents(null!=r&&r),_.groupEnd()}),p(this,"_activateComponent",function(t){_.group("Activating component",v()),l&&_.log(t.getContext());var r=t.getTimedPair();if(r){r.start();var n=t.getLoggerContext(),i=n.view,o=n.viewParameter,a=n.component,c=n.element,d=n.objectId,p=n.clientTrackingParams;s({event_type:4702,view_type:i,view_parameter:o,component:a,element:c,object_id_str:d,view_data:t.props.viewData,pair_id:r.uuid,clientTrackingParams:p,aux_data:u({time_spent_foreground_pairid:e.appTimedPair&&e.appTimedPair.uuid,time_spent_parent_pairid:t.getParentId()},t.props.auxData)},e.historyStackContext,e.pins)}_.groupEnd()}),p(this,"_deactivateComponent",function(t){_.group("Deactivating component",v()),l&&_.log(t.getContext());var r=t.getTimedPair();if(r){var n=r.view,i=r.viewParameter,o=r.component,a=r.element,c=r.objectId,d=r.clientTrackingParams,p=r.end();s({event_type:4703,view_type:n,view_parameter:i,component:o,element:a,object_id_str:c,view_data:t.props.viewData,duration_ns:p,pair_id:r.uuid,clientTrackingParams:d,aux_data:u({time_spent_foreground_pairid:e.appTimedPair&&e.appTimedPair.uuid,time_spent_parent_pairid:t.getParentId()},t.props.auxData)},e.historyStackContext,e.pins)}_.groupEnd()}),p(this,"_startOffsiteTimedPair",function(){var t=e.clickthroughProperties;t&&(e.offsiteTimedPair=new i.Z(u(u({},t),{},{view:186,viewParameter:t.view_parameter,objectId:t.object_id_str})),e.offsiteTimedPair.start(),e.offsiteTimedPairForegroundId=e.appTimedPair?e.appTimedPair.uuid:null,s(u(u({},t),{},{event_type:4702,view_type:186,pair_id:e.offsiteTimedPair?e.offsiteTimedPair.uuid:null,aux_data:u(u({},t.aux_data),{},{time_spent_foreground_pairid:e.offsiteTimedPairForegroundId})}),e.historyStackContext,e.pins))}),p(this,"_endOffsiteTimedPair",function(){var t=e.offsiteTimedPair,r=e.clickthroughProperties;if(t&&r){var n=t.end();s(u(u({},r),{},{event_type:4703,view_type:186,pair_id:e.offsiteTimedPair?e.offsiteTimedPair.uuid:null,aux_data:u(u({},r.aux_data),{},{time_spent_foreground_pairid:e.offsiteTimedPairForegroundId}),duration_ns:n}),e.historyStackContext,e.pins),e.clearClickthroughProperties()}}),p(this,"_pauseAllComponents",function(){_.group("Pause all components"),c.forEach(function(t,r,n){t===m.ACTIVE&&e._deactivateComponent(r),n.set(r,m.PAUSED)}),_.groupEnd()}),p(this,"_unpauseAllComponents",function(){_.group("Unpause all components"),c.forEach(function(e,t){t.setTimedPair(new i.Z(t.getLoggerContext()))}),c.forEach(function(t,r){c.set(r,m.ACTIVE),e._activateComponent(r)}),_.groupEnd()})}return e=[{key:"setHistoryStackContext",value:function(e){this.historyStackContext=e}},{key:"setPins",value:function(e){this.pins=e}},{key:"registerComponent",value:function(e){null===this.appTimedPair?c.set(e,m.PAUSED):(c.set(e,m.ACTIVE),this._activateComponent(e))}},{key:"unregisterComponent",value:function(e){c.get(e)===m.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new i.Z(e.getLoggerContext()))),c.delete(e)}},{key:"size",value:function(){return c.size}}],d(n.prototype,e),r&&d(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}())}},790123:function(e,t,r){r.d(t,{j:function(){return f},w:function(){return l}});var n=r(407043),i=r(425288),o=r(780280),a=r(433780),s=r(50286),c=r(829407),u=r(515198),d=(0,i.Z)("TimeSpentManagerContext"),p=d.Provider,l=d.useMaybeHook;function f(e){var t=e.children,r=(0,n.v)(),i=(0,s.HG)(),d=(0,o.B)().isAuthenticated,l=(0,a.w)({contextLogger:r,shouldExtractTrackingParams:i&&d});return(0,c.Z)(function(){document.hasFocus()&&l.registerApp(),l.addEventListeners()}),(0,u.jsx)(p,{value:l,children:t})}},245474:function(e,t,r){var n,i,o,a=r(353356),s=r(619025);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var l="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor(1e6*window.performance.now())}:function(){return 1e6*Date.now()},f=(n=function e(t){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),d(this,"start",function(){return r.startTime=l(),r.startTime}),d(this,"end",function(){return r.endTime=l(),r.duration=r.startTime?r.endTime-r.startTime:null,r.duration});try{this.uuid=(0,a.Z)()}catch(e){this.uuid=(0,s.Z)()}t&&Object.assign(this,t)},i&&u(n.prototype,i),o&&u(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n);t.Z=f},619025:function(e,t,r){var n,i,o=r(609154),a=r(833118),s=0,c=0;t.Z=function(e,t,r){var u=t&&r||0,d=t||Array(16),p=(e=e||{}).node||n,l=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==l){var f=e.random||(e.rng||o.Z)();null==p&&(p=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=i=(f[6]<<8|f[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:c+1,g=m-s+(v-c)/1e4;if(g<0&&void 0===e.clockseq&&(l=l+1&16383),(g<0||m>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,c=v,i=l;var h=((268435455&(m+=122192928e5))*1e4+v)%4294967296;d[u++]=h>>>24&255,d[u++]=h>>>16&255,d[u++]=h>>>8&255,d[u++]=255&h;var _=m/4294967296*1e4&268435455;d[u++]=_>>>8&255,d[u++]=255&_,d[u++]=_>>>24&15|16,d[u++]=_>>>16&255,d[u++]=l>>>8|128,d[u++]=255&l;for(var y=0;y<6;++y)d[u+y]=p[y];return t||(0,a.Z)(d)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90123-0485c2c9980f04d1.js.map